var Zt=Object.defineProperty;var Qt=(t,e,s)=>e in t?Zt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var Z=(t,e,s)=>Qt(t,typeof e!="symbol"?e+"":e,s);import{r as es,g as wt,a as ts,b as A,u as Ze,c as ss,L as ue,O as ns,d as Nt,e as rs,f as le,H as is,h as os,R as ls}from"./react-D4xWmHHw.js";import{F as Y,f as kt,S as J,r as as,a as cs,b as us,c as fs,d as ms,e as ds,L as fe,g as hs,h as _s,i as ps,j as gs,k as Ge,l as xs,m as bs,n as ys,o as vs,p as Ct,q as js,s as Ss,t as ws,u as at,v as ct,w as ke,x as Ce,y as $e,z as Re,A as $t,B as Rt,C as Et,D as Ns,O as ks}from"./vendor-DPZWhiY0.js";import{d as At,a as Cs,b as $s,c as Rs,o as Tt,l as Ee,e as Es,s as ut,i as Oe,f as As,g as Ts,h as Ms,j as Ls,q as Ps}from"./d3-DfGPKUIz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();var Be={exports:{}},_e={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ft;function Ds(){if(ft)return _e;ft=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var a in r)a!=="key"&&(o[a]=r[a])}else o=r;return r=o.ref,{$$typeof:t,type:n,key:l,ref:r!==void 0?r:null,props:o}}return _e.Fragment=e,_e.jsx=s,_e.jsxs=s,_e}var mt;function Is(){return mt||(mt=1,Be.exports=Ds()),Be.exports}var i=Is();Array.prototype.sortKey||(Array.prototype.sortKey=function(t){return this.sort((e,s)=>{const n=t(e),r=t(s);if(Array.isArray(n)&&Array.isArray(r)){for(let o=0;o<Math.min(n.length,r.length);o++){if(n[o]<r[o])return-1;if(n[o]>r[o])return 1}return 0}return n<r?-1:n>r?1:0})});var Fs=es();const Vs=wt(Fs);var Xe={exports:{}},Ue={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt;function Os(){if(dt)return Ue;dt=1;var t=ts().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Ue.c=function(e){return t.H.useMemoCache(e)},Ue}var ht;function Bs(){return ht||(ht=1,Xe.exports=Os()),Xe.exports}var X=Bs();function Xs(t){const e=X.c(15),{message:s,onDismiss:n,isVisible:r}=t,[o,l]=A.useState(r);let a,c;if(e[0]!==r?(a=()=>{if(r){l(!0);return}else{const v=setTimeout(()=>{l(!1)},300);return()=>clearTimeout(v)}},c=[r],e[0]=r,e[1]=a,e[2]=c):(a=e[1],c=e[2]),A.useEffect(a,c),!o)return null;const u=`notification ${r?"notification--visible":"notification--hidden"}`;let m;e[3]!==s?(m=i.jsx("div",{className:"notification__content",children:s}),e[3]=s,e[4]=m):m=e[4];let f;e[5]!==n?(f=v=>{v.stopPropagation(),n()},e[5]=n,e[6]=f):f=e[6];let h;e[7]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsx(Y,{icon:kt}),e[7]=h):h=e[7];let d;e[8]!==f?(d=i.jsx("button",{className:"notification__close",onClick:f,"aria-label":"Close notification",children:h}),e[8]=f,e[9]=d):d=e[9];let y;return e[10]!==n||e[11]!==u||e[12]!==m||e[13]!==d?(y=i.jsxs("div",{className:u,onClick:n,children:[m,d]}),e[10]=n,e[11]=u,e[12]=m,e[13]=d,e[14]=y):y=e[14],y}const Mt=A.createContext(null);function Us(t){const e=X.c(14),{children:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[r,o]=A.useState(n);let l;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=new Map,e[1]=l):l=e[1];const a=A.useRef(l),c=A.useRef(0);let u;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=j=>{clearTimeout(a.current.get(j)),a.current.delete(j),o(w=>w.filter(R=>R.id!==j))},e[2]=u):u=e[2];const m=u;let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=(j,w)=>{const R=c.current=c.current+1,$={id:R,message:j,duration:w};if(o(N=>[...N,$]),w!==null){const N=setTimeout(()=>{m(R)},w);a.current.set(R,N)}return R},e[3]=f):f=e[3];const h=f;let d;e[4]===Symbol.for("react.memo_cache_sentinel")?(d=(j,w,R)=>{if(o($=>$.map(N=>N.id===j?{...N,message:w,duration:R}:N)),R!==null){clearTimeout(a.current.get(j));const $=setTimeout(()=>{m(j)},R);a.current.set(j,$)}},e[4]=d):d=e[4];const y=d;let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v={addNotification:h,updateNotification:y,dismissNotification:m},e[5]=v):v=e[5];let x;if(e[6]!==r){let j;e[8]===Symbol.for("react.memo_cache_sentinel")?(j=(w,R)=>i.jsx("div",{className:"notification-wrapper",style:{top:`${20+R*80}px`},children:i.jsx(Xs,{message:w.message,isVisible:!0,onDismiss:()=>m(w.id)})},w.id),e[8]=j):j=e[8],x=r.map(j),e[6]=r,e[7]=x}else x=e[7];let _;e[9]!==x?(_=i.jsx("div",{className:"notifications",children:x}),e[9]=x,e[10]=_):_=e[10];let b;return e[11]!==s||e[12]!==_?(b=i.jsxs(Mt.Provider,{value:v,children:[s,_]}),e[11]=s,e[12]=_,e[13]=b):b=e[13],b}function Ks(){const t=A.useContext(Mt);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t}function Qe(){const t=X.c(2),[e,s]=A.useState(!1);let n,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{const o=function(){s(window.matchMedia("(max-width: 768px)").matches)};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},r=[],t[0]=n,t[1]=r):(n=t[0],r=t[1]),A.useEffect(n,r),e}function he(t){const e=X.c(9),{value:s,onChange:n,options:r,disabled:o}=t,l=o===void 0?!1:o,a=Qe();console.assert(J(r.map(Ws)).size===r.length);const c=`toggle ${l?"toggle--disabled":""}`;let u;e[0]!==l||e[1]!==a||e[2]!==n||e[3]!==r||e[4]!==s?(u=r.map(f=>i.jsx("button",{className:`toggle__button${s===f.value?" toggle__button--active":""} ${l?"toggle__button--disabled":""}`,onClick:()=>{if(!l)if(r.length==2&&s===f.value){const h=r.find(d=>d.value!==f.value).value;n(h)}else n(f.value)},children:a?f.mobileContent??f.content:f.content},String(f.value))),e[0]=l,e[1]=a,e[2]=n,e[3]=r,e[4]=s,e[5]=u):u=e[5];let m;return e[6]!==c||e[7]!==u?(m=i.jsx("div",{className:c,children:u}),e[6]=c,e[7]=u,e[8]=m):m=e[8],m}function Ws(t){return t.value}class Lt{constructor(e,s,n,r,o){Z(this,"createdAt");this.name=e,this.valueName=s,this.predicate=n,this.key=r,this.extraData=o,this.createdAt=Date.now()}}const Pt=A.createContext(void 0);function Ys(t){const e=X.c(18),{children:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=["covering",new Map],e[0]=n):n=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=new Map([n,["rolling",new Map]]),e[1]=r):r=e[1];const[o,l]=A.useState(r),[a,c]=A.useState("covering");let u;e[2]!==o||e[3]!==a?(u=o.get(a)||new Map,e[2]=o,e[3]=a,e[4]=u):u=e[4];const m=u;let f;e[5]!==a?(f=b=>{l(j=>{const w=new Map(j);return w.set(a,b),w})},e[5]=a,e[6]=f):f=e[6];const h=f;let d;e[7]!==m||e[8]!==h?(d=b=>{const j=new Map(m),R=(j.get(b)||[]).filter($=>$.key!==b);R.length===0?j.delete(b):j.set(b,R),h(j)},e[7]=m,e[8]=h,e[9]=d):d=e[9];const y=d;let v;e[10]!==m||e[11]!==a||e[12]!==y||e[13]!==h?(v={filters:m,setFilters:h,removeFilter:y,observationCategory:a,setObservationCategory:c},e[10]=m,e[11]=a,e[12]=y,e[13]=h,e[14]=v):v=e[14];const x=v;let _;return e[15]!==s||e[16]!==x?(_=i.jsx(Pt.Provider,{value:x,children:s}),e[15]=s,e[16]=x,e[17]=_):_=e[17],_}function Pe(){const t=A.useContext(Pt);if(t===void 0)throw new Error("useFilters must be used within a FilterProvider");return t}const Dt=A.createContext(null);function Hs(t){const e=X.c(8),{state:s}=t;if(!s.visible)return null;const n=`${s.x+10}px`,r=`${s.y-28}px`;let o;e[0]!==n||e[1]!==r?(o={position:"fixed",left:n,top:r,display:"block",pointerEvents:"none",zIndex:9999},e[0]=n,e[1]=r,e[2]=o):o=e[2];let l;e[3]!==s.content?(l={__html:s.content},e[3]=s.content,e[4]=l):l=e[4];let a;return e[5]!==o||e[6]!==l?(a=ss.createPortal(i.jsx("div",{className:"cursor-tooltip",style:o,dangerouslySetInnerHTML:l}),document.body),e[5]=o,e[6]=l,e[7]=a):a=e[7],a}function zs(t){const e=X.c(15),{children:s}=t,n=Ze();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={visible:!1,content:"",x:0,y:0,owner:null},e[0]=r):r=e[0];const[o,l]=A.useState(r);let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{l(Gs)},e[1]=a):a=e[1];let c;e[2]!==n.pathname?(c=[n.pathname],e[2]=n.pathname,e[3]=c):c=e[3],A.useEffect(a,c);let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=(j,w,R,$)=>{l({visible:!0,content:j,x:w,y:R,owner:$})},e[4]=u):u=e[4];const m=u;let f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=j=>{l(w=>w.owner===j?{...w,visible:!1,owner:null}:w)},e[5]=f):f=e[5];const h=f;let d;e[6]===Symbol.for("react.memo_cache_sentinel")?(d=(j,w,R)=>{l($=>$.visible&&$.owner===R&&($.x!==j||$.y!==w)?{...$,x:j,y:w}:$)},e[6]=d):d=e[6];const y=d;let v;e[7]!==o.visible?(v={showTooltip:m,hideTooltip:h,moveTooltip:y,visible:o.visible},e[7]=o.visible,e[8]=v):v=e[8];const x=v;let _;e[9]!==o?(_=i.jsx(Hs,{state:o}),e[9]=o,e[10]=_):_=e[10];let b;return e[11]!==s||e[12]!==x||e[13]!==_?(b=i.jsxs(Dt.Provider,{value:x,children:[s,_]}),e[11]=s,e[12]=x,e[13]=_,e[14]=b):b=e[14],b}function Gs(t){return{...t,visible:!1,owner:null}}function De(){const t=A.useContext(Dt);if(!t)throw new Error("useTooltip must be used within a TooltipProvider");return t}var qs=as();const ve=wt(qs);function It(t,e=0){return Array.from(t).reduce((s,n)=>s+n,e)}function Ft(t,e=!1){t.current&&(e&&t.current.querySelectorAll("code").forEach(s=>{s.removeAttribute("data-highlighted")}),t.current.querySelectorAll("code:not([data-highlighted='yes'])").forEach(s=>{ve.highlightElement(s)}))}function be(t,e){if(e){let s=null,n=null;for(let r=0;r<t.length;r++){const o=t[r],l=e(o);l!=null&&(n===null||l>n)&&(n=l,s=o)}return s}else{let s=null;for(let n=0;n<t.length;n++){const r=t[n];r!=null&&(s===null||r>s)&&(s=r)}return s}}function Js(t,e){{let s=null;for(let n=0;n<t.length;n++){const r=t[n];r!=null&&(s===null||r<s)&&(s=r)}return s}}function Ke(t,e,s){let n=0,r=t.length;for(;n<r;){const o=n+r>>>1;(s?s(t[o])<=e:t[o]<=e)?n=o+1:r=o}return n}let pe=null;function Zs(){return pe||(pe=document.createElement("div"),pe.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: nowrap;
      top: -9999px;
      left: -9999px;
      pointer-events: none;
      z-index: -1;
    `,document.body.appendChild(pe)),pe}function We(t,e=""){const s=Zs();s.className=e,s.textContent=t;const n=s.getBoundingClientRect();return{width:n.width,height:n.height}}function Vt(t,e,s){if(t.metaKey||t.ctrlKey){const n=window.location,r=`${n.origin}${n.pathname}#${e}`;window.open(r,"_blank")}else s(e)}function Ot(t){return t.split("::").pop()||t}const ne={select:At,scaleLinear:Ee,scaleOrdinal:Tt,scaleBand:Rs,axisBottom:$s,axisLeft:Cs};class Bt{constructor(e,s){this.key=e,this.name=s}getValue(e){return e.features.get(this.name)}}class Qs extends Bt{constructor(){super(...arguments);Z(this,"isSystem",!1)}}class en extends Bt{constructor(s,n,r){super(s,n);Z(this,"isSystem",!0);this.key=s,this.name=n,this.value=r}getValue(s){return this.value(s)}}const _t=5,se=2.5;function tn(t){const e=X.c(44),{feature:s,observations:n}=t,r=A.useRef(null),o=A.useRef(null),{filters:l,setFilters:a}=Pe(),{showTooltip:c,hideTooltip:u,moveTooltip:m}=De();let f;e[0]!==s.key||e[1]!==l?(f=function(){const p=l.get(s.key)||[];if(p.length===0)return J();console.assert(p.length===1);const S=p[0];return J(S.extraData.selectedValues)},e[0]=s.key,e[1]=l,e[2]=f):f=e[2];const h=f;let d;e[3]!==h?(d=h(),e[3]=h,e[4]=d):d=e[4];const y=d;let v;e[5]!==n.raw?(v=n.raw.filter(cn),e[5]=n.raw,e[6]=v):v=e[6];let x;e[7]!==n.filtered?(x=n.filtered.filter(an),e[7]=n.filtered,e[8]=x):x=e[8];let _;e[9]!==v||e[10]!==x?(_={raw:v,filtered:x},e[9]=v,e[10]=x,e[11]=_):_=e[11];const b=_;let j;e[12]!==s||e[13]!==l||e[14]!==y||e[15]!==a?(j=T=>{let p=J();y.equals(J([T]))?p=J():p=J([T]);let S;p.size===1?S=p.first():S=p.map(ln).join(" or ");const g=[];p.size>0&&g.push(new Lt(s.name,S,M=>p.some(V=>V===s.getValue(M)),`nominal-${s.key}`,{selectedValues:p}));const k=new Map(l);k.set(s.key,g),a(k)},e[12]=s,e[13]=l,e[14]=y,e[15]=a,e[16]=j):j=e[16];const w=j;let R;e[17]!==s||e[18]!==b.filtered||e[19]!==b.raw||e[20]!==u||e[21]!==m||e[22]!==w||e[23]!==y||e[24]!==c?(R=()=>{if(b.filtered.length==0)return;const T=J(b.raw.map(C=>s.getValue(C)));let p=new Map;for(const C of b.filtered){const B=s.getValue(C);p.set(B,(p.get(B)||0)+1)}const S=It(Array.from(p.values()));p=new Map([...p.entries()].sortKey(on)),ne.select(o.current).selectAll("*").remove();const g=r.current.clientWidth,k=T.size<_t?85:170,M=ne.select(o.current).attr("width",g).attr("height",k).append("g"),V=function(C,B){const[O,I]=B;c(`${s.name}<br>${O}: ${I}`,C.clientX,C.clientY,"tyche-nominal")};if(T.size<_t){const C={top:0,right:15,bottom:20,left:10},B=g-C.left-C.right,O=k-C.top-C.bottom,I=ne.scaleLinear().domain([0,1]).range([0,B]);let F;p.has(Ie)||p.has(Fe)?F=rn:F=ne.scaleOrdinal().domain(T).range([Q.PRIMARY,Q.ACCENT,Q.ACCENT2,Q.ACCENT3,Q.ACCENT4]);const W=M.append("g").attr("transform",`translate(${C.left},${C.top})`);let K=0;const U=O-C.bottom;p.forEach((H,z)=>{const G=H/S*B,ee=y.has(z);W.append("rect").attr("x",K).attr("y",0).attr("width",G).attr("height",U).attr("fill",F(z)).style("cursor","pointer").on("click",()=>w(z)).on("mouseover",te=>{V(te,[z,H])}).on("mousemove",te=>m(te.clientX,te.clientY,"tyche-nominal")).on("mouseleave",()=>u("tyche-nominal")),ee&&W.append("rect").attr("x",K+se).attr("y",se).attr("width",G-2*se).attr("height",U-2*se).attr("fill",F(z)).attr("stroke","white").attr("stroke-width",se).style("pointer-events","none"),W.append("text").attr("x",K+G/2).attr("y",U/2).attr("text-anchor","middle").attr("dominant-baseline","central").attr("fill","white").text(z).style("font-size","14px").style("font-weight","bold"),K=K+G}),W.append("g").attr("transform",`translate(0,${U})`).call(ne.axisBottom(I).tickFormat(nn)),W.append("text").attr("x",B/2).attr("y",U+35).attr("text-anchor","middle").text("% of observations").style("font-size","13px")}else{const C={top:5,right:5,bottom:30,left:10},B=g-C.left-C.right,O=k-C.top-C.bottom,I=ne.scaleBand().domain(Array.from(p.keys())).range([0,B]).padding(.2),F=ne.scaleLinear().domain([0,be(Array.from(p.values()))||0]).range([O,0]),W=M.append("g").attr("transform",`translate(${C.left},${C.top})`);W.selectAll(".bar").data(Array.from(p.entries())).enter().append("rect").attr("class","bar").attr("x",K=>{const[U]=K;return I(U)||0}).attr("y",K=>{const[,U]=K;return F(U)}).attr("width",I.bandwidth()).attr("height",K=>{const[,U]=K;return O-F(U)}).attr("fill",Q.PRIMARY).style("cursor","pointer").on("click",function(K,U){const[H]=U;w(H)}).on("mouseover",function(K,U){V(K,U)}).on("mousemove",K=>m(K.clientX,K.clientY,"tyche-nominal")).on("mouseleave",()=>u("tyche-nominal")),W.selectAll(".inner-bar").data(Array.from(p.entries()).filter(K=>{const[U]=K;return y.has(U)})).enter().append("rect").attr("class","inner-bar").attr("x",K=>{const[U]=K;return(I(U)||0)+se}).attr("y",K=>{const[,U]=K;return F(U)+se}).attr("width",I.bandwidth()-2*se).attr("height",K=>{const[,U]=K;return O-F(U)-2*se}).attr("fill",Q.PRIMARY).attr("stroke","white").attr("stroke-width",se).style("pointer-events","none"),W.append("g").attr("transform",`translate(0,${O})`).call(ne.axisBottom(I)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),W.append("g").call(ne.axisLeft(F).ticks(7).tickFormat(sn)),W.append("text").attr("transform","rotate(-90)").attr("y",-30).attr("x",-O/2).attr("text-anchor","middle").text("Count").style("font-size","12px")}},e[17]=s,e[18]=b.filtered,e[19]=b.raw,e[20]=u,e[21]=m,e[22]=w,e[23]=y,e[24]=c,e[25]=R):R=e[25];let $;if(e[26]!==s||e[27]!==b||e[28]!==u||e[29]!==m||e[30]!==w||e[31]!==y||e[32]!==c?($=[b,s,u,m,w,y,c],e[26]=s,e[27]=b,e[28]=u,e[29]=m,e[30]=w,e[31]=y,e[32]=c,e[33]=$):$=e[33],A.useEffect(R,$),b.filtered.length==0)return null;let N;e[34]!==s.isSystem?(N=s.isSystem&&i.jsxs("span",{className:"tooltip",children:[i.jsx(Y,{icon:cs,className:"tyche__nominal__feature__icon"}),i.jsx("span",{className:"tooltip__text",children:"This feature is generated automatically for all tests"})]}),e[34]=s.isSystem,e[35]=N):N=e[35];let E;e[36]!==s.name?(E=i.jsx("span",{className:"tyche__nominal__feature__text",children:s.name}),e[36]=s.name,e[37]=E):E=e[37];let L;e[38]!==E||e[39]!==N?(L=i.jsxs("div",{className:"tyche__nominal__feature",children:[N,E]}),e[38]=E,e[39]=N,e[40]=L):L=e[40];let P;e[41]===Symbol.for("react.memo_cache_sentinel")?(P=i.jsx("div",{ref:r,className:"tyche__nominal__chart",children:i.jsx("svg",{ref:o,style:{width:"100%"}})}),e[41]=P):P=e[41];let D;return e[42]!==L?(D=i.jsxs("div",{children:[L,P]}),e[42]=L,e[43]=D):D=e[43],D}function sn(t){return Math.round(Number(t)).toString()}function nn(t){return`${Math.round(Number(t)*100)}%`}function rn(t){return t===Ie?Q.SUCCESS:t===Fe?Q.ERROR:Q.PRIMARY}function on(t){const[e]=t;return e===Ie?0:e===Fe?1:e}function ln(t){return`${t}`}function an(t){return t.status!=="gave_up"}function cn(t){return t.status!=="gave_up"}function et(t){const e=X.c(17),{title:s,children:n,defaultState:r,onStateChange:o,headerClass:l,contentClass:a}=t,c=r===void 0?"open":r,u=l===void 0?"":l,m=a===void 0?"":a,[f,h]=A.useState(c);let d;e[0]!==o||e[1]!==f?(d=()=>{const w=f==="open"?"closed":"open";h(w),o==null||o(w)},e[0]=o,e[1]=f,e[2]=d):d=e[2];const y=d,v=`collapsible__header ${u}`;let x;e[3]!==f?(x=i.jsx("span",{className:"collapsible__toggle",children:f==="open"?i.jsx(Y,{icon:us}):i.jsx(Y,{icon:fs})}),e[3]=f,e[4]=x):x=e[4];let _;e[5]!==v||e[6]!==x||e[7]!==s||e[8]!==y?(_=i.jsxs("div",{className:v,onClick:y,children:[x,s]}),e[5]=v,e[6]=x,e[7]=s,e[8]=y,e[9]=_):_=e[9];let b;e[10]!==n||e[11]!==m||e[12]!==f?(b=f==="open"&&i.jsx("div",{className:`${m}`,children:n}),e[10]=n,e[11]=m,e[12]=f,e[13]=b):b=e[13];let j;return e[14]!==_||e[15]!==b?(j=i.jsxs("div",{children:[_,b]}),e[14]=_,e[15]=b,e[16]=j):j=e[16],j}function tt(t){const e=X.c(5),{title:s,children:n,defaultState:r,onStateChange:o}=t,l=r===void 0?"open":r;let a;return e[0]!==n||e[1]!==l||e[2]!==o||e[3]!==s?(a=i.jsx("div",{className:"tyche__section",children:i.jsx(et,{title:s,defaultState:l,onStateChange:o,headerClass:"tyche__section__header",contentClass:"tyche__section__content",children:n})}),e[0]=n,e[1]=l,e[2]=o,e[3]=s,e[4]=a):a=e[4],a}const un="__hypofuzz_stability";function fn(t){const e=X.c(12),{observations:s,observationCategory:n}=t;let r,o,l,a;if(e[0]!==n||e[1]!==s){a=Symbol.for("react.early_return_sentinel");e:{const u=new Set;s.raw.forEach(h=>{for(const d of h.features.keys())d.startsWith("Retried draw from")||u.add(d)});const m=Array.from(u).map(hn);if(n=="rolling"&&m.push(new en(un,"Stability",dn)),m.length===0){a=null;break e}r=tt,o="Features";let f;e[6]!==s?(f=h=>i.jsx(tn,{feature:h,observations:s}),e[6]=s,e[7]=f):f=e[7],l=Array.from(m).sortKey(mn).map(f)}e[0]=n,e[1]=s,e[2]=r,e[3]=o,e[4]=l,e[5]=a}else r=e[2],o=e[3],l=e[4],a=e[5];if(a!==Symbol.for("react.early_return_sentinel"))return a;let c;return e[8]!==r||e[9]!==o||e[10]!==l?(c=i.jsx(r,{title:o,children:l}),e[8]=r,e[9]=o,e[10]=l,e[11]=c):c=e[11],c}function mn(t){return t.name}function dn(t){return t.stability??"unknown"}function hn(t){return new Qs(t,t)}function _n(){const t=X.c(7),{filters:e,removeFilter:s}=Pe();let n,r;if(t[0]!==e||t[1]!==s){r=Symbol.for("react.early_return_sentinel");e:{const o=Array.from(e.values()).flat().sortKey(pn);if(o.length===0){r=null;break e}let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx("div",{className:"tyche__filters__title",children:"Current Filters"}),t[4]=l):l=t[4];let a;t[5]!==s?(a=c=>i.jsxs("div",{className:"tyche__filters__filter",children:[i.jsxs("div",{className:"tyche__filters__filter__name",children:[i.jsx("div",{className:"tyche__filters__filter__remove",onClick:()=>s(c.key),children:i.jsx(Y,{icon:kt})}),c.name]}),i.jsx("div",{className:"tyche__filters__filter__value-name",children:c.valueName})]},c.key),t[5]=s,t[6]=a):a=t[6],n=i.jsxs("div",{className:"tyche__filters",children:[l,o.map(a)]})}t[0]=e,t[1]=s,t[2]=n,t[3]=r}else n=t[2],r=t[3];return r!==Symbol.for("react.early_return_sentinel")?r:n}function pn(t){return t.createdAt}function Xt(t){const e=t.regex,s=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},m={begin:/\{\{/,relevance:0},f={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c,m,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c,m,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,m,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,m,u]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},h="[0-9](_?[0-9])*",d=`(\\b(${h}))?\\.(${h})|\\b(${h})\\.`,y=`\\b|${n.join("|")}`,v={className:"number",relevance:0,variants:[{begin:`(\\b(${h})|(${d}))[eE][+-]?(${h})[jJ]?(?=${y})`},{begin:`(${d})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${y})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${y})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${y})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${y})`},{begin:`\\b(${h})[jJ](?=${y})`}]},x={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},_={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",c,v,f,t.HASH_COMMENT_MODE]}]};return u.contains=[f,v,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[c,v,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},f,x,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,s],scope:{1:"keyword",3:"title.function"},contains:[_]},{variants:[{match:[/\bclass/,/\s+/,s,/\s*/,/\(\s*/,s,/\s*\)/]},{match:[/\bclass/,/\s+/,s]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[v,_,f]}]}}function pt(t){const e=X.c(31),{currentPage:s,pageCount:n,onPageChange:r}=t;console.assert(n>1);let o;e[0]!==s||e[1]!==n?(o=function(){return n<=7?Array.from({length:n},gn):s<=3?[0,1,2,3,4,"ellipsis",n-1]:s>=n-4?[0,"ellipsis",n-5,n-4,n-3,n-2,n-1]:[0,"ellipsis",s-1,s,s+1,"ellipsis",n-1]},e[0]=s,e[1]=n,e[2]=o):o=e[2];const l=o;let a;e[3]!==l?(a=l(),e[3]=l,e[4]=a):a=e[4];const c=a;let u;e[5]!==s||e[6]!==r?(u=function(E){typeof E=="number"&&s!==E&&r(E)},e[5]=s,e[6]=r,e[7]=u):u=e[7];const m=u;let f;e[8]!==s||e[9]!==r?(f=function(){s>0&&r(s-1)},e[8]=s,e[9]=r,e[10]=f):f=e[10];const h=f;let d;e[11]!==s||e[12]!==r||e[13]!==n?(d=function(){s<n-1&&r(s+1)},e[11]=s,e[12]=r,e[13]=n,e[14]=d):d=e[14];const y=d,v=`pagination__nav pagination__nav--left ${s===0?"pagination__nav--disabled":""}`;let x;e[15]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(Y,{icon:ms}),e[15]=x):x=e[15];let _;e[16]!==h||e[17]!==v?(_=i.jsx("div",{className:v,onClick:h,children:x}),e[16]=h,e[17]=v,e[18]=_):_=e[18];let b;e[19]!==s||e[20]!==m||e[21]!==c?(b=c.map((N,E)=>{if(N==="ellipsis")return i.jsx("div",{className:" pagination__ellipsis",children:"..."},`ellipsis-${E}`);const L=N===s;return i.jsx("div",{className:`pagination__number ${L?"pagination__number--current":""}`,onClick:()=>m(N),children:N+1},N)}),e[19]=s,e[20]=m,e[21]=c,e[22]=b):b=e[22];const j=`pagination__nav pagination__nav--right ${s===n-1?"pagination__nav--disabled":""}`;let w;e[23]===Symbol.for("react.memo_cache_sentinel")?(w=i.jsx(Y,{icon:ds}),e[23]=w):w=e[23];let R;e[24]!==y||e[25]!==j?(R=i.jsx("div",{className:j,onClick:y,children:w}),e[24]=y,e[25]=j,e[26]=R):R=e[26];let $;return e[27]!==R||e[28]!==_||e[29]!==b?($=i.jsxs("div",{className:"pagination",children:[_,b,R]}),e[27]=R,e[28]=_,e[29]=b,e[30]=$):$=e[30],$}function gn(t,e){return e}ve.registerLanguage("python",Xt);const Ye=30;function xn(t){const e=X.c(36),{observations:s,observationCategory:n}=t,r=A.useRef(null),[o,l]=A.useState(0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{l(0)},e[0]=a):a=e[0];let c;e[1]!==n?(c=[n],e[1]=n,e[2]=c):c=e[2],A.useEffect(a,c);let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=function(){r.current&&r.current.querySelectorAll("code:not([data-highlighted='yes'])").forEach(vn)},e[3]=u):u=e[3];const m=u;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{m()},e[4]=f):f=e[4];let h;e[5]!==s||e[6]!==o?(h=[s,o],e[5]=s,e[6]=o,e[7]=h):h=e[7],A.useEffect(f,h);let d,y,v,x,_,b,j,w;if(e[8]!==s.filtered||e[9]!==o){const E=new Map;s.filtered.forEach(P=>{const D=P.representation;E.set(D,(E.get(D)||0)+1)}),y=Math.ceil(E.size/Ye);const L=Array.from(E.entries()).sortKey(yn).slice(o*Ye,(o+1)*Ye);d=tt,w="String representations",v="closed",e[18]===Symbol.for("react.memo_cache_sentinel")?(x=P=>{P==="open"&&requestAnimationFrame(()=>{m()})},e[18]=x):x=e[18],_=r,e[19]!==o||e[20]!==y?(b=y>1&&i.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12px"},children:i.jsx(pt,{currentPage:o,pageCount:y,onPageChange:l})}),e[19]=o,e[20]=y,e[21]=b):b=e[21],j=L.map(bn),e[8]=s.filtered,e[9]=o,e[10]=d,e[11]=y,e[12]=v,e[13]=x,e[14]=_,e[15]=b,e[16]=j,e[17]=w}else d=e[10],y=e[11],v=e[12],x=e[13],_=e[14],b=e[15],j=e[16],w=e[17];let R;e[22]!==o||e[23]!==y?(R=y>1&&i.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"12px"},children:i.jsx(pt,{currentPage:o,pageCount:y,onPageChange:l})}),e[22]=o,e[23]=y,e[24]=R):R=e[24];let $;e[25]!==R||e[26]!==_||e[27]!==b||e[28]!==j?($=i.jsxs("div",{ref:_,children:[b,j,R]}),e[25]=R,e[26]=_,e[27]=b,e[28]=j,e[29]=$):$=e[29];let N;return e[30]!==d||e[31]!==v||e[32]!==x||e[33]!==$||e[34]!==w?(N=i.jsx(d,{title:w,defaultState:v,onStateChange:x,children:$}),e[30]=d,e[31]=v,e[32]=x,e[33]=$,e[34]=w,e[35]=N):N=e[35],N}function bn(t){const[e,s]=t;return i.jsxs("div",{style:{position:"relative"},className:"tyche__representation__example",children:[i.jsx("pre",{children:i.jsx("code",{className:"language-python",children:e})}),s>1&&i.jsxs("div",{className:"tyche__representation__example__count",children:["x ",s]})]},e)}function yn(t){const[,e]=t;return-e}function vn(t){ve.highlightElement(t)}const gt=640;function jn({name:t,observations:e,verticalAxis:s,horizontalAxis:n,cssStyle:r=(o,l)=>({})}){const{filters:o,setFilters:l}=Pe(),{showTooltip:a,hideTooltip:c,moveTooltip:u}=De();function m(){const p=o.get(t)||[];if(p.length===0)return J();console.assert(p.length===1);const S=p[0];return J(S.extraData.selectedCells)}const f=m(),h=[],d=Array(s.length).fill(0),y=Array(n.length).fill(0);let v=0;for(let p=0;p<s.length;p++){h[p]=[];for(let S=0;S<n.length;S++)h[p][S]={count:0,widthPercent:0}}e.filtered.forEach(p=>{for(let S=0;S<s.length;S++){const[,g]=s[S];if(g(p)){for(let k=0;k<n.length;k++){const[,M]=n[k];if(M(p)){h[S][k].count++,d[S]++,y[k]++,v++;break}}break}}});const x=d.map((p,S)=>p>0?S:null).filter(p=>p!==null),_=y.map((p,S)=>p>0?S:null).filter(p=>p!==null),b=(p,S)=>{let g=J();if(p!==null&&S!==null){const C=fe([p,S]);f.equals(J([C]))?g=J():g=J([C])}else p!==null?(console.assert(S===null),_.forEach(C=>{h[p][C].count>0&&(g=g.add(fe([p,C])))})):S!==null&&(console.assert(p===null),x.forEach(C=>{h[C][S].count>0&&(g=g.add(fe([C,S])))}));function k(){if(g.size===0)return"";let C=g;const B=[],O=[...x.map(I=>({name:s[I][0],cells:_.filter(F=>h[I][F].count>0).map(F=>fe([I,F]))})),..._.map(I=>({name:n[I][0],cells:x.filter(F=>h[F][I].count>0).map(F=>fe([F,I]))}))];for(const I of O)I.cells.length>0&&I.cells.every(F=>C.has(F))&&(B.push(I.name),C=C.subtract(J(I.cells)));for(;C.size>0;){const I=C.first(),[F,W]=I.toArray();B.push(`${s[F][0]}+${n[W][0]}`),C=C.delete(I)}return console.assert(C.size==0),B.join(" or ")}const M=[];g.size>0&&M.push(new Lt(t,k(),C=>g.some(B=>{const[O,I]=B.toArray(),F=s[O][1],W=n[I][1];return F(C)&&W(C)}),t,{selectedCells:g}));const V=new Map(o);V.set(t,M),l(V)},j=Math.max(...x.map(p=>We(s[p][0],"tyche__mosaic__row-header").width)),w=Math.max(..._.map(p=>We(n[p][0],"tyche__mosaic__column-header").height)),R=Math.max(...x.map(p=>We(d[p].toString(),"tyche__mosaic__row-total").width));if(x.length===0||_.length===0)return i.jsx("div",{children:"No observations"});const $=30,N=30,E=45*x.length;for(let p=0;p<s.length;p++)for(let S=0;S<n.length;S++)h[p][S].widthPercent=d[p]>0?h[p][S].count/d[p]*100:0;const P=x.map(p=>d[p]/v*E).map(p=>Math.max(p,N)),D=_.map((p,S)=>S===0?0:S===_.length-1?100:S/(_.length-1)*100),T=gt-j-R;return x.forEach(p=>{const S=_.map(k=>h[p][k]);if(S.reduce((k,M)=>k+M.widthPercent,0)>0){const M=S.map(C=>C.widthPercent/100*T).map((C,B)=>S[B].count>0&&C>0&&C<$?$:C),V=M.reduce((C,B)=>C+B,0);_.forEach((C,B)=>{h[p][C].widthPercent=V>0?M[B]/V*100:0})}}),i.jsxs("div",{className:"tyche__mosaic__container",style:{maxWidth:`${gt}px`},children:[i.jsx("div",{className:"tyche__mosaic__column-headers",style:{marginLeft:`${j}px`,marginRight:`${R}px`,height:`${w}px`},children:_.map((p,S)=>{const g=S===0,k=S===_.length-1;return i.jsx("div",{className:"tyche__mosaic__column-header",style:{left:`${D[S]}%`,transform:g?"translateX(0%)":k?"translateX(-100%)":"translateX(-50%)",textAlign:g?"left":k?"right":"center"},onClick:()=>b(null,p),children:n[p][0]},`header-${p}`)})}),x.map((p,S)=>i.jsxs("div",{className:"tyche__mosaic__row",style:{height:`${P[S]}px`},children:[i.jsx("div",{className:"tyche__mosaic__row-header",style:{width:`${j}px`,cursor:"pointer"},onClick:()=>b(p,null),children:s[p][0]}),i.jsx("div",{className:"tyche__mosaic__row-cells",children:_.map(g=>{const k=h[p][g];if(k.count===0)return null;const M=f.has(fe([p,g])),V=`${s[p][0]} and ${n[g][0]}<br>Count: ${k.count}`;return i.jsx("div",{className:`tyche__mosaic__cell${M?" tyche__mosaic__cell--selected":""}`,style:{width:`${k.widthPercent}%`,minWidth:`${$}px`,minHeight:`${N}px`,...r(s[p][0],n[g][0])},onClick:()=>b(p,g),onMouseEnter:C=>a(V,C.clientX,C.clientY,"tyche-mosaic"),onMouseMove:C=>u(C.clientX,C.clientY,"tyche-mosaic"),onMouseLeave:()=>c("tyche-mosaic"),children:i.jsx("span",{className:"tyche__mosaic__cell-value",children:k.count})},`cell-${p}-${g}`)})}),i.jsx("div",{className:"tyche__mosaic__row-total",style:{width:`${R}px`},children:d[p]})]},`row-${p}`)),i.jsxs("div",{className:"tyche__mosaic__column-totals-row",style:{height:`${w}px`},children:[i.jsx("div",{style:{width:`${j}px`}}),i.jsx("div",{className:"tyche__mosaic__column-totals",style:{marginRight:`${R}px`},children:_.map((p,S)=>{const g=S===0,k=S===_.length-1;return i.jsx("div",{className:"tyche__mosaic__column-total",style:{left:`${D[S]}%`,transform:g?"translateX(0%)":k?"translateX(-100%)":"translateX(-50%)",textAlign:g?"left":k?"right":"center"},children:y[p]},`total-${p}`)})}),i.jsx("div",{className:"tyche__mosaic__grand-total",style:{width:`${R}px`},children:v})]})]})}function Sn(t){const e=X.c(5),{observations:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=function(u,m){const f={};return u==="Passed"?f.backgroundColor=Q.SUCCESS:u==="Invalid"?f.backgroundColor=Q.WARNING:u==="Failed"&&(f.backgroundColor=Q.ERROR),m==="Duplicate"&&(f.opacity=.7),f},e[0]=n):n=e[0];const r=n;let o,l;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=[["Passed",Cn],["Invalid",kn]],l=[["Unique",Nn],["Duplicate",wn]],e[1]=o,e[2]=l):(o=e[1],l=e[2]);let a;return e[3]!==s?(a=i.jsx(tt,{title:"Samples",children:i.jsx(jn,{name:"samples",observations:s,verticalAxis:o,horizontalAxis:l,cssStyle:r})}),e[3]=s,e[4]=a):a=e[4],a}function wn(t){return t.isDuplicate??!1}function Nn(t){return t.isUnique??!1}function kn(t){return t.status==="gave_up"}function Cn(t){return t.status==="passed"}const Ie="Present",Fe="Not present";var Q=(t=>(t.PRIMARY="#6b8ab5",t.SUCCESS="#8ba86b",t.WARNING="#d59a7e",t.ERROR="#c77a7e",t.ACCENT="#c1a2bb",t.ACCENT2="#9fc7c6",t.ACCENT3="#edd39a",t.ACCENT4="#99c7d6",t.ACCENT5="#8faac6",t))(Q||{});function $n(t){const e=X.c(25),{test:s}=t,{filters:n,observationCategory:r,setObservationCategory:o}=Pe();let l;e[0]!==r||e[1]!==s.corpus_observations||e[2]!==s.rolling_observations?(l=r==="rolling"?s.rolling_observations.sortKey(Rn):s.corpus_observations,e[0]=r,e[1]=s.corpus_observations,e[2]=s.rolling_observations,e[3]=l):l=e[3];const a=l;let c;e[4]!==n||e[5]!==a?(c=function(){const R=Array.from(n.values()).flat();return R.length===0?a:a.filter($=>R.every(N=>N.predicate($)))},e[4]=n,e[5]=a,e[6]=c):c=e[6];const u=c;let m;e[7]!==u?(m=u(),e[7]=u,e[8]=m):m=e[8];let f;e[9]!==a||e[10]!==m?(f={raw:a,filtered:m},e[9]=a,e[10]=m,e[11]=f):f=e[11];const h=f;let d,y;e[12]===Symbol.for("react.memo_cache_sentinel")?(d=i.jsx("div",{className:"card__header",children:i.jsx("span",{children:"Observations"})}),y={paddingTop:"10px",paddingBottom:"10px",display:"flex",fontSize:"1.05rem",fontWeight:"500"},e[12]=d,e[13]=y):(d=e[12],y=e[13]);let v;e[14]===Symbol.for("react.memo_cache_sentinel")?(v=[{value:"covering",content:"Covering"},{value:"rolling",content:"Rolling"}],e[14]=v):v=e[14];let x;e[15]!==r||e[16]!==o?(x=i.jsx("div",{style:y,children:i.jsx(he,{value:r,onChange:o,options:v})}),e[15]=r,e[16]=o,e[17]=x):x=e[17];let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_=i.jsx(_n,{}),e[18]=_):_=e[18];let b;e[19]!==r||e[20]!==h?(b=h.raw.length>0?i.jsxs(i.Fragment,{children:[i.jsx(Sn,{observations:h}),i.jsx(fn,{observations:h,observationCategory:r}),i.jsx(xn,{observations:h,observationCategory:r})]}):i.jsx("div",{className:"tyche__section",children:"No observations"}),e[19]=r,e[20]=h,e[21]=b):b=e[21];let j;return e[22]!==b||e[23]!==x?(j=i.jsxs("div",{className:"card",children:[d,x,_,b]}),e[22]=b,e[23]=x,e[24]=j):j=e[24],j}function Rn(t){return-t.run_start}function En(t){const e=X.c(2),{test:s}=t;let n;return e[0]!==s?(n=i.jsx(Ys,{children:i.jsx($n,{test:s})}),e[0]=s,e[1]=n):n=e[1],n}const xt=["Skipped","SkipTest"];class je{withProperties(e){return Object.assign(Object.create(this.constructor.prototype),this,e)}}class st extends je{constructor(e,s){super(),this.state=e,this.observation=s}static fromJson(e){return new st(e.state,ye.fromJson(e.observation))}}class ce extends je{constructor(e=new Map([[0,0],[1,0],[2,0],[3,0]])){super(),this.counts=e}static fromJson(e){const s=new Map([[0,0],[1,0],[2,0],[3,0]]);for(const[n,r]of Object.entries(e))console.assert(typeof r=="number"),s.set(Number(n),r);return new ce(s)}add(e){const s=new Map(this.counts);for(const[n,r]of e.counts.entries())s.set(n,s.get(n)+r);return new ce(s)}subtract(e){const s=new Map(this.counts);for(const[n,r]of e.counts.entries())s.set(n,s.get(n)-r);return new ce(s)}sum(){return It(this.counts.values())}}var qe=(t=>(t.GENERATE="generate",t.REPLAY="replay",t.DISTILL="distill",t.SHRINK="shrink",t.FAILED="failed",t))(qe||{});class Ve extends je{constructor(s,n,r,o,l,a,c,u){super();Z(this,"status_counts_diff");Z(this,"elapsed_time_diff");Z(this,"timestamp_monotonic");this.elapsed_time=s,this.timestamp=n,this.status_counts=r,this.behaviors=o,this.fingerprints=l,this.since_new_behavior=a,this.phase=c,this.worker_uuid=u,this.status_counts_diff=null,this.elapsed_time_diff=null,this.timestamp_monotonic=null}get ninputs(){return this.status_counts.sum()}static fromJson(s,n){return new Ve(n.elapsed_time,n.timestamp,ce.fromJson(n.status_counts),n.behaviors,n.fingerprints,n.since_new_behavior,n.phase,s)}}class ye extends je{constructor(s,n,r,o,l,a,c,u,m,f,h,d){super();Z(this,"isDuplicate",null);Z(this,"isUnique",null);this.type=s,this.status=n,this.status_reason=r,this.representation=o,this.arguments_=l,this.how_generated=a,this.features=c,this.timing=u,this.metadata=m,this.property=f,this.run_start=h,this.stability=d}static fromJson(s){return new ye(s.type,s.status,s.status_reason,s.representation,new Map(Object.entries(s.arguments)),s.how_generated,new Map(Object.entries(s.features)),new Map(Object.entries(s.timing)),new Map(Object.entries(s.metadata)),s.property,Number(s.run_start),s.stability)}}var q=(t=>(t[t.FAILED_FATALLY=0]="FAILED_FATALLY",t[t.FAILED=1]="FAILED",t[t.SHRINKING=2]="SHRINKING",t[t.RUNNING=3]="RUNNING",t[t.SKIPPED_DYNAMICALLY=4]="SKIPPED_DYNAMICALLY",t[t.WAITING=5]="WAITING",t))(q||{});function bt(t,e){const s=e?e.status_counts:new ce,n=e?e.elapsed_time:0,r=t.status_counts.subtract(s),o=t.elapsed_time-n,l=e?Math.max(t.timestamp,e.timestamp_monotonic+o):t.timestamp;return console.assert(Array.from(r.counts.values()).every(a=>a>=0)),console.assert(o>=0),t.withProperties({status_counts_diff:r,elapsed_time_diff:o,timestamp_monotonic:l})}const xe=class xe extends je{constructor(s,n,r,o,l,a,c,u){super();Z(this,"linear_reports");Z(this,"_status_counts_cumsum");Z(this,"_elapsed_time_cumsum");Z(this,"load_finished_at",null);this.database_key=s,this.nodeid=n,this.rolling_observations=r,this.corpus_observations=o,this.failures=l,this.fatal_failure=a,this.reports_by_worker=c,this.stability=u,this.linear_reports=[],this._status_counts_cumsum=new Map,this._elapsed_time_cumsum=new Map,this.load_finished_at=null;const m=this.reports_by_worker;this.reports_by_worker=new Map;const f=Array.from(m.entries()).flatMap(([h,d])=>d.map(y=>[h,y])).sortKey(([h,d])=>d.timestamp);for(const[h,d]of f)this.add_report(h,d);this._check_invariants()}static fromJson(s){return new xe(s.database_key,s.nodeid,[],[],new Map(Object.entries(s.failures).map(([n,r])=>[n,st.fromJson(r)])),s.fatal_failure,new Map(Object.entries(s.reports_by_worker).map(([n,r])=>[n,r.map(Ve.fromJson)])),s.stability)}_assert_reports_ordered(s){for(let n=0;n<s.length-1;n++)console.assert(s[n].timestamp_monotonic<=s[n+1].timestamp_monotonic)}_check_invariants(){this._assert_reports_ordered(this.linear_reports);const s=this.linear_status_counts(null);for(let r=0;r<s.length-1;r++)console.assert(s[r].sum()<=s[r+1].sum());const n=this.linear_elapsed_time(null);for(let r=0;r<n.length-1;r++)console.assert(n[r]<=n[r+1]);console.assert(n.length===s.length&&s.length===this.linear_reports.length);for(const[r,o]of this.reports_by_worker.entries())this._assert_reports_ordered(o)}add_report(s,n){let r=null,o=0;if(this.reports_by_worker.has(s)){const a=this.reports_by_worker.get(s);o=Ke(a,n.elapsed_time,c=>c.elapsed_time),r=o!=0?a[o-1]:null}const l=bt(n,r);if(this.reports_by_worker.has(s)||this.reports_by_worker.set(s,[]),this.reports_by_worker.get(s).splice(o,0,l),l.phase!==qe.REPLAY||l.behaviors>=this.behaviors&&l.fingerprints>=this.fingerprints){const a=Ke(this.linear_reports,l.timestamp_monotonic,c=>c.timestamp_monotonic);if(this.linear_reports.splice(a,0,l),a!=this.linear_reports.length-1){let c=null,u;for(u=0;u<this.linear_reports.length-(a+1);u++){const m=this.linear_reports[a+1+u];if(l.worker_uuid===m.worker_uuid){c=m;break}}c&&(console.assert(this.linear_reports[a+1+u]===c),this.linear_reports[a+1+u]=bt(c,l));for(const m of[this._status_counts_cumsum,this._elapsed_time_cumsum])for(const[f,[h,d]]of m.entries())a>=h&&m.set(f,[h,d.slice(0,a-h)])}}}get normalFailures(){return Array.from(this.failures.entries()).filter(([s,n])=>!xt.some(r=>s.includes(`${r} at`))).map(([s,n])=>n)}get skipFailures(){return Array.from(this.failures.entries()).filter(([s,n])=>xt.some(r=>s.includes(`${r} at`))).map(([s,n])=>n)}get status(){if(this.skipFailures.length>0)return q.SKIPPED_DYNAMICALLY;if(this.fatal_failure)return q.FAILED_FATALLY;if(this.failures.size>0)return q.FAILED;if(this.linear_reports.length===0)return q.WAITING;const s=this.linear_reports[this.linear_reports.length-1],n=new Date().getTime()/1e3;return s.phase==qe.SHRINK?q.SHRINKING:s.ninputs===0||s.timestamp<n-xe.WAITING_STATUS_DURATION?q.WAITING:q.RUNNING}get behaviors(){return this.linear_reports.length===0?0:this.linear_reports[this.linear_reports.length-1].behaviors}get fingerprints(){return this.linear_reports.length===0?0:this.linear_reports[this.linear_reports.length-1].fingerprints}get since_new_behavior(){return this.linear_reports.length===0?null:this.linear_reports[this.linear_reports.length-1].since_new_behavior}elapsed_time(s){const n=this.linear_elapsed_time(s);return n.length===0?0:n[n.length-1]}ninputs(s){const n=this.linear_status_counts(s);return n.length===0?0:n[n.length-1].sum()}_cumsum(s,n,r,o,l){if(o===null&&(o=-1/0),s.has(o)){const[m,f]=s.get(o);if(f.length<this.linear_reports.slice(m).length){let h=f.length>0?f[f.length-1]:l;for(const d of this.linear_reports.slice(m+f.length))h=r(h,d[n]),f.push(h);s.set(o,[m,f])}return f}const a=[],c=Ke(this.linear_reports,o,m=>m.timestamp_monotonic);let u=l;for(const m of this.linear_reports.slice(c))u=r(u,m[n]),a.push(u);return s.set(o,[c,a]),a}linear_status_counts(s){return this._cumsum(this._status_counts_cumsum,"status_counts_diff",(n,r)=>n.add(r),s,new ce)}linear_elapsed_time(s){return this._cumsum(this._elapsed_time_cumsum,"elapsed_time_diff",(n,r)=>n+r,s,0)}};Z(xe,"WAITING_STATUS_DURATION",120);let Ae=xe;const Ut=A.createContext(null);function yt(t){const e=new Map;t.forEach(n=>{e.set(n.representation,(e.get(n.representation)||0)+1)}),t.forEach(n=>{const r=e.get(n.representation);n.isUnique=r==1,n.isDuplicate=r>1});const s=new Set;t.forEach(n=>{n.features.forEach((r,o)=>{s.add(o)})}),t.forEach(n=>{s.forEach(r=>{n.features.has(r)||n.features.set(r,Fe)});for(const[r,o]of n.features)o===""&&n.features.set(r,Ie)})}function An(t,e){const s=new Map(t);function n(r){if(s.has(r))return s.get(r);{const o=new Ae(null,r,[],[],new Map,null,new Map,null);return s.set(o.nodeid,o),o}}switch(e.type){case 1:return t;case 2:{const{tests:r}=e;for(const{database_key:o,nodeid:l,failures:a,fatal_failure:c,stability:u}of r){const m=n(l);m.database_key=o,a.forEach((f,h)=>{m.failures.set(h,f)}),m.fatal_failure=c,m.stability=u}return s}case 3:{const{nodeid:r,worker_uuid:o,reports:l}=e,a=n(r);for(const c of l)a.add_report(o,c);return s}case 5:{const{nodeid:r,failures:o}=e,l=n(r);return o.forEach((a,c)=>{l.failures.set(c,a)}),s}case 4:{const{nodeid:r,observation_type:o,observations:l}=e,a=n(r);return o==="rolling"?(a.rolling_observations=[...a.rolling_observations,...l],a.rolling_observations=a.rolling_observations.sortKey(c=>-c.run_start).slice(0,300),yt(a.rolling_observations)):(console.assert(o==="corpus"),a.corpus_observations=[...a.corpus_observations,...l],yt(a.corpus_observations)),s}case 7:{const{nodeid:r}=e,o=n(r);return o.load_finished_at=Date.now(),s}case 8:{const{nodeid:r,fatal_failure:o}=e,l=n(r);return l.fatal_failure=o,s}default:throw new Error("non-exhaustive switch in testsReducer")}}function Tn(t){const e=X.c(26),{children:s}=t,[n,r]=A.useState(null);let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=new Map,e[0]=o):o=e[0];const[l,a]=A.useReducer(An,o),[c,u]=A.useState(!1),[m,f]=A.useState(null);let h;e[1]===Symbol.for("react.memo_cache_sentinel")?(h={count_tests:null,count_tests_loaded:null},e[1]=h):h=e[1];const[d,y]=A.useState(h),{addNotification:v,updateNotification:x,dismissNotification:_}=Ks();A.useRef(null);let b;e[2]===Symbol.for("react.memo_cache_sentinel")?(b=P=>{u(!0),f(P)},e[2]=b):b=e[2];const j=b;let w;e[3]!==d||e[4]!==l?(w=()=>{const P=Date.now();return d.count_tests_loaded!==null&&d.count_tests!==null&&d.count_tests_loaded===d.count_tests&&Array.from(l.values()).every(D=>D.load_finished_at===null?!1:P-D.load_finished_at>200)},e[3]=d,e[4]=l,e[5]=w):w=e[5];const R=w;let $;e[6]!==v||e[7]!==_||e[8]!==c||e[9]!==m||e[10]!==l||e[11]!==x?($=()=>{if(c){l.clear(),y({count_tests:null,count_tests_loaded:null});{fetch(new URL("dashboard_state/tests.json",import.meta.url)).then(Pn).then(Ln).then(D=>{Object.entries(D).forEach(T=>{const[p,S]=T;a({type:2,tests:[{database_key:S.database_key,nodeid:p,failures:S.failures,fatal_failure:S.fatal_failure,stability:S.stability}]});for(const[g,k]of Object.entries(S.reports_by_worker))a({type:3,nodeid:p,worker_uuid:g,reports:k.map(M=>Ve.fromJson(g,M))});a({type:7,nodeid:p})})});const P=new Worker(new URL("/preview-225/example-dashboard/assets/jsonWorker-KJVNTzbb.js",import.meta.url));return fetch(new URL("dashboard_state/observations.json",import.meta.url)).then(Mn).then(D=>new Promise(T=>{P.onmessage=p=>T(p.data),P.postMessage(D)})).then(D=>{for(const[T,p]of Object.entries(D))a({type:4,nodeid:T,observation_type:"rolling",observations:p.rolling.map(ye.fromJson)}),a({type:4,nodeid:T,observation_type:"corpus",observations:p.corpus.map(ye.fromJson)})}),()=>P.terminate()}}},e[6]=v,e[7]=_,e[8]=c,e[9]=m,e[10]=l,e[11]=x,e[12]=$):$=e[12];let N;e[13]!==v||e[14]!==_||e[15]!==c||e[16]!==m||e[17]!==x?(N=[m,c,v,_,x],e[13]=v,e[14]=_,e[15]=c,e[16]=m,e[17]=x,e[18]=N):N=e[18],A.useEffect($,N);let E;e[19]!==n||e[20]!==l||e[21]!==R?(E={tests:l,socket:n,doLoadData:j,testsLoaded:R},e[19]=n,e[20]=l,e[21]=R,e[22]=E):E=e[22];let L;return e[23]!==s||e[24]!==E?(L=i.jsx(Ut.Provider,{value:E,children:s}),e[23]=s,e[24]=E,e[25]=L):L=e[25],L}function Mn(t){return t.text()}function Ln(t){return JSON.parse(t)}function Pn(t){return t.text()}function nt(t){const e=X.c(4),s=t===void 0?null:t,n=A.useContext(Ut);if(!n)throw new Error("useData must be used within a DataProvider");let r,o;return e[0]!==n||e[1]!==s?(r=()=>{n.doLoadData(s)},o=[s,n],e[0]=n,e[1]=s,e[2]=r,e[3]=o):(r=e[2],o=e[3]),A.useEffect(r,o),n}function Se(t){const e=X.c(9),{to:s,icon:n,children:r,isActive:o}=t,l=Ze(),a=`sidebar__link ${o(l.pathname)?"sidebar__link--active":""}`;let c;e[0]!==n?(c=i.jsx("span",{className:"sidebar__link__icon",children:n}),e[0]=n,e[1]=c):c=e[1];let u;e[2]!==r||e[3]!==a||e[4]!==c?(u=i.jsxs("div",{className:a,children:[c,r]}),e[2]=r,e[3]=a,e[4]=c,e[5]=u):u=e[5];let m;return e[6]!==u||e[7]!==s?(m=i.jsx(ue,{to:s,className:"sidebar__link__text",children:u}),e[6]=u,e[7]=s,e[8]=m):m=e[8],m}function Dn(){const t=X.c(24),e=Ze(),[s,n]=A.useState(!1),r=A.useRef(null);let o,l;t[0]!==s?(o=()=>{const $=function(E){var L;s&&((L=r.current)==null?void 0:L.contains(E.target))===!1&&n(!1)};return document.addEventListener("mousedown",$),()=>{document.removeEventListener("mousedown",$)}},l=[s],t[0]=s,t[1]=o,t[2]=l):(o=t[1],l=t[2]),A.useEffect(o,l);let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{n(!1)},t[3]=a):a=t[3];let c;t[4]!==e?(c=[e],t[4]=e,t[5]=c):c=t[5],A.useEffect(a,c);let u;t[6]!==s?(u=!s&&i.jsx("div",{className:"toggle-sidebar",onClick:()=>n(!0),children:i.jsx(Y,{icon:hs,size:"lg"})}),t[6]=s,t[7]=u):u=t[7];let m;t[8]!==s?(m=s&&i.jsx("div",{className:"opacity-overlay"}),t[8]=s,t[9]=m):m=t[9];const f=`sidebar ${s?"sidebar--open":""}`;let h;t[10]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsx(ue,{to:"/",className:"sidebar__title",children:"HypoFuzz"}),t[10]=h):h=t[10];let d;t[11]===Symbol.for("react.memo_cache_sentinel")?(d=i.jsx(Se,{to:"/",isActive:On,icon:i.jsx(Y,{icon:_s}),children:"Tests"}),t[11]=d):d=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx(Se,{icon:i.jsx(Y,{icon:ps}),to:"/patches",isActive:Vn,children:"Patches"}),t[12]=y):y=t[12];let v;t[13]===Symbol.for("react.memo_cache_sentinel")?(v=i.jsx(Se,{icon:i.jsx(Y,{icon:gs}),to:"/collected",isActive:Fn,children:"Collection"}),t[13]=v):v=t[13];let x,_;t[14]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(Se,{icon:i.jsx(Y,{icon:Ge}),to:"/workers",isActive:In,children:"Workers"}),_=i.jsx("div",{className:"sidebar__separator"}),t[14]=x,t[15]=_):(x=t[14],_=t[15]);let b;t[16]===Symbol.for("react.memo_cache_sentinel")?(b=i.jsxs("nav",{className:"sidebar__nav",children:[d,y,v,x,_,i.jsx("a",{href:`${"/preview-225/example-dashboard".replace(/\/$/,"")}/docs/`,className:"sidebar__link__text",children:i.jsxs("div",{className:"sidebar__link",children:[i.jsx("span",{className:"sidebar__link__icon",children:i.jsx(Y,{icon:xs})}),"Docs"]})})]}),t[16]=b):b=t[16];let j;t[17]!==f?(j=i.jsxs("div",{ref:r,className:f,children:[h,b]}),t[17]=f,t[18]=j):j=t[18];let w;t[19]===Symbol.for("react.memo_cache_sentinel")?(w=i.jsx("div",{className:"content",children:i.jsx(ns,{})}),t[19]=w):w=t[19];let R;return t[20]!==j||t[21]!==u||t[22]!==m?(R=i.jsxs("div",{className:"layout",children:[u,m,j,w]}),t[20]=j,t[21]=u,t[22]=m,t[23]=R):R=t[23],R}function In(t){return t==="/workers"}function Fn(t){return t==="/collected"}function Vn(t){return t==="/patches"}function On(t){return t==="/"||t.startsWith("/tests/")}function rt(t){const e=X.c(42),{headers:s,data:n,row:r,mobileRow:o,getKey:l,onFilterChange:a,filterStrings:c}=t,[u,m]=A.useState(null),[f,h]=A.useState(0),[d,y]=A.useState(""),v=Qe();let x;e[0]!==n||e[1]!==d||e[2]!==c||e[3]!==s||e[4]!==u||e[5]!==f?(x=function(){let p=n;if(d&&(p=n.filter(g=>c?c(g).some(k=>k.toLowerCase().includes(d.toLowerCase())):!0)),u===null)return p;const S=[...p].sortKey(g=>s[u].sortKey(g));return f===0?S:S.reverse()},e[0]=n,e[1]=d,e[2]=c,e[3]=s,e[4]=u,e[5]=f,e[6]=x):x=e[6];const _=x;let b;e[7]!==s||e[8]!==u?(b=T=>{s[T].sortKey&&(u===T?h(Xn):(m(T),h(0)))},e[7]=s,e[8]=u,e[9]=b):b=e[9];const j=b;let w;e[10]!==a?(w=function(p){y(p),a==null||a(p)},e[10]=a,e[11]=w):w=e[11];const R=w;let $,N,E,L;e[12]!==R||e[13]!==d||e[14]!==c||e[15]!==_||e[16]!==l||e[17]!==j||e[18]!==s||e[19]!==v||e[20]!==o||e[21]!==r||e[22]!==u||e[23]!==f?($=_(),N="table",e[28]!==R||e[29]!==d||e[30]!==c?(E=c!==void 0&&i.jsxs("div",{className:"table__filter",children:[i.jsx("input",{type:"text",placeholder:"Filter",value:d,onChange:T=>R(T.target.value),className:"table__filter__input"}),d&&i.jsx("span",{className:"table__filter__clear",onClick:()=>R(""),children:i.jsx(Y,{icon:vs})})]}),e[28]=R,e[29]=d,e[30]=c,e[31]=E):E=e[31],L=o!==void 0&&v?$.map(T=>i.jsx("div",{children:o(T)},l?l(T):void 0)):i.jsxs("table",{className:"table__table",children:[i.jsx("thead",{children:i.jsx("tr",{children:s.map((T,p)=>i.jsx("th",{onClick:()=>j(p),className:T.sortKey?"table--sortable":"",children:i.jsxs("div",{className:`table__header table__header--${T.align??"left"}`,children:[T.content,T.sortKey&&i.jsx("div",{className:"table__sort",children:[0,1].map(S=>i.jsx("div",{className:`table__sort__arrow table__sort__arrow--${S===0?"asc":"desc"} ${u===p&&f===S?"table__sort__arrow--active":""}`,children:S===0?i.jsx(Y,{icon:bs}):i.jsx(Y,{icon:ys})}))})]})},p))})}),i.jsx("tbody",{children:$.map(T=>{const p=r(T);return console.assert(p.length===s.length),i.jsx("tr",{children:p.map(Bn)},l?l(T):void 0)})})]}),e[12]=R,e[13]=d,e[14]=c,e[15]=_,e[16]=l,e[17]=j,e[18]=s,e[19]=v,e[20]=o,e[21]=r,e[22]=u,e[23]=f,e[24]=$,e[25]=N,e[26]=E,e[27]=L):($=e[24],N=e[25],E=e[26],L=e[27]);let P;e[32]!==n||e[33]!==$||e[34]!==d||e[35]!==a?(P=d&&$.length<n.length&&i.jsxs("div",{className:"table__filter-status",children:["Showing ",$.length," of ",n.length," rows",i.jsx("span",{className:"table__filter-status__clear",onClick:()=>{y(""),a==null||a("")},children:"[clear]"})]}),e[32]=n,e[33]=$,e[34]=d,e[35]=a,e[36]=P):P=e[36];let D;return e[37]!==N||e[38]!==E||e[39]!==L||e[40]!==P?(D=i.jsxs("div",{className:N,children:[E,L,P]}),e[37]=N,e[38]=E,e[39]=L,e[40]=P,e[41]=D):D=e[41],D}function Bn(t,e){return i.jsx("td",{children:t},e)}function Xn(t){return t===0?1:0}async function it(t){return await(await fetch(new URL("dashboard_state/api.json",import.meta.url))).json()}async function Un(t){var s;const e=await it();return(s=e==null?void 0:e.patches)==null?void 0:s[t]}async function Kt(){const t=await it();return t==null?void 0:t.available_patches}async function Kn(){const t=await it();return t==null?void 0:t.collection_status}const Wt={not_collected:0,collected:1};function Wn(){const t=X.c(9),[e,s]=A.useState(null);let n,r;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{Kn().then(h=>{s(h)})},r=[],t[0]=n,t[1]=r):(n=t[0],r=t[1]),A.useEffect(n,r),e===null)return null;if(!e.length){let h;return t[2]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card__header",children:"Test collection"}),"No tests collected."]}),t[2]=h):h=t[2],h}let o;t[3]!==e?(o=[...e].sortKey(Jn),t[3]=e,t[4]=o):o=t[4];const l=o;let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=[{content:"Test",sortKey:qn},{content:"Status",sortKey:Gn,align:"center"}],t[5]=a):a=t[5];const c=a,u=zn;let m;t[6]===Symbol.for("react.memo_cache_sentinel")?(m=i.jsx("div",{className:"card__header",children:"Test collection status"}),t[6]=m):m=t[6];let f;return t[7]!==l?(f=i.jsxs("div",{className:"card",children:[m,i.jsx(rt,{headers:c,data:l,row:u,getKey:Hn,filterStrings:Yn})]}),t[7]=l,t[8]=f):f=t[8],f}function Yn(t){return[t.nodeid,t.status==="collected"?"Collected":`Not collected (${t.status_reason})`]}function Hn(t){return t.database_key}function zn(t){return[i.jsx("div",{style:{wordBreak:"break-all"},children:t.status=="collected"?i.jsx(ue,{to:`/tests/${encodeURIComponent(t.nodeid)}`,className:"test__link",children:t.nodeid}):t.nodeid}),i.jsx("div",{style:{textAlign:"center"},children:t.status==="collected"?i.jsx("div",{className:"pill pill__success",children:"Collected"}):i.jsxs("div",{className:"pill pill__neutral",children:["Not collected (",t.status_reason,")"]})})]}function Gn(t){return[Wt[t.status],t.status_reason]}function qn(t){return t.nodeid}function Jn(t){return[Wt[t.status],t.status_reason,t.nodeid]}function Zn(){const t=X.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=i.jsx("h1",{children:"Page not found!"}),t[0]=e):e=t[0],e}function Qn(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}ve.registerLanguage("diff",Qn);function Yt(t){const e=X.c(61),{nodeid:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];const[r,o]=A.useState(n),[l,a]=A.useState(!0),[c,u]=A.useState(null),[m,f]=A.useState(!1),h=A.useRef(null);let d,y;e[1]!==s?(d=()=>{Un(s).then(F=>{F&&o(F),a(!1)})},y=[s],e[1]=s,e[2]=d,e[3]=y):(d=e[2],y=e[3]),A.useEffect(d,y);let v;e[4]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{Ft(h,!0)},e[4]=v):v=e[4];let x;if(e[5]!==c||e[6]!==r?(x=[r,c],e[5]=c,e[6]=r,e[7]=x):x=e[7],A.useEffect(v,x),l){let F;return e[8]===Symbol.for("react.memo_cache_sentinel")?(F=i.jsx("div",{className:"card",children:i.jsx("p",{children:"Loading patches..."})}),e[8]=F):F=e[8],F}if(Object.values(r).every(tr)){let F;return e[9]===Symbol.for("react.memo_cache_sentinel")?(F=i.jsx("div",{className:"card",children:i.jsx("p",{children:"No patches for this test"})}),e[9]=F):F=e[9],F}let _,b,j,w,R,$,N,E,L;if(e[10]!==s||e[11]!==c||e[12]!==r){const F=new Map([["failing","Failing"],["covering","Covering"]]),W=c??Array.from(F.keys()).find(H=>r[H]);w=r[W];let K;e[22]!==w?(K=async()=>{await navigator.clipboard.writeText(w),f(!0),setTimeout(()=>{f(!1)},2e3)},e[22]=w,e[23]=K):K=e[23],b=K;let U;e[24]!==W||e[25]!==s||e[26]!==w?(U=()=>{const H=new Blob([w],{type:"text/plain"}),z=URL.createObjectURL(H),G=document.createElement("a");G.href=z,G.download=`${W}-${s.split("::").pop()}.patch`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(z)},e[24]=W,e[25]=s,e[26]=w,e[27]=U):U=e[27],j=U,R=h,e[28]===Symbol.for("react.memo_cache_sentinel")?(L={paddingTop:"10px",paddingBottom:"10px",display:"flex",fontSize:"1.05rem",fontWeight:"500"},e[28]=L):L=e[28],_=he,N=W,E=u,$=Array.from(F.entries()),e[10]=s,e[11]=c,e[12]=r,e[13]=_,e[14]=b,e[15]=j,e[16]=w,e[17]=R,e[18]=$,e[19]=N,e[20]=E,e[21]=L}else _=e[13],b=e[14],j=e[15],w=e[16],R=e[17],$=e[18],N=e[19],E=e[20],L=e[21];let P;e[29]!==r||e[30]!==$?(P=$.filter(F=>{const[W]=F;return r[W]}).map(er),e[29]=r,e[30]=$,e[31]=P):P=e[31];let D;e[32]!==_||e[33]!==P||e[34]!==N||e[35]!==E?(D=i.jsx(_,{value:N,onChange:E,options:P}),e[32]=_,e[33]=P,e[34]=N,e[35]=E,e[36]=D):D=e[36];let T;e[37]!==D||e[38]!==L?(T=i.jsx("div",{style:L,children:D}),e[37]=D,e[38]=L,e[39]=T):T=e[39];const p=`patch__controls__control ${m?"patch__controls__control--success":""}`,S=m?Ct:js;let g;e[40]!==S?(g=i.jsx(Y,{icon:S}),e[40]=S,e[41]=g):g=e[41];let k;e[42]!==b||e[43]!==p||e[44]!==g?(k=i.jsx("div",{className:p,onClick:b,title:"Copy patch",children:g}),e[42]=b,e[43]=p,e[44]=g,e[45]=k):k=e[45];let M;e[46]===Symbol.for("react.memo_cache_sentinel")?(M=i.jsx(Y,{icon:Ss}),e[46]=M):M=e[46];let V;e[47]!==j?(V=i.jsx("div",{className:"patch__controls__control",onClick:j,title:"Download patch",children:M}),e[47]=j,e[48]=V):V=e[48];let C;e[49]!==k||e[50]!==V?(C=i.jsxs("div",{className:"patch__controls",children:[k,V]}),e[49]=k,e[50]=V,e[51]=C):C=e[51];let B;e[52]!==w?(B=i.jsx("code",{className:"language-diff",children:w}),e[52]=w,e[53]=B):B=e[53];let O;e[54]!==C||e[55]!==B?(O=i.jsxs("pre",{className:"patch__pre",children:[C,B]}),e[54]=C,e[55]=B,e[56]=O):O=e[56];let I;return e[57]!==R||e[58]!==T||e[59]!==O?(I=i.jsxs("div",{ref:R,children:[T,O]}),e[57]=R,e[58]=T,e[59]=O,e[60]=I):I=e[60],I}function er(t){const[e,s]=t;return{value:e,content:s}}function tr(t){return t===null}function sr(){const t=X.c(8),[e,s]=A.useState(null);let n,r;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{Kt().then(c=>{s(c)})},r=[],t[0]=n,t[1]=r):(n=t[0],r=t[1]),A.useEffect(n,r),e===null||e.length===0){let c;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card__header",children:"Patches"}),i.jsx("p",{children:"No tests with patches present."})]}),t[2]=c):c=t[2],c}let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=i.jsx("div",{className:"card__header",style:{marginBottom:"1rem"},children:"Patches"}),t[3]=o):o=t[3];let l;t[4]!==e?(l=e.map(nr),t[4]=e,t[5]=l):l=t[5];let a;return t[6]!==l?(a=i.jsxs("div",{className:"card",children:[o,l]}),t[6]=l,t[7]=a):a=t[7],a}function nr(t){return i.jsx(et,{title:i.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[i.jsx("span",{children:t}),i.jsxs(ue,{to:`/tests/${encodeURIComponent(t)}`,className:"patches__test__link",style:{marginLeft:"8px"},children:["View test ",i.jsx(Y,{icon:ws})]})]}),headerClass:"patches__test",defaultState:"closed",children:i.jsx(Yt,{nodeid:t})})}function rr(t){return t>=1e6?`${Math.floor(t/1e6)}M`:t>=1e3?`${Math.floor(t/1e3)}k`:t>0?t.toLocaleString():"0"}function ir({baseScale:t,viewportScale:e,tickCount:s,zoomState:n,orientation:r}){const o=t.range();let l;return r==="bottom"?l=[t.invert((o[0]-n.x)/n.scaleX),t.invert((o[1]-n.x)/n.scaleX)]:l=[t.invert(o[0]-n.y),t.invert(o[1]-n.y)],t.domain(l).range(o).ticks(s).filter(c=>c>=0).map(c=>({offset:e(c),name:rr(c)}))}function vt(t){const e=X.c(27),{baseScale:s,viewportScale:n,orientation:r,tickCount:o,transform:l,zoomState:a}=t,c=o===void 0?5:o;let u;if(e[0]!==s||e[1]!==r||e[2]!==c||e[3]!==l||e[4]!==n||e[5]!==a){const m=ir({baseScale:s,viewportScale:n,tickCount:c,zoomState:a,orientation:r}),f=r==="bottom";let h;e[7]!==s||e[8]!==f?(h=f?[0,0,s.range()[1],0]:[0,0,0,s.range()[0]],e[7]=s,e[8]=f,e[9]=h):h=e[9];const[d,y,v,x]=h;let _;e[10]!==d||e[11]!==v||e[12]!==y||e[13]!==x?(_=i.jsx("line",{className:"domain",x1:d,y1:y,x2:v,y2:x,stroke:"currentColor",strokeWidth:1}),e[10]=d,e[11]=v,e[12]=y,e[13]=x,e[14]=_):_=e[14];const b=d,j=y,w=f?d:d-6,R=f?y+6:y;let $;e[15]!==b||e[16]!==j||e[17]!==w||e[18]!==R?($=i.jsx("line",{className:"domain",x1:b,y1:j,x2:w,y2:R,stroke:"currentColor",strokeWidth:1}),e[15]=b,e[16]=j,e[17]=w,e[18]=R,e[19]=$):$=e[19];const N=v,E=x,L=f?v:v-6,P=f?x+6:x;let D;e[20]!==N||e[21]!==E||e[22]!==L||e[23]!==P?(D=i.jsx("line",{className:"domain",x1:N,y1:E,x2:L,y2:P,stroke:"currentColor",strokeWidth:1}),e[20]=N,e[21]=E,e[22]=L,e[23]=P,e[24]=D):D=e[24];let T;e[25]!==f?(T=(p,S)=>{const g=f?p.offset:0,k=f?0:p.offset,M=f?p.offset:-10,V=f?15:p.offset+4;return i.jsxs("g",{className:"tick",children:[i.jsx("line",{x1:g,y1:k,x2:g+(f?0:-6),y2:k+(f?6:0),stroke:"currentColor",strokeWidth:1}),i.jsx("text",{x:M,y:V,textAnchor:f?"middle":"end",fontSize:"12",fill:"currentColor",children:p.name})]},S)},e[25]=f,e[26]=T):T=e[26],u=i.jsxs("g",{className:`axis axis--${r}`,transform:l,children:[_,$,D,m.map(T)]}),e[0]=s,e[1]=r,e[2]=c,e[3]=l,e[4]=n,e[5]=a,e[6]=u}else u=e[6];return u}function or(t){const e=X.c(14),{lines:s,viewportXScale:n,viewportYScale:r,xValue:o,yValue:l,navigate:a}=t;let c;if(e[0]!==s||e[1]!==a||e[2]!==n||e[3]!==r||e[4]!==o||e[5]!==l){let u;e[7]!==n||e[8]!==o?(u=d=>n(o(d)),e[7]=n,e[8]=o,e[9]=u):u=e[9];let m;e[10]!==r||e[11]!==l?(m=d=>r(l(d)),e[10]=r,e[11]=l,e[12]=m):m=e[12];const f=Es().x(u).y(m);let h;e[13]===Symbol.for("react.memo_cache_sentinel")?(h={pointerEvents:"auto"},e[13]=h):h=e[13],c=i.jsx("g",{style:h,children:s.map(d=>{const y=f(d.reports)||"";return i.jsx("path",{d:y,fill:"none",stroke:d.color,className:`coverage-line ${d.isActive?"coverage-line__selected":""}`,style:{cursor:d.url?"pointer":"default"},onClick:v=>{d.url&&Vt(v,d.url,a)}},`line-${d.url||"no-url"}`)})}),e[0]=s,e[1]=a,e[2]=n,e[3]=r,e[4]=o,e[5]=l,e[6]=c}else c=e[6];return c}class Te{constructor(e,s,n,r,o){this.nodeid=e,this.linear_status_counts=s,this.linear_elapsed_time=n,this.behaviors=r,this.fingerprints=o}static fromReport(e,s){return new Te(e,s.status_counts,s.elapsed_time,s.behaviors,s.fingerprints)}}const ge=new Map;function ie(t,e){const s=X.c(11);let n;s[0]!==e||s[1]!==t?(n=()=>{const f=sessionStorage.getItem(t);return f===null?e:JSON.parse(f)},s[0]=e,s[1]=t,s[2]=n):n=s[2];const[r,o]=A.useState(n);let l,a;s[3]!==t?(l=()=>(ge.has(t)||ge.set(t,new Set),ge.get(t).add(o),()=>{ge.get(t).delete(o)}),a=[t],s[3]=t,s[4]=l,s[5]=a):(l=s[4],a=s[5]),A.useEffect(l,a);let c;s[6]!==t?(c=function(h){sessionStorage.setItem(t,JSON.stringify(h)),ge.get(t).forEach(d=>d(h))},s[6]=t,s[7]=c):c=s[7];const u=c;let m;return s[8]!==u||s[9]!==r?(m=[r,u],s[8]=u,s[9]=r,s[10]=m):m=s[10],m}const lr={x:0,y:0,scaleX:1};function ar({zoomState:t,bounds:e,baseX:s,baseY:n}){if(!e)return t;let r={...t};if(e.xMin!==void 0||e.xMax!==void 0){const o=s.range(),l=o[0],a=o[1],c=s.invert((l-r.x)/r.scaleX),u=s.invert((a-r.x)/r.scaleX);e.xMin!==void 0&&c<e.xMin&&(r.x=l-s(e.xMin)*r.scaleX),e.xMax!==void 0&&u>e.xMax&&(r.x=a-s(e.xMax)*r.scaleX)}if(e.yMin!==void 0||e.yMax!==void 0){const o=n.range(),l=o[1],a=o[0];e.yMin!==void 0&&n.invert(a-r.y)<e.yMin&&(r.y=a-n(e.yMin)),e.yMax!==void 0&&n.invert(l-r.y)>e.yMax&&(r.y=l-n(e.yMax))}return r}function cr(t,e,s,n,r,o,l,a=lr,c){const u=_=>n==="time"?_.linear_elapsed_time:_.linear_status_counts.sum(),m=_=>r==="behaviors"?_.behaviors:_.fingerprints,f=(e==="log"?ut():Ee()).domain([0,be(t.map(_=>u(_)))||1]).range([0,o]),h=(s==="log"?ut():Ee()).domain([0,be(t.map(_=>m(_)))||0]).range([l,0]),d=ar({zoomState:a,bounds:c,baseX:f,baseY:h}),y=f.range(),v=f.copy().range([y[0]*d.scaleX+d.x,y[1]*d.scaleX+d.x]),x=h.copy().range([h.range()[0]+d.y,h.range()[1]+d.y]);return{xValue:u,yValue:m,baseX:f,baseY:h,viewportX:v,viewportY:x,constrainedTransform:d}}const we={x:0,y:0,scaleX:1};function ur(t){const e=X.c(28),{minScale:s,maxScale:n,wheelSensitivity:r,containerRef:o,onZoomEnd:l,onDragEnd:a}=t,c=s===void 0?1:s,u=n===void 0?50:n,m=r===void 0?.0013:r,f=l===void 0?mr:l,h=a===void 0?fr:a,[d,y]=A.useState(we),v=A.useRef(!1);let x;e[0]===Symbol.for("react.memo_cache_sentinel")?(x={x:0,y:0},e[0]=x):x=e[0];const _=A.useRef(x),b=A.useRef(null),j=A.useRef(!1),w=A.useRef(0),R=A.useRef(null);let $;e[1]===Symbol.for("react.memo_cache_sentinel")?($=()=>{b.current&&(cancelAnimationFrame(b.current),b.current=null)},e[1]=$):$=e[1];const N=$;let E;e[2]===Symbol.for("react.memo_cache_sentinel")?(E=O=>{N(),y(O)},e[2]=E):E=e[2];const L=E;let P;e[3]!==d?(P=()=>{N();const O=d,I=performance.now(),F=Oe(O.x,we.x),W=Oe(O.y,we.y),K=Oe(O.scaleX,we.scaleX),U=H=>{const z=H-I,G=Math.min(z/500,1),ee=1-Math.pow(1-G,3),te={x:F(ee),y:W(ee),scaleX:K(ee)};y(te),G<1?b.current=requestAnimationFrame(U):b.current=null};b.current=requestAnimationFrame(U)},e[3]=d,e[4]=P):P=e[4];const D=P;let T;e[5]!==o.current||e[6]!==u||e[7]!==c||e[8]!==f||e[9]!==d||e[10]!==m?(T=()=>{const O=o.current;if(!O)return;const I=F=>{N();const W=O.getBoundingClientRect(),K=F.clientX-W.left;if(Math.abs(F.deltaX)>Math.abs(F.deltaY))return;const U=1-F.deltaY*m,H=Math.max(c,Math.min(u,d.scaleX*U)),z=H!==d.scaleX;if(z||j.current?(F.preventDefault(),F.stopPropagation()):w.current=w.current+1,z){j.current=!0;const G=H/d.scaleX,Jt={x:K-(K-d.x)*G,y:d.y,scaleX:H};y(Jt)}w.current=0,R.current&&clearTimeout(R.current),R.current=window.setTimeout(()=>{w.current===0&&(j.current=!1,f()),R.current=null},150)};return O.addEventListener("wheel",I,{passive:!1}),()=>{O.removeEventListener("wheel",I)}},e[5]=o.current,e[6]=u,e[7]=c,e[8]=f,e[9]=d,e[10]=m,e[11]=T):T=e[11];let p;e[12]!==u||e[13]!==c||e[14]!==d||e[15]!==m?(p=[d,c,u,m,N],e[12]=u,e[13]=c,e[14]=d,e[15]=m,e[16]=p):p=e[16],A.useEffect(T,p);let S;e[17]!==h?(S=O=>{if(O.button!==0)return;N(),v.current=!0,_.current={x:O.clientX,y:O.clientY};const I=W=>{if(!v.current)return;const K=W.clientX-_.current.x,U=W.clientY-_.current.y;y(H=>({x:H.x+K,y:H.y+U,scaleX:H.scaleX})),_.current={x:W.clientX,y:W.clientY}},F=()=>{v.current=!1,document.removeEventListener("mousemove",I),document.removeEventListener("mouseup",F),h()};document.addEventListener("mousemove",I),document.addEventListener("mouseup",F)},e[17]=h,e[18]=S):S=e[18];const g=S;let k;e[19]!==D?(k=O=>{O.preventDefault(),D()},e[19]=D,e[20]=k):k=e[20];const M=k;let V,C;e[21]===Symbol.for("react.memo_cache_sentinel")?(V=()=>()=>{N(),R.current&&clearTimeout(R.current)},C=[N],e[21]=V,e[22]=C):(V=e[21],C=e[22]),A.useEffect(V,C);let B;return e[23]!==M||e[24]!==g||e[25]!==D||e[26]!==d?(B={transform:d,onMouseDown:g,onDoubleClick:M,resetZoom:D,setTransform:L},e[23]=M,e[24]=g,e[25]=D,e[26]=d,e[27]=B):B=e[27],B}function fr(){}function mr(){}const He=270,Me={zoomIdentity:Ls,select:At,scaleLinear:Ee,scaleOrdinal:Tt,interpolateViridis:Ms,interpolateRgb:Ts,schemeCategory10:As};function dr(t,e,s,n){let r=[];if(e==="linearized")r=Array.from(t.entries()).sortKey(([o,l])=>o).map(([o,l])=>({nodeid:o,url:`/tests/${encodeURIComponent(o)}`,reports:hr(l,s),color:n(o),isActive:!1}));else if(e==="individual"){let o=function(u){if(l.length<=1)return jt(.5);const m=(u-a)/(c-a);return jt(m)};const l=[];for(const u of t.values())for(const m of u.reports_by_worker.values())m.length>0&&l.push(m[0].timestamp);const a=Js(l)??0,c=be(l)??0;for(const[u,m]of t.entries())for(const f of m.reports_by_worker.values())f.length>0&&r.push({nodeid:u,url:`/tests/${encodeURIComponent(u)}`,reports:f.map(h=>Te.fromReport(u,h)),color:o(f[0].timestamp),isActive:!1})}else if(e==="latest")for(const[o,l]of t.entries()){const a=be(Array.from(l.reports_by_worker.values()),c=>c[0].elapsed_time);a&&r.push({nodeid:o,url:`/tests/${encodeURIComponent(o)}`,reports:a.map(c=>Te.fromReport(o,c)),color:n(o),isActive:!1})}return r}const jt=Me.scaleLinear().domain([0,1]).range(["rgb(255, 198, 128)","rgb(240, 136, 62)","rgb(219, 109, 40)","rgb(189, 86, 29)","rgb(155, 66, 21)","rgb(118, 45, 10)","rgb(90, 30, 2)"]).interpolate(Me.interpolateRgb);var Je=(t=>(t.TOGETHER="linearized",t.SEPARATE="individual",t.LATEST="latest",t))(Je||{});function hr(t,e){const s=t.linear_status_counts(e),n=t.linear_elapsed_time(e),r=[];for(let o=0;o<s.length;o++){const l=t.linear_reports[o];r.push({nodeid:t.nodeid,linear_status_counts:s[o],linear_elapsed_time:n[o],behaviors:l.behaviors,fingerprints:l.fingerprints})}return r}function Ht(t){const e=X.c(4),{value:s,onChange:n}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[{value:"log",content:"Log"},{value:"linear",content:"Linear"}],e[0]=r):r=e[0];let o;return e[1]!==n||e[2]!==s?(o=i.jsx(he,{value:s,onChange:n,options:r}),e[1]=n,e[2]=s,e[3]=o):o=e[3],o}function _r(){const t=X.c(23),[e,s]=ie("graph_scale_x","log"),[n,r]=ie("graph_axis_x","time");let o,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},l={display:"flex",alignItems:"center",gap:"0.5rem"},t[0]=o,t[1]=l):(o=t[0],l=t[1]);const a=n==="inputs"?$e:Re;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:"0.9rem"},t[2]=c):c=t[2];let u;t[3]!==a?(u=i.jsx(Y,{icon:a,style:c}),t[3]=a,t[4]=u):u=t[4];const m=n==="inputs"?"Inputs":"Time";let f;t[5]!==u||t[6]!==m?(f=i.jsxs("div",{style:l,children:[u,m]}),t[5]=u,t[6]=m,t[7]=f):f=t[7];let h;t[8]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",gap:"0.5rem"},t[8]=h):h=t[8];let d;t[9]!==e||t[10]!==s?(d=i.jsx(Ht,{value:e,onChange:s}),t[9]=e,t[10]=s,t[11]=d):d=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y={value:"inputs",content:i.jsx(Y,{icon:$e})},t[12]=y):y=t[12];let v;t[13]===Symbol.for("react.memo_cache_sentinel")?(v=[y,{value:"time",content:i.jsx(Y,{icon:Re})}],t[13]=v):v=t[13];let x;t[14]!==n||t[15]!==r?(x=i.jsx(he,{value:n,onChange:r,options:v}),t[14]=n,t[15]=r,t[16]=x):x=t[16];let _;t[17]!==x||t[18]!==d?(_=i.jsxs("div",{style:h,children:[d,x]}),t[17]=x,t[18]=d,t[19]=_):_=t[19];let b;return t[20]!==_||t[21]!==f?(b=i.jsxs("div",{className:"coverage-graph__label coverage-graph__label--x",style:o,children:[f,_]}),t[20]=_,t[21]=f,t[22]=b):b=t[22],b}function pr(){const t=X.c(23),[e,s]=ie("graph_scale_y","linear"),[n,r]=ie("graph_axis_y","behaviors");let o,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(o={display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",zIndex:1},l={display:"flex",alignItems:"center",gap:"0.5rem"},t[0]=o,t[1]=l):(o=t[0],l=t[1]);let a;t[2]!==e||t[3]!==s?(a=i.jsx(Ht,{value:e,onChange:s}),t[2]=e,t[3]=s,t[4]=a):a=t[4];let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c={value:"behaviors",content:i.jsx(Y,{icon:ke})},t[5]=c):c=t[5];let u;t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[c,{value:"fingerprints",content:i.jsx(Y,{icon:Ce})}],t[6]=u):u=t[6];let m;t[7]!==n||t[8]!==r?(m=i.jsx(he,{value:n,onChange:r,options:u}),t[7]=n,t[8]=r,t[9]=m):m=t[9];let f;t[10]!==a||t[11]!==m?(f=i.jsxs("div",{style:l,children:[a,m]}),t[10]=a,t[11]=m,t[12]=f):f=t[12];let h;t[13]===Symbol.for("react.memo_cache_sentinel")?(h={display:"flex",alignItems:"center",gap:"0.5rem"},t[13]=h):h=t[13];const d=n==="behaviors"?ke:Ce;let y;t[14]===Symbol.for("react.memo_cache_sentinel")?(y={fontSize:"0.9rem"},t[14]=y):y=t[14];let v;t[15]!==d?(v=i.jsx(Y,{icon:d,style:y}),t[15]=d,t[16]=v):v=t[16];const x=n==="behaviors"?"Behaviors":"Fingerprints";let _;t[17]!==v||t[18]!==x?(_=i.jsxs("div",{style:h,children:[v,x]}),t[17]=v,t[18]=x,t[19]=_):_=t[19];let b;return t[20]!==_||t[21]!==f?(b=i.jsxs("div",{className:"coverage-graph__label coverage-graph__label--y",style:o,children:[f,_]}),t[20]=_,t[21]=f,t[22]=b):b=t[22],b}const St={linearized:{content:i.jsxs(i.Fragment,{children:[i.jsx(Y,{icon:Ge})," Together"]}),mobileContent:i.jsx(Y,{icon:Ge})},individual:{content:i.jsxs(i.Fragment,{children:[i.jsx(Y,{icon:ct})," Separate"]}),mobileContent:i.jsx(Y,{icon:ct})},latest:{content:i.jsxs(i.Fragment,{children:[i.jsx(Y,{icon:at})," Latest"]}),mobileContent:i.jsx(Y,{icon:at})}},oe={top:5,right:5,bottom:25,left:40},gr=10,xr=10;function br(t,e){const s=[],n=e.reports;if(n.length<2)return s;let r=0;for(let l=1;l<n.length;l++){const a=t.viewportX(t.xValue(n[l-1])),c=t.viewportY(t.yValue(n[l-1])),u=t.viewportX(t.xValue(n[l])),m=t.viewportY(t.yValue(n[l])),f=Math.sqrt((u-a)**2+(m-c)**2);r+=f}const o=Math.max(2,Math.floor(r/gr));for(let l=0;l<o;l++){const c=l/(o-1)*r;let u=0;for(let m=1;m<n.length;m++){const f=t.viewportX(t.xValue(n[m-1])),h=t.viewportY(t.yValue(n[m-1])),d=t.viewportX(t.xValue(n[m])),y=t.viewportY(t.yValue(n[m])),v=Math.sqrt((d-f)**2+(y-h)**2);if(u+v>=c||m===n.length-1){const x=v>0?(c-u)/v:0,_=f+(d-f)*x,b=h+(y-h)*x;s.push({x:_,y:b,line:e});break}u+=v}}return s}function yr({tests:t,filterString:e="",workers_after:s=null,viewSetting:n}){const r=A.useRef(null),o=A.useRef(null),[l,a]=ie("graph_scale_x","log"),[c,u]=ie("graph_scale_y","linear"),[m,f]=ie("graph_axis_x","time"),[h,d]=ie("graph_axis_y","behaviors"),y=Nt();Qe();const v=De(),[x,_]=A.useState(800),[b,j]=A.useState(null),w=A.useRef(null),R=Me.scaleOrdinal(Me.schemeCategory10).domain(Array.from(t.keys())),$=A.useMemo(()=>dr(t,n,s,R),[t,n,s]);let N=$;e&&(N=$.filter(g=>{var k;return(k=g.url)==null?void 0:k.toLowerCase().includes(e.toLowerCase())}));let E=null;N.forEach(g=>{g.isActive=!1,g.nodeid===b&&(g.isActive=!0,E=g)}),A.useEffect(()=>{if(r.current){const g=new ResizeObserver(k=>{for(const M of k)_(M.contentRect.width)});return g.observe(r.current),()=>g.disconnect()}},[]);const L=x-oe.left-oe.right,P=He-oe.top-oe.bottom,D=N.flatMap(g=>g.reports);function T(){const g=N.flatMap(k=>br(w.current,k));o.current=Ps().x(k=>k.x).y(k=>k.y).addAll(g)}const p=ur({minScale:1,maxScale:50,containerRef:r,onZoomEnd:T,onDragEnd:T}),S=cr(D,l,c,m,h,L,P,p.transform,{yMin:0});return w.current=S,A.useEffect(()=>{T()},[N]),i.jsx("div",{ref:g=>{r.current!==g&&(r.current=g)},style:{position:"relative",width:"100%",height:`${He}px`,userSelect:"none",cursor:E?"pointer":"default"},onMouseDown:p.onMouseDown,onDoubleClick:p.onDoubleClick,onClick:()=>{E&&E.url&&y(E.url)},onMouseMove:g=>{const k=g.currentTarget.getBoundingClientRect(),M=g.clientX-k.left-oe.left,V=g.clientY-k.top-oe.top,C=o.current.find(M,V,xr)||null;if(C){j(C.line.nodeid);const B=C.line.reports;let O=B[0],I=1/0;B.forEach(z=>{const G=S.viewportX(S.xValue(z)),ee=S.viewportY(S.yValue(z)),te=Math.sqrt((M-G)**2+(V-ee)**2);te<I&&(I=te,O=z)});const F=O.behaviors===1?"":"s",W=O.fingerprints===1?"":"s",K=O.linear_status_counts.sum()===1?"":"s",U=O.linear_elapsed_time===1?"":"s",H=`
            <div style="font-weight: bold; margin-bottom: 4px;">${Ot(O.nodeid)}</div>
            <div>${O.behaviors.toLocaleString()} behavior${F} / ${O.fingerprints.toLocaleString()} fingerprint${W}</div>
            <div>${O.linear_status_counts.sum().toLocaleString()} input${K} / ${O.linear_elapsed_time.toFixed(1)} second${U}</div>
          `;v.showTooltip(H,g.clientX,g.clientY,"coverage-graph")}else j(null),v.hideTooltip("coverage-graph")},onMouseLeave:()=>{j(null),v.hideTooltip("coverage-graph")},children:i.jsxs("svg",{className:"coverage-graph__svg",style:{position:"absolute",top:0,left:0,width:"100%",height:`${He}px`,pointerEvents:"none"},children:[i.jsx("defs",{children:i.jsx("clipPath",{id:"clip-content",children:i.jsx("rect",{y:-2,width:L,height:P+4})})}),i.jsxs("g",{transform:`translate(${oe.left}, ${oe.top})`,children:[i.jsx("g",{clipPath:"url(#clip-content)",children:i.jsx(or,{lines:N,viewportXScale:S.viewportX,viewportYScale:S.viewportY,xValue:S.xValue,yValue:S.yValue,navigate:y})}),i.jsx(vt,{baseScale:S.baseX,viewportScale:S.viewportX,orientation:"bottom",transform:`translate(0, ${S.baseY.range()[0]})`,isLogScale:l==="log",zoomState:S.constrainedTransform}),i.jsx(vt,{baseScale:S.baseY,viewportScale:S.viewportY,orientation:"left",isLogScale:c==="log",zoomState:S.constrainedTransform})]})]})})}function vr(){const t=X.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["rgb(255, 198, 128)","rgb(240, 136, 62)","rgb(219, 109, 40)","rgb(189, 86, 29)","rgb(155, 66, 21)","rgb(118, 45, 10)","rgb(90, 30, 2)"],t[0]=e):e=t[0];const s=e;let n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsxs("div",{className:"coverage-graph__color-legend",children:[i.jsx("span",{children:"Older"}),i.jsx("div",{style:{display:"flex",gap:"2px"},children:s.map(jr)}),i.jsx("span",{children:"Newer"})]}),t[1]=n):n=t[1],n}function jr(t,e){return i.jsx("div",{className:"coverage-graph__color-legend__square",style:{backgroundColor:t}},e)}function zt(t){const e=X.c(38),{tests:s,filterString:n,workers_after:r,workerViews:o,workerViewSetting:l}=t,a=n===void 0?"":n,c=r===void 0?null:r;let u;e[0]!==o?(u=o===void 0?["linearized","individual","latest"]:o,e[0]=o,e[1]=u):u=e[1];const m=u;let[f,h]=ie(l,"linearized");const y=J(Array.from(s.values()).flatMap(wr)).size==1;y&&(f="linearized");let v;e[2]===Symbol.for("react.memo_cache_sentinel")?(v=i.jsx("div",{className:"card__header",style:{marginBottom:"1rem"},children:"Coverage"}),e[2]=v):v=e[2];const x=f==="individual"?"space-between":"flex-end",_=f==="individual"?"center":"default";let b;e[3]!==x||e[4]!==_?(b={display:"flex",justifyContent:x,alignItems:_,marginBottom:"1rem"},e[3]=x,e[4]=_,e[5]=b):b=e[5];let j;e[6]!==f?(j=f==="individual"&&i.jsx(vr,{}),e[6]=f,e[7]=j):j=e[7];const w=f,R=h;let $;e[8]!==m?($=m.map(Sr),e[8]=m,e[9]=$):$=e[9];let N;e[10]!==y||e[11]!==h||e[12]!==$||e[13]!==f?(N=i.jsx(he,{value:w,onChange:R,options:$,disabled:y}),e[10]=y,e[11]=h,e[12]=$,e[13]=f,e[14]=N):N=e[14];let E;e[15]!==y?(E=y&&i.jsx("span",{className:"tooltip__text",children:"Switching worker display mode requires multiple workers"}),e[15]=y,e[16]=E):E=e[16];let L;e[17]!==N||e[18]!==E?(L=i.jsxs("span",{className:"tooltip",children:[N,E]}),e[17]=N,e[18]=E,e[19]=L):L=e[19];let P;e[20]!==L||e[21]!==b||e[22]!==j?(P=i.jsxs("div",{style:b,children:[j,L]}),e[20]=L,e[21]=b,e[22]=j,e[23]=P):P=e[23];let D,T;e[24]===Symbol.for("react.memo_cache_sentinel")?(D={marginRight:"15px",flex:1,height:"auto"},T=i.jsx(pr,{}),e[24]=D,e[25]=T):(D=e[24],T=e[25]);let p;e[26]!==a||e[27]!==s||e[28]!==f||e[29]!==c?(p=i.jsx(yr,{tests:s,viewSetting:f,workers_after:c,filterString:a}),e[26]=a,e[27]=s,e[28]=f,e[29]=c,e[30]=p):p=e[30];let S,g;e[31]===Symbol.for("react.memo_cache_sentinel")?(S=i.jsx("div",{}),g=i.jsx(_r,{}),e[31]=S,e[32]=g):(S=e[31],g=e[32]);let k;e[33]!==p?(k=i.jsx("div",{className:"coverage-graph__container",children:i.jsxs("div",{className:"coverage-graph__grid",style:D,children:[T,p,S,g]})}),e[33]=p,e[34]=k):k=e[34];let M;return e[35]!==P||e[36]!==k?(M=i.jsxs("div",{className:"card",children:[v,P,k]}),e[35]=P,e[36]=k,e[37]=M):M=e[37],M}function Sr(t){return{value:t,content:St[t].content,mobileContent:St[t].mobileContent}}function wr(t){return Array.from(t.reports_by_worker.values())}const de={[q.FAILED_FATALLY]:"Failed fatally",[q.FAILED]:"Failed",[q.SHRINKING]:"Shrinking",[q.RUNNING]:"Running",[q.SKIPPED_DYNAMICALLY]:"Skipped dynamically",[q.WAITING]:"Waiting"};function ot(t){const e=X.c(3),{status:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={textAlign:"center"},e[0]=n):n=e[0];let r;return e[1]!==s?(r=i.jsx("span",{style:n,children:s===q.FAILED_FATALLY?i.jsx("span",{className:"pill pill__failure",children:de[s]}):s===q.FAILED?i.jsx("span",{className:"pill pill__failure",children:de[s]}):s===q.SHRINKING?i.jsx("span",{className:"pill pill__warning",children:de[s]}):s===q.RUNNING?i.jsx("span",{className:"pill pill__success",children:de[s]}):i.jsx("span",{className:"pill pill__neutral",children:de[s]})}),e[1]=s,e[2]=r):r=e[2],r}function re(t){const e=X.c(5),{content:s,tooltip:n}=t;let r;e[0]!==n?(r=i.jsx("div",{className:"tooltip__text",children:n}),e[0]=n,e[1]=r):r=e[1];let o;return e[2]!==s||e[3]!==r?(o=i.jsxs("span",{className:"tooltip tooltip--underline",children:[s,r]}),e[2]=s,e[3]=r,e[4]=o):o=e[4],o}function Gt(t){const e=Math.floor(t/3600),s=Math.floor(t%3600/60),n=Math.floor(t%60);return`${e>0?`${e}:${s.toString().padStart(2,"0")}`:s}:${n.toString().padStart(2,"0")}`}function qt(t){const e=t.ninputs(null),s=t.elapsed_time(null);return s===0?null:e/s}function Nr(t){return parseFloat(t.toPrecision(3)).toLocaleString()}function kr(t){return(t*100).toFixed(0)}function lt(t){var s;if(t.linear_reports.length===0)return{inputs:"—",behaviors:"—",fingerprints:"—",executions:"—",inputsSinceBranch:"—",timeSpent:"—",stability:"—"};const e=qt(t);return{inputs:t.ninputs(null).toLocaleString(),behaviors:t.behaviors.toLocaleString(),fingerprints:t.fingerprints.toLocaleString(),executions:e===null?"—":`${Nr(e)}/s`,inputsSinceBranch:((s=t.since_new_behavior)==null?void 0:s.toLocaleString())??"—",timeSpent:Gt(t.elapsed_time(null)),stability:t.stability===null?"—":t.stability==1?i.jsx(re,{content:i.jsx(Y,{icon:Ct}),tooltip:"100% stability"}):`${kr(t.stability)}%`}}ve.registerLanguage("python",Xt);function Cr(t){const e=X.c(3),{failure:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={textAlign:"center"},e[0]=n):n=e[0];let r;return e[1]!==s.state?(r=i.jsx("span",{style:n,children:s.state==="shrunk"?i.jsx("span",{className:"pill pill__neutral",children:"Fully shrunk"}):s.state==="unshrunk"?i.jsx("span",{className:"pill pill__neutral",children:"Still shrinking..."}):i.jsx(i.Fragment,{})}),e[1]=s.state,e[2]=r):r=e[2],r}function $r(t){const e=X.c(18),{failure:s}=t;let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",alignItems:"center",gap:"0.7rem",marginBottom:"1rem"},r=i.jsx("div",{className:"failure__title",children:"Failure"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let o;e[2]!==s?(o=i.jsxs("div",{style:n,children:[r,i.jsx(Cr,{failure:s})]}),e[2]=s,e[3]=o):o=e[3];let l;e[4]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx("div",{className:"failure__item__subtitle",children:"Call"}),e[4]=l):l=e[4];const a=s.observation.metadata.get("reproduction_decorator")+`
`+s.observation.representation;let c;e[5]!==a?(c=i.jsx("pre",{children:i.jsx("code",{className:"language-python",children:a})}),e[5]=a,e[6]=c):c=e[6];let u;e[7]===Symbol.for("react.memo_cache_sentinel")?(u=i.jsx("div",{className:"failure__item__subtitle",children:"Traceback"}),e[7]=u):u=e[7];let m;e[8]!==s.observation.metadata?(m=s.observation.metadata.get("traceback"),e[8]=s.observation.metadata,e[9]=m):m=e[9];let f;e[10]!==m?(f=i.jsx("pre",{children:i.jsx("code",{className:"language-python",children:m})}),e[10]=m,e[11]=f):f=e[11];let h;e[12]!==c||e[13]!==f?(h=i.jsxs("div",{className:"failure__item",children:[l,c,u,f]}),e[12]=c,e[13]=f,e[14]=h):h=e[14];let d;return e[15]!==h||e[16]!==o?(d=i.jsxs("div",{className:"card",children:[o,h]}),e[15]=h,e[16]=o,e[17]=d):d=e[17],d}function Rr(t){const e=X.c(5),{failure:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsx("div",{className:"failure__title",children:"Fatal failure"}),e[0]=n):n=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=i.jsx("div",{className:"failure__item__subtitle",children:"Traceback"}),e[1]=r):r=e[1];let o;e[2]===Symbol.for("react.memo_cache_sentinel")?(o={whiteSpace:"pre-wrap"},e[2]=o):o=e[2];let l;return e[3]!==s.traceback?(l=i.jsxs("div",{className:"card",children:[n,i.jsxs("div",{className:"failure__item",children:[r,i.jsx("pre",{children:i.jsx("code",{className:"language-python",style:o,children:s.traceback})})]})]}),e[3]=s.traceback,e[4]=l):l=e[4],l}function Er(){const t=X.c(55),{nodeid:e}=rs(),{tests:s}=nt(e),n=A.useRef(null),[r,o]=A.useState(null);let l,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{Kt().then(I=>{o(I)})},a=[],t[0]=l,t[1]=a):(l=t[0],a=t[1]),A.useEffect(l,a);let c;if(t[2]!==e||t[3]!==s){const I=s.get(e);c=I?new Ae(I.database_key,I.nodeid,I.rolling_observations,I.corpus_observations,I.failures,I.fatal_failure,I.reports_by_worker,I.stability):null,t[2]=e,t[3]=s,t[4]=c}else c=t[4];const u=c;let m,f;if(t[5]!==u?(m=()=>{u&&Ft(n)},f=[u],t[5]=u,t[6]=m,t[7]=f):(m=t[6],f=t[7]),A.useEffect(m,f),!e||!u){let I;return t[8]===Symbol.for("react.memo_cache_sentinel")?(I=i.jsx("div",{children:"Test not found"}),t[8]=I):I=t[8],I}let h;t[9]!==u?(h=lt(u),t[9]=u,t[10]=h):h=t[10];const d=h;let y;t[11]===Symbol.for("react.memo_cache_sentinel")?(y={content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:$e})}),tooltip:"Number of inputs"})},t[11]=y):y=t[11];let v;t[12]===Symbol.for("react.memo_cache_sentinel")?(v={content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:ke})}),tooltip:"Number of behaviors (typically branches) found"})},t[12]=v):v=t[12];let x;t[13]===Symbol.for("react.memo_cache_sentinel")?(x={content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Ce})}),tooltip:"Number of fingerprints (sets of behaviors) found"})},t[13]=x):x=t[13];let _;t[14]===Symbol.for("react.memo_cache_sentinel")?(_={content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:$t})}),tooltip:"Inputs per second"})},t[14]=_):_=t[14];let b;t[15]===Symbol.for("react.memo_cache_sentinel")?(b={content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Rt})}),tooltip:"Number of inputs since a new behavior"})},t[15]=b):b=t[15];let j;t[16]===Symbol.for("react.memo_cache_sentinel")?(j={content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Re})}),tooltip:"Total time spent running"})},t[16]=j):j=t[16];let w;t[17]===Symbol.for("react.memo_cache_sentinel")?(w=[y,v,x,_,b,j,{content:i.jsx(re,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Et})}),tooltip:"Coverage stability (percentage of inputs with deterministic coverage when replayed)"})}],t[17]=w):w=t[17];const R=w;let $;t[18]===Symbol.for("react.memo_cache_sentinel")?($=i.jsxs(ue,{to:"/",className:"back-link",children:[i.jsx(Y,{icon:Ns})," All tests"]}),t[18]=$):$=t[18];let N,E;t[19]===Symbol.for("react.memo_cache_sentinel")?(N={display:"flex",alignItems:"center",gap:"0.7rem"},E={wordBreak:"break-all",fontSize:"1.5rem",fontWeight:"bold"},t[19]=N,t[20]=E):(N=t[19],E=t[20]);let L;t[21]!==e?(L=i.jsx("span",{style:E,children:e}),t[21]=e,t[22]=L):L=t[22];let P;t[23]!==u.status?(P=i.jsx(ot,{status:u.status}),t[23]=u.status,t[24]=P):P=t[24];let D;t[25]!==L||t[26]!==P?(D=i.jsxs("div",{style:N,children:[L,P]}),t[25]=L,t[26]=P,t[27]=D):D=t[27];let T;t[28]===Symbol.for("react.memo_cache_sentinel")?(T={paddingTop:"1rem",paddingBottom:"1rem"},t[28]=T):T=t[28];let p;t[29]!==d?(p=i.jsx("div",{style:T,children:i.jsx(rt,{headers:R,data:[d],row:Tr})}),t[29]=d,t[30]=p):p=t[30];let S;t[31]!==D||t[32]!==p?(S=i.jsxs("div",{className:"card",children:[D,p]}),t[31]=D,t[32]=p,t[33]=S):S=t[33];let g;t[34]!==e||t[35]!==u?(g=new Map([[e,u]]),t[34]=e,t[35]=u,t[36]=g):g=t[36];let k;t[37]!==g?(k=i.jsx(zt,{tests:g,workerViewSetting:"graph_worker_view_test"}),t[37]=g,t[38]=k):k=t[38];let M;t[39]!==u.normalFailures?(M=u.normalFailures.map(Ar),t[39]=u.normalFailures,t[40]=M):M=t[40];let V;t[41]!==u.fatal_failure?(V=u.fatal_failure&&i.jsx(Rr,{failure:u.fatal_failure}),t[41]=u.fatal_failure,t[42]=V):V=t[42];let C;t[43]!==u?(C=i.jsx(En,{test:u}),t[43]=u,t[44]=C):C=t[44];let B;t[45]!==e||t[46]!==r?(B=(r==null?void 0:r.includes(e))&&i.jsx("div",{className:"card",children:i.jsx(et,{title:"Patches",defaultState:"closed",headerClass:"card__header",children:i.jsx(Yt,{nodeid:e})})}),t[45]=e,t[46]=r,t[47]=B):B=t[47];let O;return t[48]!==S||t[49]!==k||t[50]!==M||t[51]!==V||t[52]!==C||t[53]!==B?(O=i.jsxs("div",{ref:n,children:[$,S,k,M,V,C,B]}),t[48]=S,t[49]=k,t[50]=M,t[51]=V,t[52]=C,t[53]=B,t[54]=O):O=t[54],O}function Ar(t){return i.jsx($r,{failure:t})}function Tr(t){return[i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.inputs}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.behaviors}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.fingerprints}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.executions}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.inputsSinceBranch}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.timeSpent}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.stability})]}function ae(t){const e=X.c(5),{icon:s,tooltip:n}=t;let r;e[0]!==s?(r=i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:s})}),e[0]=s,e[1]=r):r=e[1];let o;return e[2]!==r||e[3]!==n?(o=i.jsx(re,{content:r,tooltip:n}),e[2]=r,e[3]=n,e[4]=o):o=e[4],o}function me(t){const e=X.c(5),{icon:s,value:n}=t;let r;e[0]!==n?(r=i.jsx("span",{className:"table__inline-statistic__value",children:n}),e[0]=n,e[1]=r):r=e[1];let o;return e[2]!==s||e[3]!==r?(o=i.jsxs("div",{className:"table__inline-statistic",children:[s,r]}),e[2]=s,e[3]=r,e[4]=o):o=e[4],o}function Mr(t){const e=X.c(16),{tests:s,onFilterChange:n}=t;let r;e[0]!==s?(r=Array.from(s).sortKey(Yr).map(Wr),e[0]=s,e[1]=r):r=e[1];const o=r;let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx(ae,{icon:$e,tooltip:"Number of inputs"}),e[2]=l):l=e[2];const a=l;let c;e[3]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(ae,{icon:ke,tooltip:"Number of behaviors (typically branches) found"}),e[3]=c):c=e[3];const u=c;let m;e[4]===Symbol.for("react.memo_cache_sentinel")?(m=i.jsx(ae,{icon:Ce,tooltip:"Number of fingerprints (sets of behaviors) found"}),e[4]=m):m=e[4];const f=m;let h;e[5]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsx(ae,{icon:$t,tooltip:"Inputs per second"}),e[5]=h):h=e[5];const d=h;let y;e[6]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx(ae,{icon:Rt,tooltip:"Number of inputs since a new behavior"}),e[6]=y):y=e[6];const v=y;let x;e[7]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(ae,{icon:Re,tooltip:"Total time spent running"}),e[7]=x):x=e[7];const _=x;let b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=i.jsx(ae,{icon:Et,tooltip:"Coverage stability (percentage of inputs with deterministic coverage when replayed)"}),e[8]=b):b=e[8];const j=b;let w;e[9]===Symbol.for("react.memo_cache_sentinel")?(w=[{content:"Test",sortKey:Kr},{content:"Status",sortKey:Ur,align:"center"},{content:a,align:"right",sortKey:Xr},{content:u,align:"right",sortKey:Br},{content:f,align:"right",sortKey:Or},{content:d,align:"right",sortKey:Vr},{content:v,align:"right",sortKey:Fr},{content:_,align:"right",sortKey:Ir},{content:j,align:"right",sortKey:Dr}],e[9]=w):w=e[9];const R=w,$=Pr;let N;e[10]===Symbol.for("react.memo_cache_sentinel")?(N=function(S){const g=lt(S);return i.jsxs("div",{className:"table__mobile-row",children:[i.jsxs("div",{className:"table__mobile-row__header",children:[i.jsx(ue,{to:`/tests/${encodeURIComponent(S.nodeid)}`,className:"test__link",style:{wordBreak:"break-all"},children:S.nodeid}),i.jsx(ot,{status:S.status})]}),i.jsxs("div",{className:"table__mobile-row__statistics",children:[i.jsx(me,{icon:a,value:g.inputs}),i.jsx(me,{icon:u,value:g.behaviors}),i.jsx(me,{icon:d,value:g.executions}),i.jsx(me,{icon:v,value:g.inputsSinceBranch}),i.jsx(me,{icon:_,value:g.timeSpent}),i.jsx(me,{icon:j,value:g.stability})]})]})},e[10]=N):N=e[10];const E=N;let L;e[11]===Symbol.for("react.memo_cache_sentinel")?(L=function(S){return[S.nodeid,de[S.status]]},e[11]=L):L=e[11];const P=L;let D;e[12]===Symbol.for("react.memo_cache_sentinel")?(D=i.jsx("div",{className:"card__header",children:"Tests"}),e[12]=D):D=e[12];let T;return e[13]!==n||e[14]!==o?(T=i.jsxs("div",{className:"card",children:[D,i.jsx(rt,{headers:R,data:o,row:$,mobileRow:E,getKey:Lr,filterStrings:P,onFilterChange:n})]}),e[13]=n,e[14]=o,e[15]=T):T=e[15],T}function Lr(t){return t.database_key??void 0}function Pr(t){const e=lt(t);return[i.jsx(ue,{to:`/tests/${encodeURIComponent(t.nodeid)}`,className:"test__link",style:{wordBreak:"break-all"},children:t.nodeid}),i.jsx("div",{style:{textAlign:"center"},children:i.jsx(ot,{status:t.status})}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:e.inputs}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:e.behaviors}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:e.fingerprints}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:e.executions}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:e.inputsSinceBranch}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:e.timeSpent}),i.jsx("div",{style:{textAlign:"center",fontVariantNumeric:"tabular-nums"},children:e.stability})]}function Dr(t){return t.stability??0}function Ir(t){return t.elapsed_time(null)}function Fr(t){return t.since_new_behavior??0}function Vr(t){return qt(t)??-1}function Or(t){return t.fingerprints}function Br(t){return t.behaviors}function Xr(t){return t.ninputs(null)}function Ur(t){return t.status}function Kr(t){return t.nodeid}function Wr(t){const[,e]=t;return e}function Yr(t){const[e,s]=t,n=s.ninputs(null);return[s.status,n!=null?-n:-1,e]}function Hr(){const t=X.c(9),{tests:e}=nt(),[s,n]=A.useState("");let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[Je.TOGETHER,Je.LATEST],t[0]=r):r=t[0];let o;t[1]!==s||t[2]!==e?(o=i.jsx(zt,{tests:e,filterString:s,workerViews:r,workerViewSetting:"graph_worker_view_tests"}),t[1]=s,t[2]=e,t[3]=o):o=t[3];let l;t[4]!==e?(l=i.jsx(Mr,{tests:e,onFilterChange:n}),t[4]=e,t[5]=l):l=t[5];let a;return t[6]!==o||t[7]!==l?(a=i.jsxs("div",{className:"dashboard",children:[o,l]}),t[6]=o,t[7]=l,t[8]=a):a=t[8],a}function zr(t){const e=X.c(43),{min:s,max:n,value:r,onChange:o,step:l}=t,a=l===void 0?1:l,[c,u]=A.useState(null),m=A.useRef(null);console.assert(s<=n,`min: ${s} max: ${n}`);const[f,h]=r,d=n-s,y=d===0?0:(f-s)/d*100,v=d===0?100:(h-s)/d*100,x=y<50?1:2,_=v<50?2:1;let b;e[0]!==n||e[1]!==s||e[2]!==d||e[3]!==a?(b=U=>{if(!m.current)return s;const H=m.current.getBoundingClientRect(),z=Math.max(0,Math.min(100,(U-H.left)/H.width*100)),G=s+z/100*d,ee=Math.round(G/a)*a;return Math.max(s,Math.min(n,ee))},e[0]=n,e[1]=s,e[2]=d,e[3]=a,e[4]=b):b=e[4];const j=b;let w;e[5]===Symbol.for("react.memo_cache_sentinel")?(w=U=>H=>{H.preventDefault(),u(U)},e[5]=w):w=e[5];const R=w;let $;e[6]!==c||e[7]!==j||e[8]!==h||e[9]!==f||e[10]!==o?($=U=>{if(!c)return;const H=j(U.clientX);o(c==="min"?[Math.min(H,h),h]:[f,Math.max(H,f)])},e[6]=c,e[7]=j,e[8]=h,e[9]=f,e[10]=o,e[11]=$):$=e[11];const N=$;let E;e[12]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{u(null)},e[12]=E):E=e[12];const L=E;let P;e[13]!==c||e[14]!==j||e[15]!==h||e[16]!==f||e[17]!==o?(P=U=>{if(c)return;const H=j(U.clientX),z=Math.abs(H-f),G=Math.abs(H-h);z<G?(o([Math.min(H,h),h]),u("min")):(o([f,Math.max(H,f)]),u("max"))},e[13]=c,e[14]=j,e[15]=h,e[16]=f,e[17]=o,e[18]=P):P=e[18];const D=P;let T,p;e[19]!==c||e[20]!==N?(T=()=>c?(document.addEventListener("mousemove",N),document.addEventListener("mouseup",L),()=>{document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",L)}):Gr,p=[c,N,L],e[19]=c,e[20]=N,e[21]=T,e[22]=p):(T=e[21],p=e[22]),A.useEffect(T,p);const S=`${y}%`,g=`${v-y}%`;let k;e[23]!==g||e[24]!==S?(k=i.jsx("div",{className:"range-slider__range",style:{left:S,width:g}}),e[23]=g,e[24]=S,e[25]=k):k=e[25];const M=`${y}%`;let V;e[26]!==M||e[27]!==x?(V={left:M,zIndex:x},e[26]=M,e[27]=x,e[28]=V):V=e[28];let C;e[29]===Symbol.for("react.memo_cache_sentinel")?(C=R("min"),e[29]=C):C=e[29];let B;e[30]!==V?(B=i.jsx("div",{className:"range-slider__thumb range-slider__thumb--min",style:V,onMouseDown:C}),e[30]=V,e[31]=B):B=e[31];const O=`${v}%`;let I;e[32]!==O||e[33]!==_?(I={left:O,zIndex:_},e[32]=O,e[33]=_,e[34]=I):I=e[34];let F;e[35]===Symbol.for("react.memo_cache_sentinel")?(F=R("max"),e[35]=F):F=e[35];let W;e[36]!==I?(W=i.jsx("div",{className:"range-slider__thumb range-slider__thumb--max",style:I,onMouseDown:F}),e[36]=I,e[37]=W):W=e[37];let K;return e[38]!==D||e[39]!==k||e[40]!==B||e[41]!==W?(K=i.jsx("div",{className:"range-slider",children:i.jsx("div",{className:"range-slider__container",children:i.jsxs("div",{ref:m,className:"range-slider__track",onMouseDown:D,children:[k,B,W]})})}),e[38]=D,e[39]=k,e[40]=B,e[41]=W,e[42]=K):K=e[42],K}function Gr(){}let qr=class{constructor(e,s){this.uuid=e,this.segments=s}visibleSegments(e){return this.segments.filter(s=>s.end>=e[0]&&s.start<=e[1])}};const ze=[{label:"Latest",duration:null},{label:"1 hour",duration:1*60*60},{label:"1 day",duration:24*60*60},{label:"7 days",duration:7*24*60*60},{label:"1 month",duration:30*24*60*60},{label:"3 months",duration:90*24*60*60}];function Le(t){return new Date(t*1e3).toLocaleString()}const Jr=5*60;function Zr(t){if(console.assert(t.every((r,o)=>o===0||r.start>=t[o-1].start)),t.length==0)return[];let e=[],s=t[0].start,n=t[0].end;for(const r of t)r.start>n+Jr&&(e.push([s,n]),s=r.start),n=Math.max(n,r.end);return e.push([s,n]),e}function Qr(t){let e=0;for(let o=0;o<t.length;o++)e=(e<<5)-e+t.charCodeAt(o)&4294967295;const s=Math.abs(e)%360,n=45+Math.abs(e>>8)%30,r=45+Math.abs(e>>16)%20;return`hsl(${s}, ${n}%, ${r}%)`}function Ne(t){const e=X.c(7),{label:s,value:n}=t;let r;e[0]!==s?(r=i.jsx("span",{className:"workers__worker__details__label",children:s}),e[0]=s,e[1]=r):r=e[1];let o;e[2]!==n?(o=i.jsx("span",{className:"workers__worker__details__value",children:n}),e[2]=n,e[3]=o):o=e[3];let l;return e[4]!==r||e[5]!==o?(l=i.jsxs("div",{className:"workers__worker__details__item",children:[r,o]}),e[4]=r,e[5]=o,e[6]=l):l=e[6],l}const ei=t=>{const e=X.c(34),{worker:s,range:n,expandedWorkers:r,onWorkerClick:o,segmentStyle:l,navigate:a,showTooltip:c,hideTooltip:u,moveTooltip:m}=t,f=s.uuid,h=`workers__worker${r.has(s.uuid)?" workers__worker--expanded":""}`;let d;e[0]!==o||e[1]!==s.uuid?(d=()=>o(s.uuid),e[0]=o,e[1]=s.uuid,e[2]=d):d=e[2];let y;e[3]!==u?(y=()=>u("workers"),e[3]=u,e[4]=y):y=e[4];let v;e[5]!==u?(v=()=>u("workers"),e[5]=u,e[6]=v):v=e[6];let x;if(e[7]!==u||e[8]!==m||e[9]!==a||e[10]!==n||e[11]!==l||e[12]!==c||e[13]!==s){let w;e[15]!==u||e[16]!==m||e[17]!==a||e[18]!==l||e[19]!==c?(w=(R,$)=>i.jsx("div",{className:"workers__timeline__segment",style:l(R),onClick:N=>{Vt(N,`/tests/${encodeURIComponent(R.nodeid)}`,a),N.stopPropagation()},onMouseEnter:N=>c(Ot(R.nodeid),N.clientX,N.clientY,"workers"),onMouseLeave:()=>u("workers"),onMouseMove:N=>m(N.clientX,N.clientY,"workers")},$),e[15]=u,e[16]=m,e[17]=a,e[18]=l,e[19]=c,e[20]=w):w=e[20],x=s.visibleSegments(n).map(w),e[7]=u,e[8]=m,e[9]=a,e[10]=n,e[11]=l,e[12]=c,e[13]=s,e[14]=x}else x=e[14];let _;e[21]!==v||e[22]!==x?(_=i.jsx("div",{className:"workers__worker__bar",onMouseLeave:v,children:x}),e[21]=v,e[22]=x,e[23]=_):_=e[23];let b;e[24]!==r||e[25]!==s?(b=r.has(s.uuid)&&i.jsx(ti,{worker:s}),e[24]=r,e[25]=s,e[26]=b):b=e[26];let j;return e[27]!==h||e[28]!==d||e[29]!==y||e[30]!==_||e[31]!==b||e[32]!==s.uuid?(j=i.jsxs("div",{className:h,onClick:d,onMouseLeave:y,children:[_,b]},f),e[27]=h,e[28]=d,e[29]=y,e[30]=_,e[31]=b,e[32]=s.uuid,e[33]=j):j=e[33],j},ti=t=>{const e=X.c(19),{worker:s}=t;let n;e[0]!==s.uuid?(n=i.jsx(Ne,{label:"Worker UUID",value:s.uuid}),e[0]=s.uuid,e[1]=n):n=e[1];const r=s.segments[s.segments.length-1].end-s.segments[0].start;let o;e[2]!==r?(o=Gt(r),e[2]=r,e[3]=o):o=e[3];let l;e[4]!==o?(l=i.jsx(Ne,{label:"Lifetime",value:o}),e[4]=o,e[5]=l):l=e[5];let a;e[6]!==s.segments[0].start?(a=Le(s.segments[0].start),e[6]=s.segments[0].start,e[7]=a):a=e[7];let c;e[8]!==a?(c=i.jsx(Ne,{label:"Started",value:a}),e[8]=a,e[9]=c):c=e[9];const u=s.segments[s.segments.length-1];let m;e[10]!==u.end?(m=Le(u.end),e[10]=u.end,e[11]=m):m=e[11];let f;e[12]!==m?(f=i.jsx(Ne,{label:"Last seen",value:m}),e[12]=m,e[13]=f):f=e[13];let h;return e[14]!==n||e[15]!==l||e[16]!==c||e[17]!==f?(h=i.jsx("div",{className:"workers__worker__details",children:i.jsxs("div",{className:"workers__worker__details__grid",children:[n,l,c,f]})}),e[14]=n,e[15]=l,e[16]=c,e[17]=f,e[18]=h):h=e[18],h};function si(){const{tests:t}=nt(),e=Nt(),{showTooltip:s,hideTooltip:n,moveTooltip:r}=De(),[o,l]=A.useState(new Set),[a,c]=A.useState(ze[0]),[u,m]=A.useState(null),[f,h]=A.useState(!1);function d(g){m(g),h((g==null?void 0:g[1])==_)}const y=ks(Array.from(t.values()).map(g=>Array.from(g.reports_by_worker.keys())).flat().sortKey(g=>g)),v=new Map;y.forEach(g=>{const k=[];v.set(g,k),Array.from(t.values()).forEach(M=>{if(!M.reports_by_worker.has(g))return;const V=M.reports_by_worker.get(g);k.push(...V.map(C=>({timestamp_monotonic:C.timestamp_monotonic,nodeid:M.nodeid})))}),k.sortKey(M=>M.timestamp_monotonic)});let x=1/0,_=-1/0,b=[];y.forEach(g=>{const k=v.get(g),M=[];let V=null;k.forEach((C,B)=>{x=Math.min(x,C.timestamp_monotonic),_=Math.max(_,C.timestamp_monotonic),!V||V.nodeid!==C.nodeid?(V&&M.push(V),V={nodeid:C.nodeid,start:C.timestamp_monotonic,end:C.timestamp_monotonic}):V.end=C.timestamp_monotonic,B===k.length-1&&V&&M.push(V)}),b.push(new qr(g,M))}),b.sortKey(g=>g.segments[0].start);const j=b.flatMap(g=>g.segments).sortKey(g=>g.start),w=Zr(j),R=_-x,$=ze.findIndex(g=>g.duration!==null&&g.duration>=R);function N(){if(a.duration===null){const V=w[w.length-1];return w.length>0?[V[0],V[1]]:[x,_]}const g=[Math.max(x,_-a.duration),_];let k=null,M=null;for(const V of b){const C=V.visibleSegments(g);C.length!==0&&((k===null||C[0].start<k)&&(k=C[0].start),(M===null||C[C.length-1].end>M)&&(M=C[C.length-1].end))}return[k??g[0],M??g[1]]}const E=N();f&&u&&(u[1]=_);let L=u??E;A.useEffect(()=>{d(null)},[a]);const[P,D]=L,T=D-P,p=g=>{let k,M;return T===0?(k=0,M=100):(k=(g.start-P)/T*100,M=(g.end-g.start)/T*100),M=Math.max(M,.1),{left:`${k}%`,width:`${M}%`,backgroundColor:Qr(g.nodeid)}},S=g=>{l(k=>{const M=new Set(k);return M.has(g)?M.delete(g):M.add(g),M})};return i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card__header",children:"Workers "}),i.jsxs("div",{className:"card__body",children:[i.jsxs("div",{className:"card__text",children:[i.jsx("div",{className:"card__text__paragraph",children:"This page shows the history of your workers, and what tests they have been fuzzing."}),i.jsx("div",{className:"card__text__paragraph",children:'Roughly speaking, "one worker" = "one CPU core".'})]}),i.jsxs("div",{className:"workers",children:[i.jsxs("div",{className:"workers__controls",children:[i.jsx("div",{className:"workers__durations",children:ze.map((g,k)=>{const M=k<=$;return i.jsx("div",{className:`workers__durations__button ${a.label===g.label?"workers__durations__button--active":""} ${M?"":"workers__durations__button--disabled"}`,onClick:()=>{M&&(c(g),d(null))},children:g.label},k)})}),i.jsx(zr,{min:E[0],max:E[1],value:L,onChange:g=>d(g),step:(E[1]-E[0])/1e3})]}),i.jsxs("div",{className:"workers__timeline-header",children:[i.jsx("span",{className:"workers__timeline-header__label",children:Le(P)}),i.jsx("span",{className:"workers__timeline-header__label",children:Le(D)})]}),b.map(g=>g.visibleSegments(L).length>0&&i.jsx(ei,{worker:g,range:L,expandedWorkers:o,onWorkerClick:S,segmentStyle:p,navigate:e,showTooltip:s,hideTooltip:n,moveTooltip:r},g.uuid))]})]})]})}function ni(){const t=X.c(7),e=is;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=i.jsx(Dn,{}),t[0]=s):s=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsx(le,{path:"/",element:i.jsx(Hr,{})}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=i.jsx(le,{path:"/patches",element:i.jsx(sr,{})}),t[2]=r):r=t[2];let o;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=i.jsx(le,{path:"/collected",element:i.jsx(Wn,{})}),t[3]=o):o=t[3];let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx(le,{path:"/workers",element:i.jsx(si,{})}),t[4]=l):l=t[4];let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsx(le,{path:"/tests/:nodeid",element:i.jsx(Er,{})}),t[5]=a):a=t[5];let c;return t[6]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(e,{children:i.jsx(Us,{children:i.jsx(Tn,{children:i.jsx(zs,{children:i.jsx(os,{children:i.jsxs(le,{element:s,children:[n,r,o,l,a,i.jsx(le,{path:"*",element:i.jsx(Zn,{})})]})})})})})}),t[6]=c):c=t[6],c}Vs.createRoot(document.getElementById("app")).render(i.jsx(ls.StrictMode,{children:i.jsx(ni,{})}));
//# sourceMappingURL=index-CXo1vYBC.js.map
