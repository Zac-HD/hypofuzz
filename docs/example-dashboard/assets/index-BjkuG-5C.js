var is=Object.defineProperty;var rs=(t,e,s)=>e in t?is(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s;var ne=(t,e,s)=>rs(t,typeof e!="symbol"?e+"":e,s);import{r as ls,g as Ct,a as os,b as M,u as lt,c as as,L as he,O as cs,d as Et,e as us,f as fe,H as fs,h as ms,R as ds}from"./react-D4xWmHHw.js";import{F as Y,f as Mt,S as ee,r as hs,a as _s,b as ps,c as gs,d as xs,e as ys,L as _e,g as bs,h as vs,i as js,j as Ss,k as tt,l as ws,m as Ns,n as ks,o as $s,p as At,q as Rs,s as Cs,t as Es,u as ht,v as _t,w as Ne,x as ke,y as $e,z as Re,A as Tt,B as Lt,C as Pt,D as Ms,O as As}from"./vendor-ae629wCL.js";import{d as It,a as Ts,b as Ls,c as Ps,o as Dt,l as Ie,e as Is,s as pt,i as ze,f as Ds,g as Fs,h as Xs,j as Os,q as Bs}from"./d3-DfGPKUIz.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();var Ke={exports:{}},ye={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt;function Vs(){if(gt)return ye;gt=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function s(n,r,l){var o=null;if(l!==void 0&&(o=""+l),r.key!==void 0&&(o=""+r.key),"key"in r){l={};for(var a in r)a!=="key"&&(l[a]=r[a])}else l=r;return r=l.ref,{$$typeof:t,type:n,key:o,ref:r!==void 0?r:null,props:l}}return ye.Fragment=e,ye.jsx=s,ye.jsxs=s,ye}var xt;function Us(){return xt||(xt=1,Ke.exports=Vs()),Ke.exports}var i=Us();Array.prototype.sortKey||(Array.prototype.sortKey=function(t){return this.sort((e,s)=>{const n=t(e),r=t(s);if(Array.isArray(n)&&Array.isArray(r)){for(let l=0;l<Math.min(n.length,r.length);l++){if(n[l]<r[l])return-1;if(n[l]>r[l])return 1}return 0}return n<r?-1:n>r?1:0})});var Ws=ls();const Ys=Ct(Ws);var He={exports:{}},Ge={};/**
 * @license React
 * react-compiler-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt;function zs(){if(yt)return Ge;yt=1;var t=os().__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;return Ge.c=function(e){return t.H.useMemoCache(e)},Ge}var bt;function Ks(){return bt||(bt=1,He.exports=zs()),He.exports}var W=Ks();function Hs(t){const e=W.c(15),{message:s,onDismiss:n,isVisible:r}=t,[l,o]=M.useState(r);let a,c;if(e[0]!==r?(a=()=>{if(r){o(!0);return}else{const y=setTimeout(()=>{o(!1)},300);return()=>clearTimeout(y)}},c=[r],e[0]=r,e[1]=a,e[2]=c):(a=e[1],c=e[2]),M.useEffect(a,c),!l)return null;const f=`notification ${r?"notification--visible":"notification--hidden"}`;let m;e[3]!==s?(m=i.jsx("div",{className:"notification__content",children:s}),e[3]=s,e[4]=m):m=e[4];let u;e[5]!==n?(u=y=>{y.stopPropagation(),n()},e[5]=n,e[6]=u):u=e[6];let d;e[7]===Symbol.for("react.memo_cache_sentinel")?(d=i.jsx(Y,{icon:Mt}),e[7]=d):d=e[7];let h;e[8]!==u?(h=i.jsx("button",{className:"notification__close",onClick:u,"aria-label":"Close notification",children:d}),e[8]=u,e[9]=h):h=e[9];let x;return e[10]!==n||e[11]!==f||e[12]!==m||e[13]!==h?(x=i.jsxs("div",{className:f,onClick:n,children:[m,h]}),e[10]=n,e[11]=f,e[12]=m,e[13]=h,e[14]=x):x=e[14],x}const Ft=M.createContext(null);function Gs(t){const e=W.c(14),{children:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],e[0]=n):n=e[0];const[r,l]=M.useState(n);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=new Map,e[1]=o):o=e[1];const a=M.useRef(o),c=M.useRef(0);let f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=g=>{clearTimeout(a.current.get(g)),a.current.delete(g),l(v=>v.filter(w=>w.id!==g))},e[2]=f):f=e[2];const m=f;let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=(g,v)=>{const w=c.current=c.current+1,k={id:w,message:g,duration:v};if(l(S=>[...S,k]),v!==null){const S=setTimeout(()=>{m(w)},v);a.current.set(w,S)}return w},e[3]=u):u=e[3];const d=u;let h;e[4]===Symbol.for("react.memo_cache_sentinel")?(h=(g,v,w)=>{if(l(k=>k.map(S=>S.id===g?{...S,message:v,duration:w}:S)),w!==null){clearTimeout(a.current.get(g));const k=setTimeout(()=>{m(g)},w);a.current.set(g,k)}},e[4]=h):h=e[4];const x=h;let y;e[5]===Symbol.for("react.memo_cache_sentinel")?(y={addNotification:d,updateNotification:x,dismissNotification:m},e[5]=y):y=e[5];let b;if(e[6]!==r){let g;e[8]===Symbol.for("react.memo_cache_sentinel")?(g=(v,w)=>i.jsx("div",{className:"notification-wrapper",style:{top:`${20+w*80}px`},children:i.jsx(Hs,{message:v.message,isVisible:!0,onDismiss:()=>m(v.id)})},v.id),e[8]=g):g=e[8],b=r.map(g),e[6]=r,e[7]=b}else b=e[7];let _;e[9]!==b?(_=i.jsx("div",{className:"notifications",children:b}),e[9]=b,e[10]=_):_=e[10];let p;return e[11]!==s||e[12]!==_?(p=i.jsxs(Ft.Provider,{value:y,children:[s,_]}),e[11]=s,e[12]=_,e[13]=p):p=e[13],p}function qs(){const t=M.useContext(Ft);if(!t)throw new Error("useNotification must be used within a NotificationProvider");return t}function ot(){const t=W.c(2),[e,s]=M.useState(!1);let n,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{const l=function(){s(window.matchMedia("(max-width: 768px)").matches)};return l(),window.addEventListener("resize",l),()=>window.removeEventListener("resize",l)},r=[],t[0]=n,t[1]=r):(n=t[0],r=t[1]),M.useEffect(n,r),e}function xe(t){const e=W.c(9),{value:s,onChange:n,options:r,disabled:l}=t,o=l===void 0?!1:l,a=ot();console.assert(ee(r.map(Js)).size===r.length);const c=`toggle ${o?"toggle--disabled":""}`;let f;e[0]!==o||e[1]!==a||e[2]!==n||e[3]!==r||e[4]!==s?(f=r.map(u=>i.jsx("button",{className:`toggle__button${s===u.value?" toggle__button--active":""} ${o?"toggle__button--disabled":""}`,onClick:()=>{if(!o)if(r.length==2&&s===u.value){const d=r.find(h=>h.value!==u.value).value;n(d)}else n(u.value)},children:a?u.mobileContent??u.content:u.content},String(u.value))),e[0]=o,e[1]=a,e[2]=n,e[3]=r,e[4]=s,e[5]=f):f=e[5];let m;return e[6]!==c||e[7]!==f?(m=i.jsx("div",{className:c,children:f}),e[6]=c,e[7]=f,e[8]=m):m=e[8],m}function Js(t){return t.value}class Xt{constructor(e,s,n,r,l){ne(this,"createdAt");this.name=e,this.valueName=s,this.predicate=n,this.key=r,this.extraData=l,this.createdAt=Date.now()}}const Ot=M.createContext(void 0);function Zs(t){const e=W.c(18),{children:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=["covering",new Map],e[0]=n):n=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=new Map([n,["rolling",new Map]]),e[1]=r):r=e[1];const[l,o]=M.useState(r),[a,c]=M.useState("covering");let f;e[2]!==l||e[3]!==a?(f=l.get(a)||new Map,e[2]=l,e[3]=a,e[4]=f):f=e[4];const m=f;let u;e[5]!==a?(u=p=>{o(g=>{const v=new Map(g);return v.set(a,p),v})},e[5]=a,e[6]=u):u=e[6];const d=u;let h;e[7]!==m||e[8]!==d?(h=p=>{const g=new Map(m),w=(g.get(p)||[]).filter(k=>k.key!==p);w.length===0?g.delete(p):g.set(p,w),d(g)},e[7]=m,e[8]=d,e[9]=h):h=e[9];const x=h;let y;e[10]!==m||e[11]!==a||e[12]!==x||e[13]!==d?(y={filters:m,setFilters:d,removeFilter:x,observationCategory:a,setObservationCategory:c},e[10]=m,e[11]=a,e[12]=x,e[13]=d,e[14]=y):y=e[14];const b=y;let _;return e[15]!==s||e[16]!==b?(_=i.jsx(Ot.Provider,{value:b,children:s}),e[15]=s,e[16]=b,e[17]=_):_=e[17],_}function Be(){const t=M.useContext(Ot);if(t===void 0)throw new Error("useFilters must be used within a FilterProvider");return t}const Bt=M.createContext(null);function Qs(t){const e=W.c(8),{state:s}=t;if(!s.visible)return null;const n=`${s.x+10}px`,r=`${s.y-28}px`;let l;e[0]!==n||e[1]!==r?(l={position:"fixed",left:n,top:r,display:"block",pointerEvents:"none",zIndex:9999},e[0]=n,e[1]=r,e[2]=l):l=e[2];let o;e[3]!==s.content?(o=typeof s.content=="string"?i.jsx("div",{dangerouslySetInnerHTML:{__html:s.content}}):s.content,e[3]=s.content,e[4]=o):o=e[4];let a;return e[5]!==l||e[6]!==o?(a=as.createPortal(i.jsx("div",{className:"cursor-tooltip",style:l,children:o}),document.body),e[5]=l,e[6]=o,e[7]=a):a=e[7],a}function en(t){const e=W.c(15),{children:s}=t,n=lt();let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r={visible:!1,content:"",x:0,y:0,owner:null},e[0]=r):r=e[0];const[l,o]=M.useState(r);let a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{o(tn)},e[1]=a):a=e[1];let c;e[2]!==n.pathname?(c=[n.pathname],e[2]=n.pathname,e[3]=c):c=e[3],M.useEffect(a,c);let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=(g,v,w,k)=>{o({visible:!0,content:g,x:v,y:w,owner:k})},e[4]=f):f=e[4];const m=f;let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=g=>{o(v=>v.owner===g?{...v,visible:!1,owner:null}:v)},e[5]=u):u=e[5];const d=u;let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=(g,v,w)=>{o(k=>k.visible&&k.owner===w&&(k.x!==g||k.y!==v)?{...k,x:g,y:v}:k)},e[6]=h):h=e[6];const x=h;let y;e[7]!==l.visible?(y={showTooltip:m,hideTooltip:d,moveTooltip:x,visible:l.visible},e[7]=l.visible,e[8]=y):y=e[8];const b=y;let _;e[9]!==l?(_=i.jsx(Qs,{state:l}),e[9]=l,e[10]=_):_=e[10];let p;return e[11]!==s||e[12]!==b||e[13]!==_?(p=i.jsxs(Bt.Provider,{value:b,children:[s,_]}),e[11]=s,e[12]=b,e[13]=_,e[14]=p):p=e[14],p}function tn(t){return{...t,visible:!1,owner:null}}function Ve(){const t=M.useContext(Bt);if(!t)throw new Error("useTooltip must be used within a TooltipProvider");return t}var sn=hs();const Me=Ct(sn);function Vt(t,e=0){return Array.from(t).reduce((s,n)=>s+n,e)}function Ut(t,e=!1){t.current&&(e&&t.current.querySelectorAll("code").forEach(s=>{s.removeAttribute("data-highlighted")}),t.current.querySelectorAll("code:not([data-highlighted='yes'])").forEach(s=>{Me.highlightElement(s)}))}function Ce(t,e){if(e){let s=null,n=null;for(let r=0;r<t.length;r++){const l=t[r],o=e(l);o!=null&&(n===null||o>n)&&(n=o,s=l)}return s}else{let s=null;for(let n=0;n<t.length;n++){const r=t[n];r!=null&&(s===null||r>s)&&(s=r)}return s}}function nn(t,e){{let s=null;for(let n=0;n<t.length;n++){const r=t[n];r!=null&&(s===null||r<s)&&(s=r)}return s}}function qe(t,e,s){let n=0,r=t.length;for(;n<r;){const l=n+r>>>1;(s?s(t[l])<=e:t[l]<=e)?n=l+1:r=l}return n}let be=null;function rn(){return be||(be=document.createElement("div"),be.style.cssText=`
      position: absolute;
      visibility: hidden;
      white-space: nowrap;
      top: -9999px;
      left: -9999px;
      pointer-events: none;
      z-index: -1;
    `,document.body.appendChild(be)),be}function Je(t,e=""){const s=rn();s.className=e,s.textContent=t;const n=s.getBoundingClientRect();return{width:n.width,height:n.height}}function Wt(t,e,s){if(t.metaKey||t.ctrlKey){const n=window.location,r=`${n.origin}${n.pathname}#${e}`;window.open(r,"_blank")}else s(e)}function Yt(t){return t.split("::").pop()||t}function zt(t,e="/"){if(!t||t.length<2)return"";const s=t.map(a=>a.split(e)),n=Math.min(...s.map(a=>a.length)),r=[];for(let a=0;a<n;a++){const c=s[0][a];if(!s.every(m=>m[a]===c))break;r.push(c)}if(r.length===0)return"";const l=r.join(e),o=l?l+e:"";return o&&t.every(a=>a.startsWith(o))?o:""}const oe={select:It,scaleLinear:Ie,scaleOrdinal:Dt,scaleBand:Ps,axisBottom:Ls,axisLeft:Ts};class Kt{constructor(e,s){this.key=e,this.name=s}getValue(e){return e.features.get(this.name)}}class ln extends Kt{constructor(){super(...arguments);ne(this,"isSystem",!1)}}class on extends Kt{constructor(s,n,r){super(s,n);ne(this,"isSystem",!0);this.key=s,this.name=n,this.value=r}getValue(s){return this.value(s)}}const vt=5,re=2.5;function an(t){const e=W.c(44),{feature:s,observations:n}=t,r=M.useRef(null),l=M.useRef(null),{filters:o,setFilters:a}=Be(),{showTooltip:c,hideTooltip:f,moveTooltip:m}=Ve();let u;e[0]!==s.key||e[1]!==o?(u=function(){const N=o.get(s.key)||[];if(N.length===0)return ee();console.assert(N.length===1);const L=N[0];return ee(L.extraData.selectedValues)},e[0]=s.key,e[1]=o,e[2]=u):u=e[2];const d=u;let h;e[3]!==d?(h=d(),e[3]=d,e[4]=h):h=e[4];const x=h;let y;e[5]!==n.raw?(y=n.raw.filter(_n),e[5]=n.raw,e[6]=y):y=e[6];let b;e[7]!==n.filtered?(b=n.filtered.filter(hn),e[7]=n.filtered,e[8]=b):b=e[8];let _;e[9]!==y||e[10]!==b?(_={raw:y,filtered:b},e[9]=y,e[10]=b,e[11]=_):_=e[11];const p=_;let g;e[12]!==s||e[13]!==o||e[14]!==x||e[15]!==a?(g=R=>{let N=ee();x.equals(ee([R]))?N=ee():N=ee([R]);let L;N.size===1?L=N.first():L=N.map(dn).join(" or ");const T=[];N.size>0&&T.push(new Xt(s.name,L,C=>N.some(F=>F===s.getValue(C)),`nominal-${s.key}`,{selectedValues:N}));const $=new Map(o);$.set(s.key,T),a($)},e[12]=s,e[13]=o,e[14]=x,e[15]=a,e[16]=g):g=e[16];const v=g;let w;e[17]!==s||e[18]!==p.filtered||e[19]!==p.raw||e[20]!==f||e[21]!==m||e[22]!==v||e[23]!==x||e[24]!==c?(w=()=>{if(p.filtered.length==0)return;const R=ee(p.raw.map(O=>s.getValue(O)));let N=new Map;for(const O of p.filtered){const P=s.getValue(O);N.set(P,(N.get(P)||0)+1)}const L=Vt(Array.from(N.values()));N=new Map([...N.entries()].sortKey(mn)),oe.select(l.current).selectAll("*").remove();const T=r.current.clientWidth,$=R.size<vt?85:170,C=oe.select(l.current).attr("width",T).attr("height",$).append("g"),F=function(O,P){const[X,D]=P;c(`${s.name}<br>${X}: ${D}`,O.clientX,O.clientY,"tyche-nominal")};if(R.size<vt){const O={top:0,right:15,bottom:20,left:10},P=T-O.left-O.right,X=$-O.top-O.bottom,D=oe.scaleLinear().domain([0,1]).range([0,P]);let U;N.has(Ue)||N.has(We)?U=fn:U=oe.scaleOrdinal().domain(R).range([ie.PRIMARY,ie.ACCENT,ie.ACCENT2,ie.ACCENT3,ie.ACCENT4]);const z=C.append("g").attr("transform",`translate(${O.left},${O.top})`);let V=0;const B=X-O.bottom;N.forEach((H,q)=>{const Z=H/L*P,K=x.has(q);z.append("rect").attr("x",V).attr("y",0).attr("width",Z).attr("height",B).attr("fill",U(q)).style("cursor","pointer").on("click",()=>v(q)).on("mouseover",G=>{F(G,[q,H])}).on("mousemove",G=>m(G.clientX,G.clientY,"tyche-nominal")).on("mouseleave",()=>f("tyche-nominal")),K&&z.append("rect").attr("x",V+re).attr("y",re).attr("width",Z-2*re).attr("height",B-2*re).attr("fill",U(q)).attr("stroke","white").attr("stroke-width",re).style("pointer-events","none"),z.append("text").attr("x",V+Z/2).attr("y",B/2).attr("text-anchor","middle").attr("dominant-baseline","central").attr("fill","white").text(q).style("font-size","14px").style("font-weight","bold"),V=V+Z}),z.append("g").attr("transform",`translate(0,${B})`).call(oe.axisBottom(D).tickFormat(un)),z.append("text").attr("x",P/2).attr("y",B+35).attr("text-anchor","middle").text("% of observations").style("font-size","13px")}else{const O={top:5,right:5,bottom:30,left:10},P=T-O.left-O.right,X=$-O.top-O.bottom,D=oe.scaleBand().domain(Array.from(N.keys())).range([0,P]).padding(.2),U=oe.scaleLinear().domain([0,Ce(Array.from(N.values()))||0]).range([X,0]),z=C.append("g").attr("transform",`translate(${O.left},${O.top})`);z.selectAll(".bar").data(Array.from(N.entries())).enter().append("rect").attr("class","bar").attr("x",V=>{const[B]=V;return D(B)||0}).attr("y",V=>{const[,B]=V;return U(B)}).attr("width",D.bandwidth()).attr("height",V=>{const[,B]=V;return X-U(B)}).attr("fill",ie.PRIMARY).style("cursor","pointer").on("click",function(V,B){const[H]=B;v(H)}).on("mouseover",function(V,B){F(V,B)}).on("mousemove",V=>m(V.clientX,V.clientY,"tyche-nominal")).on("mouseleave",()=>f("tyche-nominal")),z.selectAll(".inner-bar").data(Array.from(N.entries()).filter(V=>{const[B]=V;return x.has(B)})).enter().append("rect").attr("class","inner-bar").attr("x",V=>{const[B]=V;return(D(B)||0)+re}).attr("y",V=>{const[,B]=V;return U(B)+re}).attr("width",D.bandwidth()-2*re).attr("height",V=>{const[,B]=V;return X-U(B)-2*re}).attr("fill",ie.PRIMARY).attr("stroke","white").attr("stroke-width",re).style("pointer-events","none"),z.append("g").attr("transform",`translate(0,${X})`).call(oe.axisBottom(D)).selectAll("text").attr("transform","rotate(-45)").style("text-anchor","end"),z.append("g").call(oe.axisLeft(U).ticks(7).tickFormat(cn)),z.append("text").attr("transform","rotate(-90)").attr("y",-30).attr("x",-X/2).attr("text-anchor","middle").text("Count").style("font-size","12px")}},e[17]=s,e[18]=p.filtered,e[19]=p.raw,e[20]=f,e[21]=m,e[22]=v,e[23]=x,e[24]=c,e[25]=w):w=e[25];let k;if(e[26]!==s||e[27]!==p||e[28]!==f||e[29]!==m||e[30]!==v||e[31]!==x||e[32]!==c?(k=[p,s,f,m,v,x,c],e[26]=s,e[27]=p,e[28]=f,e[29]=m,e[30]=v,e[31]=x,e[32]=c,e[33]=k):k=e[33],M.useEffect(w,k),p.filtered.length==0)return null;let S;e[34]!==s.isSystem?(S=s.isSystem&&i.jsxs("span",{className:"tooltip",children:[i.jsx(Y,{icon:_s,className:"tyche__nominal__feature__icon"}),i.jsx("span",{className:"tooltip__text",children:"This feature is generated automatically for all tests"})]}),e[34]=s.isSystem,e[35]=S):S=e[35];let E;e[36]!==s.name?(E=i.jsx("span",{className:"tyche__nominal__feature__text",children:s.name}),e[36]=s.name,e[37]=E):E=e[37];let A;e[38]!==E||e[39]!==S?(A=i.jsxs("div",{className:"tyche__nominal__feature",children:[S,E]}),e[38]=E,e[39]=S,e[40]=A):A=e[40];let I;e[41]===Symbol.for("react.memo_cache_sentinel")?(I=i.jsx("div",{ref:r,className:"tyche__nominal__chart",children:i.jsx("svg",{ref:l,style:{width:"100%"}})}),e[41]=I):I=e[41];let j;return e[42]!==A?(j=i.jsxs("div",{children:[A,I]}),e[42]=A,e[43]=j):j=e[43],j}function cn(t){return Math.round(Number(t)).toString()}function un(t){return`${Math.round(Number(t)*100)}%`}function fn(t){return t===Ue?ie.SUCCESS:t===We?ie.ERROR:ie.PRIMARY}function mn(t){const[e]=t;return e===Ue?0:e===We?1:e}function dn(t){return`${t}`}function hn(t){return t.status!=="gave_up"}function _n(t){return t.status!=="gave_up"}function at(t){const e=W.c(17),{title:s,children:n,defaultState:r,onStateChange:l,headerClass:o,contentClass:a}=t,c=r===void 0?"open":r,f=o===void 0?"":o,m=a===void 0?"":a,[u,d]=M.useState(c);let h;e[0]!==l||e[1]!==u?(h=()=>{const v=u==="open"?"closed":"open";d(v),l==null||l(v)},e[0]=l,e[1]=u,e[2]=h):h=e[2];const x=h,y=`collapsible__header ${f}`;let b;e[3]!==u?(b=i.jsx("span",{className:"collapsible__toggle",children:u==="open"?i.jsx(Y,{icon:ps}):i.jsx(Y,{icon:gs})}),e[3]=u,e[4]=b):b=e[4];let _;e[5]!==y||e[6]!==b||e[7]!==s||e[8]!==x?(_=i.jsxs("div",{className:y,onClick:x,children:[b,s]}),e[5]=y,e[6]=b,e[7]=s,e[8]=x,e[9]=_):_=e[9];let p;e[10]!==n||e[11]!==m||e[12]!==u?(p=u==="open"&&i.jsx("div",{className:`${m}`,children:n}),e[10]=n,e[11]=m,e[12]=u,e[13]=p):p=e[13];let g;return e[14]!==_||e[15]!==p?(g=i.jsxs("div",{children:[_,p]}),e[14]=_,e[15]=p,e[16]=g):g=e[16],g}function ct(t){const e=W.c(5),{title:s,children:n,defaultState:r,onStateChange:l}=t,o=r===void 0?"open":r;let a;return e[0]!==n||e[1]!==o||e[2]!==l||e[3]!==s?(a=i.jsx("div",{className:"tyche__section",children:i.jsx(at,{title:s,defaultState:o,onStateChange:l,headerClass:"tyche__section__header",contentClass:"tyche__section__content",children:n})}),e[0]=n,e[1]=o,e[2]=l,e[3]=s,e[4]=a):a=e[4],a}const pn="__hypofuzz_stability";function gn(t){const e=W.c(12),{observations:s,observationCategory:n}=t;let r,l,o,a;if(e[0]!==n||e[1]!==s){a=Symbol.for("react.early_return_sentinel");e:{const f=new Set;s.raw.forEach(d=>{for(const h of d.features.keys())h.startsWith("Retried draw from")||f.add(h)});const m=Array.from(f).map(vn);if(n=="rolling"&&m.push(new on(pn,"Stability",bn)),m.length===0){a=null;break e}if(!s.filtered.some(yn)){a=null;break e}r=ct,l="Features";let u;e[6]!==s?(u=d=>i.jsx(an,{feature:d,observations:s}),e[6]=s,e[7]=u):u=e[7],o=Array.from(m).sortKey(xn).map(u)}e[0]=n,e[1]=s,e[2]=r,e[3]=l,e[4]=o,e[5]=a}else r=e[2],l=e[3],o=e[4],a=e[5];if(a!==Symbol.for("react.early_return_sentinel"))return a;let c;return e[8]!==r||e[9]!==l||e[10]!==o?(c=i.jsx(r,{title:l,children:o}),e[8]=r,e[9]=l,e[10]=o,e[11]=c):c=e[11],c}function xn(t){return t.name}function yn(t){return t.status!=="gave_up"}function bn(t){return t.stability??"unknown"}function vn(t){return new ln(t,t)}function jn(){const t=W.c(7),{filters:e,removeFilter:s}=Be();let n,r;if(t[0]!==e||t[1]!==s){r=Symbol.for("react.early_return_sentinel");e:{const l=Array.from(e.values()).flat().sortKey(Sn);if(l.length===0){r=null;break e}let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=i.jsx("div",{className:"tyche__filters__title",children:"Filters"}),t[4]=o):o=t[4];let a;t[5]!==s?(a=c=>i.jsxs("div",{className:"tyche__filters__filter",children:[i.jsxs("div",{className:"tyche__filters__filter__name",children:[i.jsx("div",{className:"tyche__filters__filter__remove",onClick:()=>s(c.key),children:i.jsx(Y,{icon:Mt})}),c.name]}),i.jsx("div",{className:"tyche__filters__filter__value-name",children:c.valueName})]},c.key),t[5]=s,t[6]=a):a=t[6],n=i.jsxs("div",{className:"tyche__filters",children:[o,l.map(a)]})}t[0]=e,t[1]=s,t[2]=n,t[3]=r}else n=t[2],r=t[3];return r!==Symbol.for("react.early_return_sentinel")?r:n}function Sn(t){return t.createdAt}function Ht(t){const e=t.regex,s=new RegExp("[\\p{XID_Start}_]\\p{XID_Continue}*","u"),n=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],a={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:n,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},c={className:"meta",begin:/^(>>>|\.\.\.) /},f={className:"subst",begin:/\{/,end:/\}/,keywords:a,illegal:/#/},m={begin:/\{\{/,relevance:0},u={className:"string",contains:[t.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[t.BACKSLASH_ESCAPE,c,m,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[t.BACKSLASH_ESCAPE,c,m,f]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[t.BACKSLASH_ESCAPE,m,f]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[t.BACKSLASH_ESCAPE,m,f]},t.APOS_STRING_MODE,t.QUOTE_STRING_MODE]},d="[0-9](_?[0-9])*",h=`(\\b(${d}))?\\.(${d})|\\b(${d})\\.`,x=`\\b|${n.join("|")}`,y={className:"number",relevance:0,variants:[{begin:`(\\b(${d})|(${h}))[eE][+-]?(${d})[jJ]?(?=${x})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${x})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${x})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${x})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${x})`},{begin:`\\b(${d})[jJ](?=${x})`}]},b={className:"comment",begin:e.lookahead(/# type:/),end:/$/,keywords:a,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},_={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:a,contains:["self",c,y,u,t.HASH_COMMENT_MODE]}]};return f.contains=[u,y,c],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:a,illegal:/(<\/|\?)|=>/,contains:[c,y,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},u,b,t.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,s],scope:{1:"keyword",3:"title.function"},contains:[_]},{variants:[{match:[/\bclass/,/\s+/,s,/\s*/,/\(\s*/,s,/\s*\)/]},{match:[/\bclass/,/\s+/,s]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[y,_,u]}]}}function Se(t){const e=W.c(31),{currentPage:s,pageCount:n,onPageChange:r}=t;console.assert(n>1);let l;e[0]!==s||e[1]!==n?(l=function(){return n<=7?Array.from({length:n},wn):s<=3?[0,1,2,3,4,"ellipsis",n-1]:s>=n-4?[0,"ellipsis",n-5,n-4,n-3,n-2,n-1]:[0,"ellipsis",s-1,s,s+1,"ellipsis",n-1]},e[0]=s,e[1]=n,e[2]=l):l=e[2];const o=l;let a;e[3]!==o?(a=o(),e[3]=o,e[4]=a):a=e[4];const c=a;let f;e[5]!==s||e[6]!==r?(f=function(E){typeof E=="number"&&s!==E&&r(E)},e[5]=s,e[6]=r,e[7]=f):f=e[7];const m=f;let u;e[8]!==s||e[9]!==r?(u=function(){s>0&&r(s-1)},e[8]=s,e[9]=r,e[10]=u):u=e[10];const d=u;let h;e[11]!==s||e[12]!==r||e[13]!==n?(h=function(){s<n-1&&r(s+1)},e[11]=s,e[12]=r,e[13]=n,e[14]=h):h=e[14];const x=h,y=`pagination__nav pagination__nav--left ${s===0?"pagination__nav--disabled":""}`;let b;e[15]===Symbol.for("react.memo_cache_sentinel")?(b=i.jsx(Y,{icon:xs}),e[15]=b):b=e[15];let _;e[16]!==d||e[17]!==y?(_=i.jsx("div",{className:y,onClick:d,children:b}),e[16]=d,e[17]=y,e[18]=_):_=e[18];let p;e[19]!==s||e[20]!==m||e[21]!==c?(p=c.map((S,E)=>{if(S==="ellipsis")return i.jsx("div",{className:" pagination__ellipsis",children:"..."},`ellipsis-${E}`);const A=S===s;return i.jsx("div",{className:`pagination__number ${A?"pagination__number--current":""}`,onClick:()=>m(S),children:S+1},S)}),e[19]=s,e[20]=m,e[21]=c,e[22]=p):p=e[22];const g=`pagination__nav pagination__nav--right ${s===n-1?"pagination__nav--disabled":""}`;let v;e[23]===Symbol.for("react.memo_cache_sentinel")?(v=i.jsx(Y,{icon:ys}),e[23]=v):v=e[23];let w;e[24]!==x||e[25]!==g?(w=i.jsx("div",{className:g,onClick:x,children:v}),e[24]=x,e[25]=g,e[26]=w):w=e[26];let k;return e[27]!==w||e[28]!==_||e[29]!==p?(k=i.jsxs("div",{className:"pagination",children:[_,p,w]}),e[27]=w,e[28]=_,e[29]=p,e[30]=k):k=e[30],k}function wn(t,e){return e}Me.registerLanguage("python",Ht);const Ze=30;function Nn(t){const e=W.c(36),{observations:s,observationCategory:n}=t,r=M.useRef(null),[l,o]=M.useState(0);let a;e[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{o(0)},e[0]=a):a=e[0];let c;e[1]!==n?(c=[n],e[1]=n,e[2]=c):c=e[2],M.useEffect(a,c);let f;e[3]===Symbol.for("react.memo_cache_sentinel")?(f=function(){r.current&&r.current.querySelectorAll("code:not([data-highlighted='yes'])").forEach(Rn)},e[3]=f):f=e[3];const m=f;let u;e[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{m()},e[4]=u):u=e[4];let d;e[5]!==s||e[6]!==l?(d=[s,l],e[5]=s,e[6]=l,e[7]=d):d=e[7],M.useEffect(u,d);let h,x,y,b,_,p,g,v;if(e[8]!==s.filtered||e[9]!==l){const E=new Map;s.filtered.forEach(I=>{const j=I.representation;E.set(j,(E.get(j)||0)+1)}),x=Math.ceil(E.size/Ze);const A=Array.from(E.entries()).sortKey($n).slice(l*Ze,(l+1)*Ze);h=ct,v="String representations",y="closed",e[18]===Symbol.for("react.memo_cache_sentinel")?(b=I=>{I==="open"&&requestAnimationFrame(()=>{m()})},e[18]=b):b=e[18],_=r,e[19]!==l||e[20]!==x?(p=x>1&&i.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12px"},children:i.jsx(Se,{currentPage:l,pageCount:x,onPageChange:o})}),e[19]=l,e[20]=x,e[21]=p):p=e[21],g=A.map(kn),e[8]=s.filtered,e[9]=l,e[10]=h,e[11]=x,e[12]=y,e[13]=b,e[14]=_,e[15]=p,e[16]=g,e[17]=v}else h=e[10],x=e[11],y=e[12],b=e[13],_=e[14],p=e[15],g=e[16],v=e[17];let w;e[22]!==l||e[23]!==x?(w=x>1&&i.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"12px"},children:i.jsx(Se,{currentPage:l,pageCount:x,onPageChange:o})}),e[22]=l,e[23]=x,e[24]=w):w=e[24];let k;e[25]!==w||e[26]!==_||e[27]!==p||e[28]!==g?(k=i.jsxs("div",{ref:_,children:[p,g,w]}),e[25]=w,e[26]=_,e[27]=p,e[28]=g,e[29]=k):k=e[29];let S;return e[30]!==h||e[31]!==y||e[32]!==b||e[33]!==k||e[34]!==v?(S=i.jsx(h,{title:v,defaultState:y,onStateChange:b,children:k}),e[30]=h,e[31]=y,e[32]=b,e[33]=k,e[34]=v,e[35]=S):S=e[35],S}function kn(t){const[e,s]=t;return i.jsxs("div",{style:{position:"relative"},className:"tyche__representation__example",children:[i.jsx("pre",{children:i.jsx("code",{className:"language-python",children:e})}),s>1&&i.jsxs("div",{className:"tyche__representation__example__count",children:["x ",s]})]},e)}function $n(t){const[,e]=t;return-e}function Rn(t){Me.highlightElement(t)}const jt=640;function Cn({name:t,observations:e,verticalAxis:s,horizontalAxis:n,cssStyle:r=(l,o)=>({})}){const{filters:l,setFilters:o}=Be(),{showTooltip:a,hideTooltip:c,moveTooltip:f}=Ve();function m(){const j=l.get(t)||[];if(j.length===0)return ee();console.assert(j.length===1);const R=j[0];return ee(R.extraData.selectedCells)}const u=m(),d=[],h=Array(s.length).fill(0),x=Array(n.length).fill(0);let y=0;for(let j=0;j<s.length;j++){d[j]=[];for(let R=0;R<n.length;R++)d[j][R]={count:0,widthPercent:0}}e.filtered.forEach(j=>{for(let R=0;R<s.length;R++){const[,N]=s[R];if(N(j)){for(let L=0;L<n.length;L++){const[,T]=n[L];if(T(j)){d[R][L].count++,h[R]++,x[L]++,y++;break}}break}}});const b=h.map((j,R)=>j>0?R:null).filter(j=>j!==null),_=x.map((j,R)=>j>0?R:null).filter(j=>j!==null),p=(j,R)=>{let N=ee();if(j!==null&&R!==null){const C=_e([j,R]);u.equals(ee([C]))?N=ee():N=ee([C])}else j!==null?(console.assert(R===null),_.forEach(C=>{d[j][C].count>0&&(N=N.add(_e([j,C])))})):R!==null&&(console.assert(j===null),b.forEach(C=>{d[C][R].count>0&&(N=N.add(_e([C,R])))}));function L(){if(N.size===0)return"";let C=N;const F=[],O=[...b.map(P=>({name:s[P][0],cells:_.filter(X=>d[P][X].count>0).map(X=>_e([P,X]))})),..._.map(P=>({name:n[P][0],cells:b.filter(X=>d[X][P].count>0).map(X=>_e([X,P]))}))];for(const P of O)P.cells.length>0&&P.cells.every(X=>C.has(X))&&(F.push(P.name),C=C.subtract(ee(P.cells)));for(;C.size>0;){const P=C.first(),[X,D]=P.toArray();F.push(`${s[X][0]}+${n[D][0]}`),C=C.delete(P)}return console.assert(C.size==0),F.join(" or ")}const T=[];N.size>0&&T.push(new Xt(t,L(),C=>N.some(F=>{const[O,P]=F.toArray(),X=s[O][1],D=n[P][1];return X(C)&&D(C)}),t,{selectedCells:N}));const $=new Map(l);$.set(t,T),o($)},g=Math.max(...b.map(j=>Je(s[j][0],"tyche__mosaic__row-header").width)),v=Math.max(..._.map(j=>Je(n[j][0],"tyche__mosaic__column-header").height)),w=Math.max(...b.map(j=>Je(h[j].toString(),"tyche__mosaic__row-total").width));if(b.length===0||_.length===0)return i.jsx("div",{children:"No observations"});const k=30,S=30;for(let j=0;j<s.length;j++)for(let R=0;R<n.length;R++)d[j][R].widthPercent=h[j]>0?d[j][R].count/h[j]*100:0;const E=b.map(j=>Math.max(h[j]/y*45*b.length,S)),A=_.map((j,R)=>R===0?0:R===_.length-1?100:R/(_.length-1)*100),I=jt-g-w;return b.forEach(j=>{const R=_.map(L=>d[j][L]);if(R.reduce((L,T)=>L+T.widthPercent,0)>0){const T=R.map(C=>C.widthPercent/100*I).map((C,F)=>R[F].count>0&&C>0&&C<k?k:C),$=T.reduce((C,F)=>C+F,0);_.forEach((C,F)=>{d[j][C].widthPercent=$>0?T[F]/$*100:0})}}),i.jsxs("div",{className:"tyche__mosaic__container",style:{maxWidth:`${jt}px`,minHeight:"175px"},children:[i.jsx("div",{className:"tyche__mosaic__column-headers",style:{marginLeft:`${g}px`,marginRight:`${w}px`,height:`${v}px`},children:_.map((j,R)=>{const N=R===0,L=R===_.length-1;return i.jsx("div",{className:"tyche__mosaic__column-header",style:{left:`${A[R]}%`,transform:N?"translateX(0%)":L?"translateX(-100%)":"translateX(-50%)",textAlign:N?"left":L?"right":"center"},onClick:()=>p(null,j),children:n[j][0]},`header-${j}`)})}),b.map((j,R)=>i.jsxs("div",{className:"tyche__mosaic__row",style:{height:`${E[R]}px`},children:[i.jsx("div",{className:"tyche__mosaic__row-header",style:{width:`${g}px`,cursor:"pointer"},onClick:()=>p(j,null),children:s[j][0]}),i.jsx("div",{className:"tyche__mosaic__row-cells",children:_.map(N=>{const L=d[j][N];if(L.count===0)return null;const T=u.has(_e([j,N])),$=`${s[j][0]} and ${n[N][0]}<br>Count: ${L.count}`;return i.jsx("div",{className:`tyche__mosaic__cell${T?" tyche__mosaic__cell--selected":""}`,style:{width:`${L.widthPercent}%`,minWidth:`${k}px`,minHeight:`${S}px`,...r(s[j][0],n[N][0])},onClick:()=>p(j,N),onMouseEnter:C=>a($,C.clientX,C.clientY,"tyche-mosaic"),onMouseMove:C=>f(C.clientX,C.clientY,"tyche-mosaic"),onMouseLeave:()=>c("tyche-mosaic"),children:i.jsx("span",{className:"tyche__mosaic__cell-value",children:L.count})},`cell-${j}-${N}`)})}),i.jsx("div",{className:"tyche__mosaic__row-total",style:{width:`${w}px`},children:h[j]})]},`row-${j}`)),i.jsxs("div",{className:"tyche__mosaic__column-totals-row",style:{height:`${v}px`},children:[i.jsx("div",{style:{width:`${g}px`}}),i.jsx("div",{className:"tyche__mosaic__column-totals",style:{marginRight:`${w}px`},children:_.map((j,R)=>{const N=R===0,L=R===_.length-1;return i.jsx("div",{className:"tyche__mosaic__column-total",style:{left:`${A[R]}%`,transform:N?"translateX(0%)":L?"translateX(-100%)":"translateX(-50%)",textAlign:N?"left":L?"right":"center"},children:x[j]},`total-${j}`)})}),i.jsx("div",{className:"tyche__mosaic__grand-total",style:{width:`${w}px`},children:y})]})]})}function En(t){const e=W.c(5),{observations:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=function(f,m){const u={};return f==="Passed"?u.backgroundColor=ie.SUCCESS:f==="Invalid"?u.backgroundColor=ie.WARNING:f==="Failed"&&(u.backgroundColor=ie.ERROR),m==="Duplicate"&&(u.opacity=.7),u},e[0]=n):n=e[0];const r=n;let l,o;e[1]===Symbol.for("react.memo_cache_sentinel")?(l=[["Passed",Ln],["Invalid",Tn]],o=[["Unique",An],["Duplicate",Mn]],e[1]=l,e[2]=o):(l=e[1],o=e[2]);let a;return e[3]!==s?(a=i.jsx(ct,{title:"Samples",children:i.jsx(Cn,{name:"samples",observations:s,verticalAxis:l,horizontalAxis:o,cssStyle:r})}),e[3]=s,e[4]=a):a=e[4],a}function Mn(t){return t.isDuplicate??!1}function An(t){return t.isUnique??!1}function Tn(t){return t.status==="gave_up"}function Ln(t){return t.status==="passed"}const Ue="Present",We="Not present";var ie=(t=>(t.PRIMARY="#6b8ab5",t.SUCCESS="#8ba86b",t.WARNING="#d59a7e",t.ERROR="#c77a7e",t.ACCENT="#c1a2bb",t.ACCENT2="#9fc7c6",t.ACCENT3="#edd39a",t.ACCENT4="#99c7d6",t.ACCENT5="#8faac6",t))(ie||{});function Pn(t){const e=W.c(27),{test:s}=t,{filters:n,observationCategory:r,setObservationCategory:l}=Be();let o;e[0]!==r||e[1]!==s.corpus_observations||e[2]!==s.rolling_observations?(o=r==="rolling"?s.rolling_observations.sortKey(In):s.corpus_observations,e[0]=r,e[1]=s.corpus_observations,e[2]=s.rolling_observations,e[3]=o):o=e[3];const a=o;let c;e[4]!==n||e[5]!==a?(c=function(){const k=Array.from(n.values()).flat();return k.length===0?a:a.filter(S=>k.every(E=>E.predicate(S)))},e[4]=n,e[5]=a,e[6]=c):c=e[6];const f=c;let m;e[7]!==f?(m=f(),e[7]=f,e[8]=m):m=e[8];let u;e[9]!==a||e[10]!==m?(u={raw:a,filtered:m},e[9]=a,e[10]=m,e[11]=u):u=e[11];const d=u;let h,x;e[12]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsx("div",{className:"card__header",children:i.jsx("span",{children:"Observations"})}),x={paddingTop:"10px",paddingBottom:"10px",display:"flex",alignItems:"center",justifyContent:"flex-start",gap:"20px",fontSize:"1.05rem",fontWeight:"500"},e[12]=h,e[13]=x):(h=e[12],x=e[13]);let y;e[14]===Symbol.for("react.memo_cache_sentinel")?(y=[{value:"covering",content:"Covering"},{value:"rolling",content:"Rolling"}],e[14]=y):y=e[14];let b;e[15]!==r||e[16]!==l?(b=i.jsx(xe,{value:r,onChange:l,options:y}),e[15]=r,e[16]=l,e[17]=b):b=e[17];let _;e[18]===Symbol.for("react.memo_cache_sentinel")?(_=i.jsx(jn,{}),e[18]=_):_=e[18];let p;e[19]!==b?(p=i.jsxs("div",{style:x,children:[b,_]}),e[19]=b,e[20]=p):p=e[20];let g;e[21]!==r||e[22]!==d?(g=d.raw.length>0?i.jsxs(i.Fragment,{children:[i.jsx(En,{observations:d}),i.jsx(gn,{observations:d,observationCategory:r}),i.jsx(Nn,{observations:d,observationCategory:r})]}):i.jsx("div",{className:"tyche__section",children:"No observations"}),e[21]=r,e[22]=d,e[23]=g):g=e[23];let v;return e[24]!==p||e[25]!==g?(v=i.jsxs("div",{className:"card",children:[h,p,g]}),e[24]=p,e[25]=g,e[26]=v):v=e[26],v}function In(t){return-t.run_start}function Dn(t){const e=W.c(2),{test:s}=t;let n;return e[0]!==s?(n=i.jsx(Zs,{children:i.jsx(Pn,{test:s})}),e[0]=s,e[1]=n):n=e[1],n}const St=["Skipped","SkipTest"];class Ae{withProperties(e){return Object.assign(Object.create(this.constructor.prototype),this,e)}}class ut extends Ae{constructor(e,s){super(),this.state=e,this.observation=s}static fromJson(e){return new ut(e.state,Ee.fromJson(e.observation))}}class de extends Ae{constructor(e=new Map([[0,0],[1,0],[2,0],[3,0]])){super(),this.counts=e}static fromJson(e){const s=new Map([[0,0],[1,0],[2,0],[3,0]]);for(const[n,r]of Object.entries(e))console.assert(typeof r=="number"),s.set(Number(n),r);return new de(s)}add(e){const s=new Map(this.counts);for(const[n,r]of e.counts.entries())s.set(n,s.get(n)+r);return new de(s)}subtract(e){const s=new Map(this.counts);for(const[n,r]of e.counts.entries())s.set(n,s.get(n)-r);return new de(s)}sum(){return Vt(this.counts.values())}}var st=(t=>(t.GENERATE="generate",t.REPLAY="replay",t.DISTILL="distill",t.SHRINK="shrink",t.FAILED="failed",t))(st||{});class Ye extends Ae{constructor(s,n,r,l,o,a,c,f){super();ne(this,"status_counts_diff");ne(this,"elapsed_time_diff");ne(this,"timestamp_monotonic");this.elapsed_time=s,this.timestamp=n,this.status_counts=r,this.behaviors=l,this.fingerprints=o,this.since_new_behavior=a,this.phase=c,this.worker_uuid=f,this.status_counts_diff=null,this.elapsed_time_diff=null,this.timestamp_monotonic=null}get ninputs(){return this.status_counts.sum()}static fromJson(s,n){return new Ye(n.elapsed_time,n.timestamp,de.fromJson(n.status_counts),n.behaviors,n.fingerprints,n.since_new_behavior,n.phase,s)}}class Ee extends Ae{constructor(s,n,r,l,o,a,c,f,m,u,d,h){super();ne(this,"isDuplicate",null);ne(this,"isUnique",null);this.type=s,this.status=n,this.status_reason=r,this.representation=l,this.arguments_=o,this.how_generated=a,this.features=c,this.timing=f,this.metadata=m,this.property=u,this.run_start=d,this.stability=h}static fromJson(s){return new Ee(s.type,s.status,s.status_reason,s.representation,new Map(Object.entries(s.arguments)),s.how_generated,new Map(Object.entries(s.features)),new Map(Object.entries(s.timing)),new Map(Object.entries(s.metadata)),s.property,Number(s.run_start),s.stability)}}var Q=(t=>(t[t.FAILED_FATALLY=0]="FAILED_FATALLY",t[t.FAILED=1]="FAILED",t[t.SHRINKING=2]="SHRINKING",t[t.RUNNING=3]="RUNNING",t[t.SKIPPED_DYNAMICALLY=4]="SKIPPED_DYNAMICALLY",t[t.WAITING=5]="WAITING",t))(Q||{});function wt(t,e){const s=e?e.status_counts:new de,n=e?e.elapsed_time:0,r=t.status_counts.subtract(s),l=t.elapsed_time-n,o=e?Math.max(t.timestamp,e.timestamp_monotonic+l):t.timestamp;return console.assert(Array.from(r.counts.values()).every(a=>a>=0)),console.assert(l>=0),t.withProperties({status_counts_diff:r,elapsed_time_diff:l,timestamp_monotonic:o})}const we=class we extends Ae{constructor(s,n,r,l,o,a,c,f){super();ne(this,"linear_reports");ne(this,"_status_counts_cumsum");ne(this,"_elapsed_time_cumsum");ne(this,"load_finished_at",null);this.database_key=s,this.nodeid=n,this.rolling_observations=r,this.corpus_observations=l,this.failures=o,this.fatal_failure=a,this.reports_by_worker=c,this.stability=f,this.linear_reports=[],this._status_counts_cumsum=new Map,this._elapsed_time_cumsum=new Map,this.load_finished_at=null;const m=this.reports_by_worker;this.reports_by_worker=new Map;const u=Array.from(m.entries()).flatMap(([d,h])=>h.map(x=>[d,x])).sortKey(([d,h])=>h.timestamp);for(const[d,h]of u)this.add_report(d,h);this._check_invariants()}static fromJson(s){return new we(s.database_key,s.nodeid,[],[],new Map(Object.entries(s.failures).map(([n,r])=>[n,ut.fromJson(r)])),s.fatal_failure,new Map(Object.entries(s.reports_by_worker).map(([n,r])=>[n,r.map(Ye.fromJson)])),s.stability)}_assert_reports_ordered(s){for(let n=0;n<s.length-1;n++)console.assert(s[n].timestamp_monotonic<=s[n+1].timestamp_monotonic)}_check_invariants(){this._assert_reports_ordered(this.linear_reports);const s=this.linear_status_counts(null);for(let r=0;r<s.length-1;r++)console.assert(s[r].sum()<=s[r+1].sum());const n=this.linear_elapsed_time(null);for(let r=0;r<n.length-1;r++)console.assert(n[r]<=n[r+1]);console.assert(n.length===s.length&&s.length===this.linear_reports.length);for(const[r,l]of this.reports_by_worker.entries())this._assert_reports_ordered(l)}add_report(s,n){let r=null,l=0;if(this.reports_by_worker.has(s)){const a=this.reports_by_worker.get(s);l=qe(a,n.elapsed_time,c=>c.elapsed_time),r=l!=0?a[l-1]:null}const o=wt(n,r);if(this.reports_by_worker.has(s)||this.reports_by_worker.set(s,[]),this.reports_by_worker.get(s).splice(l,0,o),o.phase!==st.REPLAY||o.behaviors>=this.behaviors&&o.fingerprints>=this.fingerprints){const a=qe(this.linear_reports,o.timestamp_monotonic,c=>c.timestamp_monotonic);if(this.linear_reports.splice(a,0,o),a!=this.linear_reports.length-1){let c=null,f;for(f=0;f<this.linear_reports.length-(a+1);f++){const m=this.linear_reports[a+1+f];if(o.worker_uuid===m.worker_uuid){c=m;break}}c&&(console.assert(this.linear_reports[a+1+f]===c),this.linear_reports[a+1+f]=wt(c,o));for(const m of[this._status_counts_cumsum,this._elapsed_time_cumsum])for(const[u,[d,h]]of m.entries())a>=d&&m.set(u,[d,h.slice(0,a-d)])}}}get normalFailures(){return Array.from(this.failures.entries()).filter(([s,n])=>!St.some(r=>s.includes(`${r} at`))).map(([s,n])=>n)}get skipFailures(){return Array.from(this.failures.entries()).filter(([s,n])=>St.some(r=>s.includes(`${r} at`))).map(([s,n])=>n)}get status(){if(this.skipFailures.length>0)return Q.SKIPPED_DYNAMICALLY;if(this.fatal_failure)return Q.FAILED_FATALLY;if(this.failures.size>0)return Q.FAILED;if(this.linear_reports.length===0)return Q.WAITING;const s=this.linear_reports[this.linear_reports.length-1],n=new Date().getTime()/1e3;return s.phase==st.SHRINK?Q.SHRINKING:s.ninputs===0||s.timestamp<n-we.WAITING_STATUS_DURATION?Q.WAITING:Q.RUNNING}get behaviors(){return this.linear_reports.length===0?0:this.linear_reports[this.linear_reports.length-1].behaviors}get fingerprints(){return this.linear_reports.length===0?0:this.linear_reports[this.linear_reports.length-1].fingerprints}get since_new_behavior(){return this.linear_reports.length===0?null:this.linear_reports[this.linear_reports.length-1].since_new_behavior}elapsed_time(s){const n=this.linear_elapsed_time(s);return n.length===0?0:n[n.length-1]}ninputs(s){const n=this.linear_status_counts(s);return n.length===0?0:n[n.length-1].sum()}_cumsum(s,n,r,l,o){if(l===null&&(l=-1/0),s.has(l)){const[m,u]=s.get(l);if(u.length<this.linear_reports.slice(m).length){let d=u.length>0?u[u.length-1]:o;for(const h of this.linear_reports.slice(m+u.length))d=r(d,h[n]),u.push(d);s.set(l,[m,u])}return u}const a=[],c=qe(this.linear_reports,l,m=>m.timestamp_monotonic);let f=o;for(const m of this.linear_reports.slice(c))f=r(f,m[n]),a.push(f);return s.set(l,[c,a]),a}linear_status_counts(s){return this._cumsum(this._status_counts_cumsum,"status_counts_diff",(n,r)=>n.add(r),s,new de)}linear_elapsed_time(s){return this._cumsum(this._elapsed_time_cumsum,"elapsed_time_diff",(n,r)=>n+r,s,0)}};ne(we,"WAITING_STATUS_DURATION",120);let De=we;const Fn="hypofuzz-inf-a928fa52",Xn="hypofuzz-ninf-a928fa52",On="hypofuzz-nan-a928fa52";function Bn(t,e){return e===Fn?1/0:e===Xn?-1/0:e===On?NaN:e}const Gt=M.createContext(null);function Nt(t){const e=new Map;t.forEach(n=>{e.set(n.representation,(e.get(n.representation)||0)+1)}),t.forEach(n=>{const r=e.get(n.representation);n.isUnique=r==1,n.isDuplicate=r>1});const s=new Set;t.forEach(n=>{n.features.forEach((r,l)=>{s.add(l)})}),t.forEach(n=>{s.forEach(r=>{n.features.has(r)||n.features.set(r,We)});for(const[r,l]of n.features)l===""&&n.features.set(r,Ue)})}function Vn(t,e){const s=new Map(t);function n(r){if(s.has(r))return s.get(r);{const l=new De(null,r,[],[],new Map,null,new Map,null);return s.set(l.nodeid,l),l}}switch(e.type){case 1:return t;case 2:{const{tests:r}=e;for(const{database_key:l,nodeid:o,failures:a,fatal_failure:c,stability:f}of r){const m=n(o);m.database_key=l,a.forEach((u,d)=>{m.failures.set(d,u)}),m.fatal_failure=c,m.stability=f}return s}case 3:{const{nodeid:r,worker_uuid:l,reports:o}=e,a=n(r);for(const c of o)a.add_report(l,c);return s}case 5:{const{nodeid:r,failures:l}=e,o=n(r);return l.forEach((a,c)=>{o.failures.set(c,a)}),s}case 6:{const{nodeid:r,failures:l}=e,o=n(r);return o.failures=l,s}case 4:{const{nodeid:r,observation_type:l,observations:o}=e,a=n(r);return l==="rolling"?(a.rolling_observations=[...a.rolling_observations,...o],a.rolling_observations=a.rolling_observations.sortKey(c=>-c.run_start).slice(0,300),Nt(a.rolling_observations)):(console.assert(l==="corpus"),a.corpus_observations=[...a.corpus_observations,...o],Nt(a.corpus_observations)),s}case 7:{const{nodeids:r}=e;for(const l of r){const o=n(l);o.load_finished_at=Date.now()}return s}case 8:{const{nodeid:r,fatal_failure:l}=e,o=n(r);return o.fatal_failure=l,s}default:throw new Error("non-exhaustive switch in testsReducer")}}function Un(t){const e=W.c(26),{children:s}=t,[n,r]=M.useState(null);let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=new Map,e[0]=l):l=e[0];const[o,a]=M.useReducer(Vn,l),[c,f]=M.useState(!1),[m,u]=M.useState(null);let d;e[1]===Symbol.for("react.memo_cache_sentinel")?(d={count_tests:null,count_tests_loaded:null},e[1]=d):d=e[1];const[h,x]=M.useState(d),{addNotification:y,updateNotification:b,dismissNotification:_}=qs();M.useRef(null);let p;e[2]===Symbol.for("react.memo_cache_sentinel")?(p=I=>{f(!0),u(I)},e[2]=p):p=e[2];const g=p;let v;e[3]!==h||e[4]!==o?(v=()=>{const I=Date.now();return h.count_tests_loaded!==null&&h.count_tests!==null&&h.count_tests_loaded===h.count_tests&&Array.from(o.values()).every(j=>j.load_finished_at===null?!1:I-j.load_finished_at>200)},e[3]=h,e[4]=o,e[5]=v):v=e[5];const w=v;let k;e[6]!==y||e[7]!==_||e[8]!==c||e[9]!==m||e[10]!==o||e[11]!==b?(k=()=>{if(c){o.clear(),x({count_tests:null,count_tests_loaded:null});{fetch(new URL("dashboard_state/tests.json",import.meta.url)).then(zn).then(Yn).then(j=>{Object.entries(j).forEach(R=>{const[N,L]=R;a({type:2,tests:[{database_key:L.database_key,nodeid:N,failures:L.failures,fatal_failure:L.fatal_failure,stability:L.stability}]});for(const[T,$]of Object.entries(L.reports_by_worker))a({type:3,nodeid:N,worker_uuid:T,reports:$.map(C=>Ye.fromJson(T,C))});a({type:7,nodeids:[N]})})});const I=new Worker(new URL("/example-dashboard/assets/jsonWorker-KJVNTzbb.js",import.meta.url));return fetch(new URL("dashboard_state/observations.json",import.meta.url)).then(Wn).then(j=>new Promise(R=>{I.onmessage=N=>R(N.data),I.postMessage(j)})).then(j=>{for(const[R,N]of Object.entries(j))a({type:4,nodeid:R,observation_type:"rolling",observations:N.rolling.map(Ee.fromJson)}),a({type:4,nodeid:R,observation_type:"corpus",observations:N.corpus.map(Ee.fromJson)})}),()=>I.terminate()}}},e[6]=y,e[7]=_,e[8]=c,e[9]=m,e[10]=o,e[11]=b,e[12]=k):k=e[12];let S;e[13]!==y||e[14]!==_||e[15]!==c||e[16]!==m||e[17]!==b?(S=[m,c,y,_,b],e[13]=y,e[14]=_,e[15]=c,e[16]=m,e[17]=b,e[18]=S):S=e[18],M.useEffect(k,S);let E;e[19]!==n||e[20]!==o||e[21]!==w?(E={tests:o,socket:n,doLoadData:g,testsLoaded:w},e[19]=n,e[20]=o,e[21]=w,e[22]=E):E=e[22];let A;return e[23]!==s||e[24]!==E?(A=i.jsx(Gt.Provider,{value:E,children:s}),e[23]=s,e[24]=E,e[25]=A):A=e[25],A}function Wn(t){return t.text()}function Yn(t){return JSON.parse(t,Bn)}function zn(t){return t.text()}function ft(t){const e=W.c(4),s=t===void 0?null:t,n=M.useContext(Gt);if(!n)throw new Error("useData must be used within a DataProvider");let r,l;return e[0]!==n||e[1]!==s?(r=()=>{n.doLoadData(s)},l=[s,n],e[0]=n,e[1]=s,e[2]=r,e[3]=l):(r=e[2],l=e[3]),M.useEffect(r,l),n}function Te(t){const e=W.c(9),{to:s,icon:n,children:r,isActive:l}=t,o=lt(),a=`sidebar__link ${l(o.pathname)?"sidebar__link--active":""}`;let c;e[0]!==n?(c=i.jsx("span",{className:"sidebar__link__icon",children:n}),e[0]=n,e[1]=c):c=e[1];let f;e[2]!==r||e[3]!==a||e[4]!==c?(f=i.jsxs("div",{className:a,children:[c,r]}),e[2]=r,e[3]=a,e[4]=c,e[5]=f):f=e[5];let m;return e[6]!==f||e[7]!==s?(m=i.jsx(he,{to:s,className:"sidebar__link__text",children:f}),e[6]=f,e[7]=s,e[8]=m):m=e[8],m}function Kn(){const t=W.c(24),e=lt(),[s,n]=M.useState(!1),r=M.useRef(null);let l,o;t[0]!==s?(l=()=>{const k=function(E){var A;s&&((A=r.current)==null?void 0:A.contains(E.target))===!1&&n(!1)};return document.addEventListener("mousedown",k),()=>{document.removeEventListener("mousedown",k)}},o=[s],t[0]=s,t[1]=l,t[2]=o):(l=t[1],o=t[2]),M.useEffect(l,o);let a;t[3]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{n(!1)},t[3]=a):a=t[3];let c;t[4]!==e?(c=[e],t[4]=e,t[5]=c):c=t[5],M.useEffect(a,c);let f;t[6]!==s?(f=!s&&i.jsx("div",{className:"toggle-sidebar",onClick:()=>n(!0),children:i.jsx(Y,{icon:bs,size:"lg"})}),t[6]=s,t[7]=f):f=t[7];let m;t[8]!==s?(m=s&&i.jsx("div",{className:"opacity-overlay"}),t[8]=s,t[9]=m):m=t[9];const u=`sidebar ${s?"sidebar--open":""}`;let d;t[10]===Symbol.for("react.memo_cache_sentinel")?(d=i.jsx(he,{to:"/",className:"sidebar__title",children:"HypoFuzz"}),t[10]=d):d=t[10];let h;t[11]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsx(Te,{to:"/",isActive:Jn,icon:i.jsx(Y,{icon:vs}),children:"Tests"}),t[11]=h):h=t[11];let x;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsx(Te,{icon:i.jsx(Y,{icon:js}),to:"/patches",isActive:qn,children:"Patches"}),t[12]=x):x=t[12];let y;t[13]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx(Te,{icon:i.jsx(Y,{icon:Ss}),to:"/collected",isActive:Gn,children:"Collection"}),t[13]=y):y=t[13];let b,_;t[14]===Symbol.for("react.memo_cache_sentinel")?(b=i.jsx(Te,{icon:i.jsx(Y,{icon:tt}),to:"/workers",isActive:Hn,children:"Workers"}),_=i.jsx("div",{className:"sidebar__separator"}),t[14]=b,t[15]=_):(b=t[14],_=t[15]);let p;t[16]===Symbol.for("react.memo_cache_sentinel")?(p=i.jsxs("nav",{className:"sidebar__nav",children:[h,x,y,b,_,i.jsx("a",{href:`${"/example-dashboard".replace(/\/$/,"")}/docs/`,className:"sidebar__link__text",children:i.jsxs("div",{className:"sidebar__link",children:[i.jsx("span",{className:"sidebar__link__icon",children:i.jsx(Y,{icon:ws})}),"Docs"]})})]}),t[16]=p):p=t[16];let g;t[17]!==u?(g=i.jsxs("div",{ref:r,className:u,children:[d,p]}),t[17]=u,t[18]=g):g=t[18];let v;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=i.jsx("div",{className:"content",children:i.jsx(cs,{})}),t[19]=v):v=t[19];let w;return t[20]!==g||t[21]!==f||t[22]!==m?(w=i.jsxs("div",{className:"layout",children:[f,m,g,v]}),t[20]=g,t[21]=f,t[22]=m,t[23]=w):w=t[23],w}function Hn(t){return t==="/workers"}function Gn(t){return t==="/collected"}function qn(t){return t==="/patches"}function Jn(t){return t==="/"||t.startsWith("/tests/")}function mt({headers:t,data:e,row:s,mobileRow:n,getKey:r,onFilterChange:l,filterStrings:o,perPage:a}){const[c,f]=M.useState(null),[m,u]=M.useState(0),[d,h]=M.useState(""),[x,y]=M.useState(0),b=ot();function _(){let S=e;if(d&&(S=e.filter(A=>o?o(A).some(I=>I.toLowerCase().includes(d.toLowerCase())):!0)),c===null)return S;const E=[...S].sortKey(A=>t[c].sortKey(A));return m===0?E:E.reverse()}const p=M.useMemo(()=>_(),[e,d,c,m]),g=M.useMemo(()=>a?Math.max(1,Math.ceil(p.length/a)):1,[p.length,a]);M.useEffect(()=>{a&&x>=g&&y(g-1)},[x,g,a]);const v=S=>{t[S].sortKey&&(c===S?u(E=>E===0?1:0):(f(S),u(0)),a&&y(0))};function w(S){h(S),l==null||l(S),a&&y(0)}const k=M.useMemo(()=>{if(!a)return p;const S=x*a,E=(x+1)*a;return p.slice(S,E)},[p,x,a]);return i.jsxs("div",{className:"table",children:[o!==void 0&&i.jsxs("div",{className:"table__controls",children:[i.jsxs("div",{className:"table__filter",children:[i.jsx("input",{type:"text",placeholder:"Filter",value:d,onChange:S=>w(S.target.value),className:"table__filter__input"}),d&&i.jsx("span",{className:"table__filter__clear",onClick:()=>w(""),children:i.jsx(Y,{icon:Ns})})]}),a&&g>1&&i.jsx("div",{className:"table__pagination table__pagination--top",children:i.jsx(Se,{currentPage:x,pageCount:g,onPageChange:y})})]}),o===void 0&&a&&g>1&&i.jsx("div",{className:"table__pagination table__pagination--top",children:i.jsx(Se,{currentPage:x,pageCount:g,onPageChange:y})}),n!==void 0&&b?k.map(S=>i.jsx("div",{children:n(S)},r?r(S):void 0)):i.jsxs("table",{className:"table__table",children:[i.jsx("thead",{children:i.jsx("tr",{children:t.map((S,E)=>i.jsx("th",{onClick:()=>v(E),className:S.sortKey?"table--sortable":"",children:i.jsxs("div",{className:`table__header table__header--${S.align??"left"}`,children:[S.content,S.sortKey&&i.jsx("div",{className:"table__sort",children:[0,1].map(A=>i.jsx("div",{className:`table__sort__arrow table__sort__arrow--${A===0?"asc":"desc"} ${c===E&&m===A?"table__sort__arrow--active":""}`,children:A===0?i.jsx(Y,{icon:ks}):i.jsx(Y,{icon:$s})}))})]})},E))})}),i.jsx("tbody",{children:k.map(S=>{const E=s(S);return console.assert(E.length===t.length),i.jsx("tr",{children:E.map((A,I)=>i.jsx("td",{children:A},I))},r?r(S):void 0)})})]}),a&&g>1&&i.jsx("div",{className:"table__pagination table__pagination--bottom",children:i.jsx(Se,{currentPage:x,pageCount:g,onPageChange:y})}),d&&p.length<e.length&&i.jsxs("div",{className:"table__filter-status",children:["Showing ",p.length," of ",e.length," rows",i.jsx("span",{className:"table__filter-status__clear",onClick:()=>{h(""),l==null||l("")},children:"[clear]"})]})]})}async function dt(t){return await(await fetch(new URL("dashboard_state/api.json",import.meta.url))).json()}async function Zn(t){var s;const e=await dt();return(s=e==null?void 0:e.patches)==null?void 0:s[t]}async function qt(){const t=await dt();return t==null?void 0:t.available_patches}async function Qn(){const t=await dt();return t==null?void 0:t.collection_status}const Jt={not_collected:0,collected:1};function ei(){const t=W.c(13),[e,s]=M.useState(null);let n,r;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{Qn().then(x=>{s(x)})},r=[],t[0]=n,t[1]=r):(n=t[0],r=t[1]),M.useEffect(n,r),e===null)return null;if(!e.length){let x;return t[2]===Symbol.for("react.memo_cache_sentinel")?(x=i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card__header",children:"Test collection"}),"No tests collected."]}),t[2]=x):x=t[2],x}let l,o;t[3]!==e?(l=[...e].sortKey(li),o=zt(l.map(ri)),t[3]=e,t[4]=l,t[5]=o):(l=t[4],o=t[5]);const a=o;let c;t[6]===Symbol.for("react.memo_cache_sentinel")?(c=[{content:"Test",sortKey:ii},{content:"Status",sortKey:ni,align:"center"}],t[6]=c):c=t[6];const f=c;let m;t[7]!==a.length?(m=x=>{const y=x.nodeid.slice(a.length);return[i.jsx("div",{style:{wordBreak:"break-all"},children:x.status=="collected"?i.jsx(he,{to:`/tests/${encodeURIComponent(x.nodeid)}`,className:"test__link",children:y}):y}),i.jsx("div",{style:{textAlign:"center"},children:x.status==="collected"?i.jsx("div",{className:"pill pill__success",children:"Collected"}):i.jsxs("div",{className:"pill pill__neutral",children:["Not collected (",x.status_reason,")"]})})]},t[7]=a.length,t[8]=m):m=t[8];const u=m;let d;t[9]===Symbol.for("react.memo_cache_sentinel")?(d=i.jsx("div",{className:"card__header",children:"Test collection status"}),t[9]=d):d=t[9];let h;return t[10]!==u||t[11]!==l?(h=i.jsxs("div",{className:"card",children:[d,i.jsx(mt,{headers:f,data:l,row:u,getKey:si,filterStrings:ti,perPage:100})]}),t[10]=u,t[11]=l,t[12]=h):h=t[12],h}function ti(t){return[t.nodeid,t.status==="collected"?"Collected":`Not collected (${t.status_reason})`]}function si(t){return t.database_key}function ni(t){return[Jt[t.status],t.status_reason]}function ii(t){return t.nodeid}function ri(t){return t.nodeid}function li(t){return[Jt[t.status],t.status_reason,t.nodeid]}function oi(){const t=W.c(1);let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=i.jsx("h1",{children:"Page not found!"}),t[0]=e):e=t[0],e}function ai(t){const e=t.regex;return{name:"Diff",aliases:["patch"],contains:[{className:"meta",relevance:10,match:e.either(/^@@ +-\d+,\d+ +\+\d+,\d+ +@@/,/^\*\*\* +\d+,\d+ +\*\*\*\*$/,/^--- +\d+,\d+ +----$/)},{className:"comment",variants:[{begin:e.either(/Index: /,/^index/,/={3,}/,/^-{3}/,/^\*{3} /,/^\+{3}/,/^diff --git/),end:/$/},{match:/^\*{15}$/}]},{className:"addition",begin:/^\+/,end:/$/},{className:"deletion",begin:/^-/,end:/$/},{className:"addition",begin:/^!/,end:/$/}]}}Me.registerLanguage("diff",ai);function Zt(t){const e=W.c(61),{nodeid:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];const[r,l]=M.useState(n),[o,a]=M.useState(!0),[c,f]=M.useState(null),[m,u]=M.useState(!1),d=M.useRef(null);let h,x;e[1]!==s?(h=()=>{Zn(s).then(U=>{U&&l(U),a(!1)})},x=[s],e[1]=s,e[2]=h,e[3]=x):(h=e[2],x=e[3]),M.useEffect(h,x);let y;e[4]===Symbol.for("react.memo_cache_sentinel")?(y=()=>{Ut(d,!0)},e[4]=y):y=e[4];let b;if(e[5]!==c||e[6]!==r?(b=[r,c],e[5]=c,e[6]=r,e[7]=b):b=e[7],M.useEffect(y,b),o){let U;return e[8]===Symbol.for("react.memo_cache_sentinel")?(U=i.jsx("div",{className:"card",children:i.jsx("p",{children:"Loading patches..."})}),e[8]=U):U=e[8],U}if(Object.values(r).every(ui)){let U;return e[9]===Symbol.for("react.memo_cache_sentinel")?(U=i.jsx("div",{className:"card",children:i.jsx("p",{children:"No patches for this test"})}),e[9]=U):U=e[9],U}let _,p,g,v,w,k,S,E,A;if(e[10]!==s||e[11]!==c||e[12]!==r){const U=new Map([["failing","Failing"],["covering","Covering"]]),z=c??Array.from(U.keys()).find(H=>r[H]);v=r[z];let V;e[22]!==v?(V=async()=>{await navigator.clipboard.writeText(v),u(!0),setTimeout(()=>{u(!1)},2e3)},e[22]=v,e[23]=V):V=e[23],p=V;let B;e[24]!==z||e[25]!==s||e[26]!==v?(B=()=>{const H=new Blob([v],{type:"text/plain"}),q=URL.createObjectURL(H),Z=document.createElement("a");Z.href=q,Z.download=`${z}-${s.split("::").pop()}.patch`,document.body.appendChild(Z),Z.click(),document.body.removeChild(Z),URL.revokeObjectURL(q)},e[24]=z,e[25]=s,e[26]=v,e[27]=B):B=e[27],g=B,w=d,e[28]===Symbol.for("react.memo_cache_sentinel")?(A={paddingTop:"10px",paddingBottom:"10px",display:"flex",fontSize:"1.05rem",fontWeight:"500"},e[28]=A):A=e[28],_=xe,S=z,E=f,k=Array.from(U.entries()),e[10]=s,e[11]=c,e[12]=r,e[13]=_,e[14]=p,e[15]=g,e[16]=v,e[17]=w,e[18]=k,e[19]=S,e[20]=E,e[21]=A}else _=e[13],p=e[14],g=e[15],v=e[16],w=e[17],k=e[18],S=e[19],E=e[20],A=e[21];let I;e[29]!==r||e[30]!==k?(I=k.filter(U=>{const[z]=U;return r[z]}).map(ci),e[29]=r,e[30]=k,e[31]=I):I=e[31];let j;e[32]!==_||e[33]!==I||e[34]!==S||e[35]!==E?(j=i.jsx(_,{value:S,onChange:E,options:I}),e[32]=_,e[33]=I,e[34]=S,e[35]=E,e[36]=j):j=e[36];let R;e[37]!==j||e[38]!==A?(R=i.jsx("div",{style:A,children:j}),e[37]=j,e[38]=A,e[39]=R):R=e[39];const N=`patch__controls__control ${m?"patch__controls__control--success":""}`,L=m?At:Rs;let T;e[40]!==L?(T=i.jsx(Y,{icon:L}),e[40]=L,e[41]=T):T=e[41];let $;e[42]!==p||e[43]!==N||e[44]!==T?($=i.jsx("div",{className:N,onClick:p,title:"Copy patch",children:T}),e[42]=p,e[43]=N,e[44]=T,e[45]=$):$=e[45];let C;e[46]===Symbol.for("react.memo_cache_sentinel")?(C=i.jsx(Y,{icon:Cs}),e[46]=C):C=e[46];let F;e[47]!==g?(F=i.jsx("div",{className:"patch__controls__control",onClick:g,title:"Download patch",children:C}),e[47]=g,e[48]=F):F=e[48];let O;e[49]!==$||e[50]!==F?(O=i.jsxs("div",{className:"patch__controls",children:[$,F]}),e[49]=$,e[50]=F,e[51]=O):O=e[51];let P;e[52]!==v?(P=i.jsx("code",{className:"language-diff",children:v}),e[52]=v,e[53]=P):P=e[53];let X;e[54]!==O||e[55]!==P?(X=i.jsxs("pre",{className:"patch__pre",children:[O,P]}),e[54]=O,e[55]=P,e[56]=X):X=e[56];let D;return e[57]!==w||e[58]!==R||e[59]!==X?(D=i.jsxs("div",{ref:w,children:[R,X]}),e[57]=w,e[58]=R,e[59]=X,e[60]=D):D=e[60],D}function ci(t){const[e,s]=t;return{value:e,content:s}}function ui(t){return t===null}function fi(){const t=W.c(8),[e,s]=M.useState(null);let n,r;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{qt().then(c=>{s(c)})},r=[],t[0]=n,t[1]=r):(n=t[0],r=t[1]),M.useEffect(n,r),e===null||e.length===0){let c;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsxs("div",{className:"card",children:[i.jsx("div",{className:"card__header",children:"Patches"}),i.jsx("p",{children:"No tests with patches present."})]}),t[2]=c):c=t[2],c}let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx("div",{className:"card__header",style:{marginBottom:"1rem"},children:"Patches"}),t[3]=l):l=t[3];let o;t[4]!==e?(o=e.map(mi),t[4]=e,t[5]=o):o=t[5];let a;return t[6]!==o?(a=i.jsxs("div",{className:"card",children:[l,o]}),t[6]=o,t[7]=a):a=t[7],a}function mi(t){return i.jsx(at,{title:i.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[i.jsx("span",{children:t}),i.jsxs(he,{to:`/tests/${encodeURIComponent(t)}`,className:"patches__test__link",style:{marginLeft:"8px"},children:["View test ",i.jsx(Y,{icon:Es})]})]}),headerClass:"patches__test",defaultState:"closed",children:i.jsx(Zt,{nodeid:t})})}function di(t){return t>=1e6?`${Math.floor(t/1e6)}M`:t>=1e3?`${Math.floor(t/1e3)}k`:t>0?t.toLocaleString():"0"}function hi({baseScale:t,viewportScale:e,tickCount:s,zoomState:n,orientation:r}){const l=t.range();let o;return r==="bottom"?o=[t.invert((l[0]-n.x)/n.scaleX),t.invert((l[1]-n.x)/n.scaleX)]:o=[t.invert(l[0]-n.y),t.invert(l[1]-n.y)],t.domain(o).range(l).ticks(s).filter(c=>c>=0).map(c=>({offset:e(c),name:di(c)}))}function kt(t){const e=W.c(27),{baseScale:s,viewportScale:n,orientation:r,tickCount:l,transform:o,zoomState:a}=t,c=l===void 0?5:l;let f;if(e[0]!==s||e[1]!==r||e[2]!==c||e[3]!==o||e[4]!==n||e[5]!==a){const m=hi({baseScale:s,viewportScale:n,tickCount:c,zoomState:a,orientation:r}),u=r==="bottom";let d;e[7]!==s||e[8]!==u?(d=u?[0,0,s.range()[1],0]:[0,0,0,s.range()[0]],e[7]=s,e[8]=u,e[9]=d):d=e[9];const[h,x,y,b]=d;let _;e[10]!==h||e[11]!==y||e[12]!==x||e[13]!==b?(_=i.jsx("line",{className:"domain",x1:h,y1:x,x2:y,y2:b,stroke:"currentColor",strokeWidth:1}),e[10]=h,e[11]=y,e[12]=x,e[13]=b,e[14]=_):_=e[14];const p=h,g=x,v=u?h:h-6,w=u?x+6:x;let k;e[15]!==p||e[16]!==g||e[17]!==v||e[18]!==w?(k=i.jsx("line",{className:"domain",x1:p,y1:g,x2:v,y2:w,stroke:"currentColor",strokeWidth:1}),e[15]=p,e[16]=g,e[17]=v,e[18]=w,e[19]=k):k=e[19];const S=y,E=b,A=u?y:y-6,I=u?b+6:b;let j;e[20]!==S||e[21]!==E||e[22]!==A||e[23]!==I?(j=i.jsx("line",{className:"domain",x1:S,y1:E,x2:A,y2:I,stroke:"currentColor",strokeWidth:1}),e[20]=S,e[21]=E,e[22]=A,e[23]=I,e[24]=j):j=e[24];let R;e[25]!==u?(R=(N,L)=>{const T=u?N.offset:0,$=u?0:N.offset,C=u?N.offset:-10,F=u?15:N.offset+4;return i.jsxs("g",{className:"tick",children:[i.jsx("line",{x1:T,y1:$,x2:T+(u?0:-6),y2:$+(u?6:0),stroke:"currentColor",strokeWidth:1}),i.jsx("text",{x:C,y:F,textAnchor:u?"middle":"end",fontSize:"12",fill:"currentColor",children:N.name})]},L)},e[25]=u,e[26]=R):R=e[26],f=i.jsxs("g",{className:`axis axis--${r}`,transform:o,children:[_,k,j,m.map(R)]}),e[0]=s,e[1]=r,e[2]=c,e[3]=o,e[4]=n,e[5]=a,e[6]=f}else f=e[6];return f}function _i(t){const e=W.c(13),{lines:s,viewportXScale:n,viewportYScale:r,xValue:l,yValue:o}=t;let a;if(e[0]!==s||e[1]!==n||e[2]!==r||e[3]!==l||e[4]!==o){let c;e[6]!==n||e[7]!==l?(c=d=>n(l(d)),e[6]=n,e[7]=l,e[8]=c):c=e[8];let f;e[9]!==r||e[10]!==o?(f=d=>r(o(d)),e[9]=r,e[10]=o,e[11]=f):f=e[11];const m=Is().x(c).y(f);let u;e[12]===Symbol.for("react.memo_cache_sentinel")?(u={pointerEvents:"auto"},e[12]=u):u=e[12],a=i.jsx("g",{style:u,children:s.map(d=>{const h=m(d.reports)||"";return i.jsx("path",{d:h,fill:"none",stroke:d.color,className:`coverage-line ${d.isActive?"coverage-line__selected":""}`,style:{cursor:d.url?"pointer":"default"}},`line-${d.url||"no-url"}`)})}),e[0]=s,e[1]=n,e[2]=r,e[3]=l,e[4]=o,e[5]=a}else a=e[5];return a}class Fe{constructor(e,s,n,r,l,o,a){this.nodeid=e,this.linear_status_counts=s,this.linear_elapsed_time=n,this.behaviors=r,this.fingerprints=l,this.worker_uuid=o,this.timestamp_monotonic=a}static fromReport(e,s){return new Fe(e,s.status_counts,s.elapsed_time,s.behaviors,s.fingerprints,s.worker_uuid,s.timestamp_monotonic)}}const ve=new Map;function ce(t,e){const s=W.c(11);let n;s[0]!==e||s[1]!==t?(n=()=>{const u=sessionStorage.getItem(t);return u===null?e:JSON.parse(u)},s[0]=e,s[1]=t,s[2]=n):n=s[2];const[r,l]=M.useState(n);let o,a;s[3]!==t?(o=()=>(ve.has(t)||ve.set(t,new Set),ve.get(t).add(l),()=>{ve.get(t).delete(l)}),a=[t],s[3]=t,s[4]=o,s[5]=a):(o=s[4],a=s[5]),M.useEffect(o,a);let c;s[6]!==t?(c=function(d){sessionStorage.setItem(t,JSON.stringify(d)),ve.get(t).forEach(h=>h(d))},s[6]=t,s[7]=c):c=s[7];const f=c;let m;return s[8]!==f||s[9]!==r?(m=[r,f],s[8]=f,s[9]=r,s[10]=m):m=s[10],m}const pi=10,gi=1e3;function xi(t,e){const s=[],n=e.reports;if(n.length<2)return s;const r=t.baseX.range()[1],l=t.baseY.range()[0],o=0,a=n.map(_=>({x:t.viewportX(t.xValue(_)),y:t.viewportY(t.yValue(_))})),c=[];for(let _=1;_<a.length;_++){const{x:p,y:g}=a[_-1],{x:v,y:w}=a[_],k=Math.min(p,v),S=Math.max(p,v),E=Math.min(g,w),A=Math.max(g,w);if(S<-o||k>r+o||A<-o||E>l+o)continue;const j=Math.sqrt((v-p)**2+(w-g)**2);j!==0&&c.push({x1:p,y1:g,x2:v,y2:w,length:j})}if(c.length===0)return s;const f=1e-4,m=[];for(const _ of c){const p=Math.abs(_.y1-_.y2)<=f;if(m.length>0){const g=m[m.length-1],v=Math.abs(g.y1-g.y2)<=f;if(p&&v&&Math.abs((g.y1+g.y2)/2-(_.y1+_.y2)/2)<=f){const k=(g.y1+g.y2)/2,S=Math.min(g.x1,_.x1,g.x2,_.x2),E=Math.max(g.x1,_.x1,g.x2,_.x2);g.x1=S,g.x2=E,g.y1=k,g.y2=k,g.length=Math.abs(E-S);continue}}m.push({..._})}const u=m.reduce((_,p)=>_+p.length,0);if(u<=0)return s;function d(_,p){const g=s[s.length-1];if(!g){s.push({x:_,y:p,line:e});return}const v=_-g.x,w=p-g.y;Math.sqrt(v*v+w*w)>=Qt/2&&s.push({x:_,y:p,line:e})}if(m.length>0){d(m[0].x1,m[0].y1);for(let _=0;_<m.length;_++){const p=m[_];d(p.x2,p.y2)}}const h=pi,x=Math.floor(u/h),y=Math.max(0,gi-s.length),b=Math.min(y,x);for(let _=1;_<=b;_++){const p=_*h;if(p>=u)break;let g=0;for(let v=0;v<m.length;v++){const w=m[v],k=g+w.length;if(p<=k||v===m.length-1){const S=w.length>0?(p-g)/w.length:0,E=w.x1+(w.x2-w.x1)*S,A=w.y1+(w.y2-w.y1)*S;E>=0&&E<=r&&A>=0&&A<=l&&d(E,A);break}g=k}}return s}const yi={x:0,y:0,scaleX:1};function bi({zoomState:t,bounds:e,baseX:s,baseY:n}){if(!e)return t;let r={...t};if(e.xMin!==void 0||e.xMax!==void 0){const l=s.range(),o=l[0],a=l[1],c=s.invert((o-r.x)/r.scaleX),f=s.invert((a-r.x)/r.scaleX);e.xMin!==void 0&&c<e.xMin&&(r.x=o-s(e.xMin)*r.scaleX),e.xMax!==void 0&&f>e.xMax&&(r.x=a-s(e.xMax)*r.scaleX)}if(e.yMin!==void 0||e.yMax!==void 0){const l=n.range(),o=l[1],a=l[0];e.yMin!==void 0&&n.invert(a-r.y)<e.yMin&&(r.y=a-n(e.yMin)),e.yMax!==void 0&&n.invert(o-r.y)>e.yMax&&(r.y=o-n(e.yMax))}return r}function vi(t,e,s,n,r,l,o,a=yi,c){const f=_=>n==="time"?_.linear_elapsed_time:_.linear_status_counts.sum(),m=_=>r==="behaviors"?_.behaviors:_.fingerprints,u=(e==="log"?pt():Ie()).domain([0,Ce(t.map(_=>f(_)))||1]).range([0,l]),d=(s==="log"?pt():Ie()).domain([0,Ce(t.map(_=>m(_)))||0]).range([o,0]),h=bi({zoomState:a,bounds:c,baseX:u,baseY:d}),x=u.range(),y=u.copy().range([x[0]*h.scaleX+h.x,x[1]*h.scaleX+h.x]),b=d.copy().range([d.range()[0]+h.y,d.range()[1]+h.y]);return{xValue:f,yValue:m,baseX:u,baseY:d,viewportX:y,viewportY:b,constrainedTransform:h}}const Le={x:0,y:0,scaleX:1};function ji(t){const e=W.c(29),{minScale:s,maxScale:n,wheelSensitivity:r,containerRef:l,onZoomEnd:o,onDragEnd:a}=t,c=s===void 0?1:s,f=n===void 0?50:n,m=r===void 0?.0013:r,u=o===void 0?wi:o,d=a===void 0?Si:a,[h,x]=M.useState(Le),y=M.useRef(!1);let b;e[0]===Symbol.for("react.memo_cache_sentinel")?(b={x:0,y:0},e[0]=b):b=e[0];const _=M.useRef(b),p=M.useRef(null),g=M.useRef(!1),v=M.useRef(null);let w;e[1]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{p.current&&(cancelAnimationFrame(p.current),p.current=null)},e[1]=w):w=e[1];const k=w;let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S=P=>{k(),x(P)},e[2]=S):S=e[2];const E=S;let A;e[3]!==u||e[4]!==h?(A=()=>{k();const P=h,X=performance.now(),D=ze(P.x,Le.x),U=ze(P.y,Le.y),z=ze(P.scaleX,Le.scaleX),V=B=>{const H=B-X,q=Math.min(H/500,1),Z=1-Math.pow(1-q,3),K={x:D(Z),y:U(Z),scaleX:z(Z)};x(K),q<1?p.current=requestAnimationFrame(V):(p.current=null,requestAnimationFrame(()=>u()))};p.current=requestAnimationFrame(V)},e[3]=u,e[4]=h,e[5]=A):A=e[5];const I=A;let j;e[6]!==l.current||e[7]!==f||e[8]!==c||e[9]!==u||e[10]!==h||e[11]!==m?(j=()=>{const P=l.current;if(!P)return;const X=D=>{k();const U=P.getBoundingClientRect(),z=D.clientX-U.left;if(Math.abs(D.deltaX)>Math.abs(D.deltaY))return;const V=1-D.deltaY*m,B=Math.max(c,Math.min(f,h.scaleX*V)),H=B!==h.scaleX;if(H||g.current){if(D.preventDefault(),D.stopPropagation(),H){g.current=!0;const q=B/h.scaleX,G={x:z-(z-h.x)*q,y:h.y,scaleX:B};x(G)}v.current&&clearTimeout(v.current),v.current=window.setTimeout(()=>{g.current=!1,u(),v.current=null},150)}};return P.addEventListener("wheel",X,{passive:!1}),()=>{P.removeEventListener("wheel",X)}},e[6]=l.current,e[7]=f,e[8]=c,e[9]=u,e[10]=h,e[11]=m,e[12]=j):j=e[12];let R;e[13]!==f||e[14]!==c||e[15]!==h||e[16]!==m?(R=[h,c,f,m,k],e[13]=f,e[14]=c,e[15]=h,e[16]=m,e[17]=R):R=e[17],M.useEffect(j,R);let N;e[18]!==d?(N=P=>{if(P.button!==0)return;k(),y.current=!0,_.current={x:P.clientX,y:P.clientY};const X=U=>{if(!y.current)return;const z=U.clientX-_.current.x,V=U.clientY-_.current.y;x(B=>({x:B.x+z,y:B.y+V,scaleX:B.scaleX})),_.current={x:U.clientX,y:U.clientY}},D=()=>{y.current=!1,document.removeEventListener("mousemove",X),document.removeEventListener("mouseup",D),d()};document.addEventListener("mousemove",X),document.addEventListener("mouseup",D)},e[18]=d,e[19]=N):N=e[19];const L=N;let T;e[20]!==I?(T=P=>{P.preventDefault(),I()},e[20]=I,e[21]=T):T=e[21];const $=T;let C,F;e[22]===Symbol.for("react.memo_cache_sentinel")?(C=()=>()=>{k(),v.current&&clearTimeout(v.current)},F=[k],e[22]=C,e[23]=F):(C=e[22],F=e[23]),M.useEffect(C,F);let O;return e[24]!==$||e[25]!==L||e[26]!==I||e[27]!==h?(O={transform:h,onMouseDown:L,onDoubleClick:$,resetZoom:I,setTransform:E},e[24]=$,e[25]=L,e[26]=I,e[27]=h,e[28]=O):O=e[28],O}function Si(){}function wi(){}const Qt=24,Qe=270,Xe={zoomIdentity:Os,select:It,scaleLinear:Ie,scaleOrdinal:Dt,interpolateViridis:Xs,interpolateRgb:Fs,schemeCategory10:Ds};function Ni(t,e,s,n){let r=[];if(e==="linearized")r=Array.from(t.entries()).sortKey(([l,o])=>l).map(([l,o])=>({nodeid:l,url:`/tests/${encodeURIComponent(l)}`,reports:ki(o,s),color:n(l),isActive:!1}));else if(e==="individual"){let l=function(f){if(o.length<=1)return $t(.5);const m=(f-a)/(c-a);return $t(m)};const o=[];for(const f of t.values())for(const m of f.reports_by_worker.values())m.length>0&&o.push(m[0].timestamp);const a=nn(o)??0,c=Ce(o)??0;for(const[f,m]of t.entries())for(const u of m.reports_by_worker.values())u.length>0&&r.push({nodeid:f,url:`/tests/${encodeURIComponent(f)}`,reports:u.map(d=>Fe.fromReport(f,d)),color:l(u[0].timestamp),isActive:!1})}else if(e==="latest")for(const[l,o]of t.entries()){const a=Ce(Array.from(o.reports_by_worker.values()),c=>c[0].elapsed_time);a&&r.push({nodeid:l,url:`/tests/${encodeURIComponent(l)}`,reports:a.map(c=>Fe.fromReport(l,c)),color:n(l),isActive:!1})}return r}const $t=Xe.scaleLinear().domain([0,1]).range(["rgb(255, 198, 128)","rgb(240, 136, 62)","rgb(219, 109, 40)","rgb(189, 86, 29)","rgb(155, 66, 21)","rgb(118, 45, 10)","rgb(90, 30, 2)"]).interpolate(Xe.interpolateRgb);var nt=(t=>(t.TOGETHER="linearized",t.SEPARATE="individual",t.LATEST="latest",t))(nt||{});function ki(t,e){const s=t.linear_status_counts(e),n=t.linear_elapsed_time(e),r=[];for(let l=0;l<s.length;l++){const o=t.linear_reports[l];r.push({nodeid:t.nodeid,linear_status_counts:s[l],linear_elapsed_time:n[l],behaviors:o.behaviors,fingerprints:o.fingerprints,worker_uuid:o.worker_uuid,timestamp_monotonic:o.timestamp_monotonic})}return r}function es(t){const e=W.c(4),{value:s,onChange:n}=t;let r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=[{value:"log",content:"Log"},{value:"linear",content:"Linear"}],e[0]=r):r=e[0];let l;return e[1]!==n||e[2]!==s?(l=i.jsx(xe,{value:s,onChange:n,options:r}),e[1]=n,e[2]=s,e[3]=l):l=e[3],l}function $i(){const t=W.c(23),[e,s]=ce("graph_scale_x","log"),[n,r]=ce("graph_axis_x","time");let l,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},o={display:"flex",alignItems:"center",gap:"0.5rem"},t[0]=l,t[1]=o):(l=t[0],o=t[1]);const a=n==="inputs"?$e:Re;let c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c={fontSize:"0.9rem"},t[2]=c):c=t[2];let f;t[3]!==a?(f=i.jsx(Y,{icon:a,style:c}),t[3]=a,t[4]=f):f=t[4];const m=n==="inputs"?"Inputs":"Time";let u;t[5]!==f||t[6]!==m?(u=i.jsxs("div",{style:o,children:[f,m]}),t[5]=f,t[6]=m,t[7]=u):u=t[7];let d;t[8]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",alignItems:"center",gap:"0.5rem"},t[8]=d):d=t[8];let h;t[9]!==e||t[10]!==s?(h=i.jsx(es,{value:e,onChange:s}),t[9]=e,t[10]=s,t[11]=h):h=t[11];let x;t[12]===Symbol.for("react.memo_cache_sentinel")?(x={value:"inputs",content:i.jsx(Y,{icon:$e})},t[12]=x):x=t[12];let y;t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[x,{value:"time",content:i.jsx(Y,{icon:Re})}],t[13]=y):y=t[13];let b;t[14]!==n||t[15]!==r?(b=i.jsx(xe,{value:n,onChange:r,options:y}),t[14]=n,t[15]=r,t[16]=b):b=t[16];let _;t[17]!==b||t[18]!==h?(_=i.jsxs("div",{style:d,children:[h,b]}),t[17]=b,t[18]=h,t[19]=_):_=t[19];let p;return t[20]!==_||t[21]!==u?(p=i.jsxs("div",{className:"coverage-graph__label coverage-graph__label--x",style:l,children:[u,_]}),t[20]=_,t[21]=u,t[22]=p):p=t[22],p}function Ri(){const t=W.c(23),[e,s]=ce("graph_scale_y","linear"),[n,r]=ce("graph_axis_y","behaviors");let l,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem",zIndex:1},o={display:"flex",alignItems:"center",gap:"0.5rem"},t[0]=l,t[1]=o):(l=t[0],o=t[1]);let a;t[2]!==e||t[3]!==s?(a=i.jsx(es,{value:e,onChange:s}),t[2]=e,t[3]=s,t[4]=a):a=t[4];let c;t[5]===Symbol.for("react.memo_cache_sentinel")?(c={value:"behaviors",content:i.jsx(Y,{icon:Ne})},t[5]=c):c=t[5];let f;t[6]===Symbol.for("react.memo_cache_sentinel")?(f=[c,{value:"fingerprints",content:i.jsx(Y,{icon:ke})}],t[6]=f):f=t[6];let m;t[7]!==n||t[8]!==r?(m=i.jsx(xe,{value:n,onChange:r,options:f}),t[7]=n,t[8]=r,t[9]=m):m=t[9];let u;t[10]!==a||t[11]!==m?(u=i.jsxs("div",{style:o,children:[a,m]}),t[10]=a,t[11]=m,t[12]=u):u=t[12];let d;t[13]===Symbol.for("react.memo_cache_sentinel")?(d={display:"flex",alignItems:"center",gap:"0.5rem"},t[13]=d):d=t[13];const h=n==="behaviors"?Ne:ke;let x;t[14]===Symbol.for("react.memo_cache_sentinel")?(x={fontSize:"0.9rem"},t[14]=x):x=t[14];let y;t[15]!==h?(y=i.jsx(Y,{icon:h,style:x}),t[15]=h,t[16]=y):y=t[16];const b=n==="behaviors"?"Behaviors":"Fingerprints";let _;t[17]!==y||t[18]!==b?(_=i.jsxs("div",{style:d,children:[y,b]}),t[17]=y,t[18]=b,t[19]=_):_=t[19];let p;return t[20]!==_||t[21]!==u?(p=i.jsxs("div",{className:"coverage-graph__label coverage-graph__label--y",style:l,children:[u,_]}),t[20]=_,t[21]=u,t[22]=p):p=t[22],p}const Rt={linearized:{content:i.jsxs(i.Fragment,{children:[i.jsx(Y,{icon:tt})," Together"]}),mobileContent:i.jsx(Y,{icon:tt})},individual:{content:i.jsxs(i.Fragment,{children:[i.jsx(Y,{icon:_t})," Separate"]}),mobileContent:i.jsx(Y,{icon:_t})},latest:{content:i.jsxs(i.Fragment,{children:[i.jsx(Y,{icon:ht})," Latest"]}),mobileContent:i.jsx(Y,{icon:ht})}},ue={top:5,right:5,bottom:25,left:40};function Ci({tests:t,filterString:e="",workers_after:s=null,viewSetting:n}){const r=M.useRef(null),l=M.useRef(null),[o,a]=ce("graph_scale_x","log"),[c,f]=ce("graph_scale_y","linear"),[m,u]=ce("graph_axis_x","time"),[d,h]=ce("graph_axis_y","fingerprints"),x=Et();ot();const y=Ve(),[b,_]=M.useState(800),[p,g]=M.useState(null),v=M.useRef(null),w=M.useRef(null),k=Xe.scaleOrdinal(Xe.schemeCategory10).domain(Array.from(t.keys())),S=M.useMemo(()=>Ni(t,n,s,k),[t,n,s]);let E=S;e&&(E=S.filter($=>{var C;return(C=$.url)==null?void 0:C.toLowerCase().includes(e.toLowerCase())}));let A=null;E.forEach($=>{$.isActive=!1,p!=null&&$.nodeid===p.line.nodeid&&(n==="linearized"||$.reports[0].worker_uuid===(p==null?void 0:p.line.reports[0].worker_uuid))&&($.isActive=!0,A=$)}),M.useEffect(()=>{if(r.current){const $=new ResizeObserver(C=>{for(const F of C)_(F.contentRect.width)});return $.observe(r.current),()=>$.disconnect()}},[]);const I=b-ue.left-ue.right,j=Qe-ue.top-ue.bottom,R=E.flatMap($=>$.reports);function N(){const $=E.flatMap(C=>xi(v.current,C));l.current=Bs().x(C=>C.x).y(C=>C.y).addAll($)}const L=ji({minScale:1,maxScale:50,containerRef:r,onZoomEnd:N,onDragEnd:N}),T=vi(R,o,c,m,d,I,j,L.transform,{yMin:0});return v.current=T,M.useEffect(()=>{N()},[E,o,c,m,d,I,j]),i.jsx("div",{ref:$=>{r.current!==$&&(r.current=$)},style:{position:"relative",width:"100%",height:`${Qe}px`,userSelect:"none",cursor:A?"pointer":"default"},onMouseDown:$=>{w.current={x:$.clientX,y:$.clientY},L.onMouseDown($)},onDoubleClick:L.onDoubleClick,onClick:$=>{const C=w.current;w.current=null;const F=5;C&&(Math.abs($.clientX-C.x)>F||Math.abs($.clientY-C.y)>F)||A&&A.url&&Wt($,A.url,x)},onMouseMove:$=>{const C=$.currentTarget.getBoundingClientRect(),F=$.clientX-C.left-ue.left,O=$.clientY-C.top-ue.top;if(!l.current)return;const P=l.current.find(F,O,Qt)||null;if(P){const X=P.line.reports;let D=X[0],U=1/0;X.forEach(V=>{const B=T.viewportX(T.xValue(V)),H=T.viewportY(T.yValue(V)),q=Math.sqrt((F-B)**2+(O-H)**2);q<U&&(U=q,D=V)});const z=i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[i.jsx("div",{style:{fontWeight:600,marginBottom:2},children:Yt(D.nodeid)}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[i.jsx(Y,{icon:Ne}),i.jsx("span",{children:D.behaviors.toLocaleString()})]}),i.jsx("span",{children:"/"}),i.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[i.jsx(Y,{icon:ke}),i.jsx("span",{children:D.fingerprints.toLocaleString()})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[i.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[i.jsx(Y,{icon:$e}),i.jsx("span",{children:D.linear_status_counts.sum().toLocaleString()})]}),i.jsx("span",{children:"/"}),i.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[i.jsx(Y,{icon:Re}),i.jsxs("span",{children:[D.linear_elapsed_time.toFixed(1),"s"]})]})]})]});y.showTooltip(z,$.clientX,$.clientY,"coverage-graph"),g({line:P.line,report:D})}else g(null),y.hideTooltip("coverage-graph")},onMouseLeave:()=>{g(null),y.hideTooltip("coverage-graph")},children:i.jsxs("svg",{className:"coverage-graph__svg",style:{position:"absolute",top:0,left:0,width:"100%",height:`${Qe}px`,pointerEvents:"none"},children:[i.jsx("defs",{children:i.jsx("clipPath",{id:"clip-content",children:i.jsx("rect",{y:-2,width:I,height:j+4})})}),i.jsxs("g",{transform:`translate(${ue.left}, ${ue.top})`,children:[i.jsxs("g",{clipPath:"url(#clip-content)",children:[i.jsx(_i,{lines:E,viewportXScale:T.viewportX,viewportYScale:T.viewportY,xValue:T.xValue,yValue:T.yValue,navigate:x}),p&&i.jsx("circle",{cx:T.viewportX(T.xValue(p.report)),cy:T.viewportY(T.yValue(p.report)),r:5,fill:p.line.color,stroke:"#fff",strokeWidth:1.5})]}),i.jsx(kt,{baseScale:T.baseX,viewportScale:T.viewportX,orientation:"bottom",transform:`translate(0, ${T.baseY.range()[0]})`,isLogScale:o==="log",zoomState:T.constrainedTransform}),i.jsx(kt,{baseScale:T.baseY,viewportScale:T.viewportY,orientation:"left",isLogScale:c==="log",zoomState:T.constrainedTransform})]})]})})}function Ei(){const t=W.c(2);let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=["rgb(255, 198, 128)","rgb(240, 136, 62)","rgb(219, 109, 40)","rgb(189, 86, 29)","rgb(155, 66, 21)","rgb(118, 45, 10)","rgb(90, 30, 2)"],t[0]=e):e=t[0];const s=e;let n;return t[1]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsxs("div",{className:"coverage-graph__color-legend",children:[i.jsx("span",{children:"Older"}),i.jsx("div",{style:{display:"flex",gap:"2px"},children:s.map(Mi)}),i.jsx("span",{children:"Newer"})]}),t[1]=n):n=t[1],n}function Mi(t,e){return i.jsx("div",{className:"coverage-graph__color-legend__square",style:{backgroundColor:t}},e)}function ts(t){const e=W.c(38),{tests:s,filterString:n,workers_after:r,workerViews:l,workerViewSetting:o}=t,a=n===void 0?"":n,c=r===void 0?null:r;let f;e[0]!==l?(f=l===void 0?["linearized","individual","latest"]:l,e[0]=l,e[1]=f):f=e[1];const m=f;let[u,d]=ce(o,"linearized");const x=ee(Array.from(s.values()).flatMap(Ti)).size==1;x&&(u="linearized");let y;e[2]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx("div",{className:"card__header",style:{marginBottom:"1rem"},children:"Coverage"}),e[2]=y):y=e[2];const b=u==="individual"?"space-between":"flex-end",_=u==="individual"?"center":"default";let p;e[3]!==b||e[4]!==_?(p={display:"flex",justifyContent:b,alignItems:_,marginBottom:"1rem"},e[3]=b,e[4]=_,e[5]=p):p=e[5];let g;e[6]!==u?(g=u==="individual"&&i.jsx(Ei,{}),e[6]=u,e[7]=g):g=e[7];const v=u,w=d;let k;e[8]!==m?(k=m.map(Ai),e[8]=m,e[9]=k):k=e[9];let S;e[10]!==x||e[11]!==d||e[12]!==k||e[13]!==u?(S=i.jsx(xe,{value:v,onChange:w,options:k,disabled:x}),e[10]=x,e[11]=d,e[12]=k,e[13]=u,e[14]=S):S=e[14];let E;e[15]!==x?(E=x&&i.jsx("span",{className:"tooltip__text",children:"Switching display mode requires multiple workers"}),e[15]=x,e[16]=E):E=e[16];let A;e[17]!==S||e[18]!==E?(A=i.jsxs("span",{className:"tooltip",children:[S,E]}),e[17]=S,e[18]=E,e[19]=A):A=e[19];let I;e[20]!==A||e[21]!==p||e[22]!==g?(I=i.jsxs("div",{style:p,children:[g,A]}),e[20]=A,e[21]=p,e[22]=g,e[23]=I):I=e[23];let j,R;e[24]===Symbol.for("react.memo_cache_sentinel")?(j={marginRight:"15px",flex:1,height:"auto"},R=i.jsx(Ri,{}),e[24]=j,e[25]=R):(j=e[24],R=e[25]);let N;e[26]!==a||e[27]!==s||e[28]!==u||e[29]!==c?(N=i.jsx(Ci,{tests:s,viewSetting:u,workers_after:c,filterString:a}),e[26]=a,e[27]=s,e[28]=u,e[29]=c,e[30]=N):N=e[30];let L,T;e[31]===Symbol.for("react.memo_cache_sentinel")?(L=i.jsx("div",{}),T=i.jsx($i,{}),e[31]=L,e[32]=T):(L=e[31],T=e[32]);let $;e[33]!==N?($=i.jsx("div",{className:"coverage-graph__container",children:i.jsxs("div",{className:"coverage-graph__grid",style:j,children:[R,N,L,T]})}),e[33]=N,e[34]=$):$=e[34];let C;return e[35]!==I||e[36]!==$?(C=i.jsxs("div",{className:"card",children:[y,I,$]}),e[35]=I,e[36]=$,e[37]=C):C=e[37],C}function Ai(t){return{value:t,content:Rt[t].content,mobileContent:Rt[t].mobileContent}}function Ti(t){return Array.from(t.reports_by_worker.values())}const ge={[Q.FAILED_FATALLY]:"Failed fatally",[Q.FAILED]:"Failed",[Q.SHRINKING]:"Shrinking",[Q.RUNNING]:"Running",[Q.SKIPPED_DYNAMICALLY]:"Skipped dynamically",[Q.WAITING]:"Waiting"};function it(t){const e=W.c(3),{status:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={textAlign:"center"},e[0]=n):n=e[0];let r;return e[1]!==s?(r=i.jsx("span",{style:n,children:s===Q.FAILED_FATALLY?i.jsx("span",{className:"pill pill__failure",children:ge[s]}):s===Q.FAILED?i.jsx("span",{className:"pill pill__failure",children:ge[s]}):s===Q.SHRINKING?i.jsx("span",{className:"pill pill__warning",children:ge[s]}):s===Q.RUNNING?i.jsx("span",{className:"pill pill__success",children:ge[s]}):i.jsx("span",{className:"pill pill__neutral",children:ge[s]})}),e[1]=s,e[2]=r):r=e[2],r}function ae(t){const e=W.c(5),{content:s,tooltip:n}=t;let r;e[0]!==n?(r=i.jsx("div",{className:"tooltip__text",children:n}),e[0]=n,e[1]=r):r=e[1];let l;return e[2]!==s||e[3]!==r?(l=i.jsxs("span",{className:"tooltip tooltip--underline",children:[s,r]}),e[2]=s,e[3]=r,e[4]=l):l=e[4],l}function ss(t){const e=Math.floor(t/3600),s=Math.floor(t%3600/60),n=Math.floor(t%60);return`${e>0?`${e}:${s.toString().padStart(2,"0")}`:s}:${n.toString().padStart(2,"0")}`}function ns(t){const e=t.ninputs(null),s=t.elapsed_time(null);return s===0?null:e/s}function Li(t){return je(parseFloat(t.toPrecision(3)))}function Pi(t){return(t*100).toFixed(0)}function je(t){if(!Number.isFinite(t))return String(t);const e=t<0?"-":"",s=Math.abs(t);if(s<1e3)return`${e}${s.toLocaleString()}`;const n=["k","M","B"],r=Math.min(Math.floor(Math.log10(s)/3),n.length),l=1e3**r,o=s/l,a=o<100?1:0,c=o.toFixed(a);return`${e}${c}${n[r-1]}`}function rt(t){if(t.linear_reports.length===0)return{inputs:"—",behaviors:"—",fingerprints:"—",executions:"—",inputsSinceBranch:"—",timeSpent:"—",stability:"—"};const e=ns(t);return{inputs:je(t.ninputs(null)),behaviors:je(t.behaviors),fingerprints:je(t.fingerprints),executions:e===null?"—":`${Li(e)}/s`,inputsSinceBranch:t.since_new_behavior?je(t.since_new_behavior):"—",timeSpent:ss(t.elapsed_time(null)),stability:t.stability===null?"—":t.stability==1?i.jsx(ae,{content:i.jsx(Y,{icon:At}),tooltip:"100% stability"}):`${Pi(t.stability)}%`}}Me.registerLanguage("python",Ht);function Ii(t){const e=W.c(3),{failure:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={textAlign:"center"},e[0]=n):n=e[0];let r;return e[1]!==s.state?(r=i.jsx("span",{style:n,children:s.state==="shrunk"?i.jsx("span",{className:"pill pill__neutral",children:"Fully shrunk"}):s.state==="unshrunk"?i.jsx("span",{className:"pill pill__neutral",children:"Still shrinking..."}):i.jsx(i.Fragment,{})}),e[1]=s.state,e[2]=r):r=e[2],r}function Di(t){const e=W.c(18),{failure:s}=t;let n,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={display:"flex",alignItems:"center",gap:"0.7rem",marginBottom:"1rem"},r=i.jsx("div",{className:"failure__title",children:"Failure"}),e[0]=n,e[1]=r):(n=e[0],r=e[1]);let l;e[2]!==s?(l=i.jsxs("div",{style:n,children:[r,i.jsx(Ii,{failure:s})]}),e[2]=s,e[3]=l):l=e[3];let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=i.jsx("div",{className:"failure__item__subtitle",children:"Call"}),e[4]=o):o=e[4];const a=s.observation.metadata.get("reproduction_decorator")+`
`+s.observation.representation;let c;e[5]!==a?(c=i.jsx("pre",{children:i.jsx("code",{className:"language-python",children:a})}),e[5]=a,e[6]=c):c=e[6];let f;e[7]===Symbol.for("react.memo_cache_sentinel")?(f=i.jsx("div",{className:"failure__item__subtitle",children:"Traceback"}),e[7]=f):f=e[7];let m;e[8]!==s.observation.metadata?(m=s.observation.metadata.get("traceback"),e[8]=s.observation.metadata,e[9]=m):m=e[9];let u;e[10]!==m?(u=i.jsx("pre",{children:i.jsx("code",{className:"language-python",children:m})}),e[10]=m,e[11]=u):u=e[11];let d;e[12]!==c||e[13]!==u?(d=i.jsxs("div",{className:"failure__item",children:[o,c,f,u]}),e[12]=c,e[13]=u,e[14]=d):d=e[14];let h;return e[15]!==d||e[16]!==l?(h=i.jsxs("div",{className:"card",children:[l,d]}),e[15]=d,e[16]=l,e[17]=h):h=e[17],h}function Fi(t){const e=W.c(5),{failure:s}=t;let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsx("div",{className:"failure__title",children:"Fatal failure"}),e[0]=n):n=e[0];let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=i.jsx("div",{className:"failure__item__subtitle",children:"Traceback"}),e[1]=r):r=e[1];let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l={whiteSpace:"pre-wrap"},e[2]=l):l=e[2];let o;return e[3]!==s.traceback?(o=i.jsxs("div",{className:"card",children:[n,i.jsxs("div",{className:"failure__item",children:[r,i.jsx("pre",{children:i.jsx("code",{className:"language-python",style:l,children:s.traceback})})]})]}),e[3]=s.traceback,e[4]=o):o=e[4],o}function Xi(){const t=W.c(55),{nodeid:e}=us(),{tests:s}=ft(e),n=M.useRef(null),[r,l]=M.useState(null);let o,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{qt().then(D=>{l(D)})},a=[],t[0]=o,t[1]=a):(o=t[0],a=t[1]),M.useEffect(o,a);let c;if(t[2]!==e||t[3]!==s){const D=s.get(e);c=D?new De(D.database_key,D.nodeid,D.rolling_observations,D.corpus_observations,D.failures,D.fatal_failure,D.reports_by_worker,D.stability):null,t[2]=e,t[3]=s,t[4]=c}else c=t[4];const f=c;let m,u;if(t[5]!==f?(m=()=>{f&&Ut(n)},u=[f],t[5]=f,t[6]=m,t[7]=u):(m=t[6],u=t[7]),M.useEffect(m,u),!e||!f){let D;return t[8]===Symbol.for("react.memo_cache_sentinel")?(D=i.jsx("div",{children:"Test not found"}),t[8]=D):D=t[8],D}let d;t[9]!==f?(d=rt(f),t[9]=f,t[10]=d):d=t[10];const h=d;let x;t[11]===Symbol.for("react.memo_cache_sentinel")?(x={content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:$e})}),tooltip:"Number of inputs"})},t[11]=x):x=t[11];let y;t[12]===Symbol.for("react.memo_cache_sentinel")?(y={content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Ne})}),tooltip:"Number of behaviors (typically branches) found"})},t[12]=y):y=t[12];let b;t[13]===Symbol.for("react.memo_cache_sentinel")?(b={content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:ke})}),tooltip:"Number of fingerprints (sets of behaviors) found"})},t[13]=b):b=t[13];let _;t[14]===Symbol.for("react.memo_cache_sentinel")?(_={content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Tt})}),tooltip:"Inputs per second"})},t[14]=_):_=t[14];let p;t[15]===Symbol.for("react.memo_cache_sentinel")?(p={content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Lt})}),tooltip:"Number of inputs since a new behavior"})},t[15]=p):p=t[15];let g;t[16]===Symbol.for("react.memo_cache_sentinel")?(g={content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Re})}),tooltip:"Total time spent running"})},t[16]=g):g=t[16];let v;t[17]===Symbol.for("react.memo_cache_sentinel")?(v=[x,y,b,_,p,g,{content:i.jsx(ae,{content:i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:Pt})}),tooltip:"Coverage stability (percentage of inputs with deterministic coverage when replayed)"})}],t[17]=v):v=t[17];const w=v;let k;t[18]===Symbol.for("react.memo_cache_sentinel")?(k=i.jsxs(he,{to:"/",className:"back-link",children:[i.jsx(Y,{icon:Ms})," All tests"]}),t[18]=k):k=t[18];let S,E;t[19]===Symbol.for("react.memo_cache_sentinel")?(S={display:"flex",alignItems:"center",gap:"0.7rem"},E={wordBreak:"break-all",fontSize:"1.5rem",fontWeight:"bold"},t[19]=S,t[20]=E):(S=t[19],E=t[20]);let A;t[21]!==e?(A=i.jsx("span",{style:E,children:e}),t[21]=e,t[22]=A):A=t[22];let I;t[23]!==f.status?(I=i.jsx(it,{status:f.status}),t[23]=f.status,t[24]=I):I=t[24];let j;t[25]!==A||t[26]!==I?(j=i.jsxs("div",{style:S,children:[A,I]}),t[25]=A,t[26]=I,t[27]=j):j=t[27];let R;t[28]===Symbol.for("react.memo_cache_sentinel")?(R={paddingTop:"1rem",paddingBottom:"1rem"},t[28]=R):R=t[28];let N;t[29]!==h?(N=i.jsx("div",{style:R,children:i.jsx(mt,{headers:w,data:[h],row:Bi})}),t[29]=h,t[30]=N):N=t[30];let L;t[31]!==j||t[32]!==N?(L=i.jsxs("div",{className:"card",children:[j,N]}),t[31]=j,t[32]=N,t[33]=L):L=t[33];let T;t[34]!==e||t[35]!==f?(T=new Map([[e,f]]),t[34]=e,t[35]=f,t[36]=T):T=t[36];let $;t[37]!==T?($=i.jsx(ts,{tests:T,workerViewSetting:"graph_worker_view_test"}),t[37]=T,t[38]=$):$=t[38];let C;t[39]!==f.normalFailures?(C=f.normalFailures.map(Oi),t[39]=f.normalFailures,t[40]=C):C=t[40];let F;t[41]!==f.fatal_failure?(F=f.fatal_failure&&i.jsx(Fi,{failure:f.fatal_failure}),t[41]=f.fatal_failure,t[42]=F):F=t[42];let O;t[43]!==f?(O=i.jsx(Dn,{test:f}),t[43]=f,t[44]=O):O=t[44];let P;t[45]!==e||t[46]!==r?(P=(r==null?void 0:r.includes(e))&&i.jsx("div",{className:"card",children:i.jsx(at,{title:"Patches",defaultState:"closed",headerClass:"card__header",children:i.jsx(Zt,{nodeid:e})})}),t[45]=e,t[46]=r,t[47]=P):P=t[47];let X;return t[48]!==L||t[49]!==$||t[50]!==C||t[51]!==F||t[52]!==O||t[53]!==P?(X=i.jsxs("div",{ref:n,children:[k,L,$,C,F,O,P]}),t[48]=L,t[49]=$,t[50]=C,t[51]=F,t[52]=O,t[53]=P,t[54]=X):X=t[54],X}function Oi(t){return i.jsx(Di,{failure:t})}function Bi(t){return[i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.inputs}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.behaviors}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.fingerprints}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.executions}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.inputsSinceBranch}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.timeSpent}),i.jsx("div",{style:{fontVariantNumeric:"tabular-nums"},children:t.stability})]}function me(t){const e=W.c(5),{icon:s,tooltip:n}=t;let r;e[0]!==s?(r=i.jsx("div",{className:"table__header__icon",children:i.jsx(Y,{icon:s})}),e[0]=s,e[1]=r):r=e[1];let l;return e[2]!==r||e[3]!==n?(l=i.jsx(ae,{content:r,tooltip:n}),e[2]=r,e[3]=n,e[4]=l):l=e[4],l}function pe(t){const e=W.c(5),{icon:s,value:n}=t;let r;e[0]!==n?(r=i.jsx("span",{className:"table__inline-statistic__value",children:n}),e[0]=n,e[1]=r):r=e[1];let l;return e[2]!==s||e[3]!==r?(l=i.jsxs("div",{className:"table__inline-statistic",children:[s,r]}),e[2]=s,e[3]=r,e[4]=l):l=e[4],l}function Vi(t){const e=W.c(22),{tests:s,onFilterChange:n}=t;let r,l;e[0]!==s?(r=Array.from(s).sortKey(tr).map(er),l=zt(r.map(Qi)),e[0]=s,e[1]=r,e[2]=l):(r=e[1],l=e[2]);const o=l;let a;e[3]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsx(me,{icon:$e,tooltip:"Number of inputs"}),e[3]=a):a=e[3];const c=a;let f;e[4]===Symbol.for("react.memo_cache_sentinel")?(f=i.jsx(me,{icon:Ne,tooltip:"Number of behaviors (typically branches) found"}),e[4]=f):f=e[4];const m=f;let u;e[5]===Symbol.for("react.memo_cache_sentinel")?(u=i.jsx(me,{icon:ke,tooltip:"Number of fingerprints (sets of behaviors) found"}),e[5]=u):u=e[5];const d=u;let h;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=i.jsx(me,{icon:Tt,tooltip:"Inputs per second"}),e[6]=h):h=e[6];const x=h;let y;e[7]===Symbol.for("react.memo_cache_sentinel")?(y=i.jsx(me,{icon:Lt,tooltip:"Number of inputs since a new behavior"}),e[7]=y):y=e[7];const b=y;let _;e[8]===Symbol.for("react.memo_cache_sentinel")?(_=i.jsx(me,{icon:Re,tooltip:"Total time spent running"}),e[8]=_):_=e[8];const p=_;let g;e[9]===Symbol.for("react.memo_cache_sentinel")?(g=i.jsx(me,{icon:Pt,tooltip:"Coverage stability (percentage of inputs with deterministic coverage when replayed)"}),e[9]=g):g=e[9];const v=g;let w;e[10]===Symbol.for("react.memo_cache_sentinel")?(w=[{content:"Test",sortKey:Zi},{content:"Status",sortKey:Ji,align:"center"},{content:c,align:"right",sortKey:qi},{content:m,align:"right",sortKey:Gi},{content:d,align:"right",sortKey:Hi},{content:x,align:"right",sortKey:Ki},{content:b,align:"right",sortKey:zi},{content:p,align:"right",sortKey:Yi},{content:v,align:"right",sortKey:Wi}],e[10]=w):w=e[10];const k=w;let S;e[11]!==o.length?(S=T=>{const $=rt(T),C=T.nodeid.slice(o.length);return[i.jsx(he,{to:`/tests/${encodeURIComponent(T.nodeid)}`,className:"test__link",style:{wordBreak:"break-all"},children:C}),i.jsx("div",{style:{textAlign:"center"},children:i.jsx(it,{status:T.status})}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:$.inputs}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:$.behaviors}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:$.fingerprints}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:$.executions}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:$.inputsSinceBranch}),i.jsx("div",{style:{textAlign:"right",fontVariantNumeric:"tabular-nums"},children:$.timeSpent}),i.jsx("div",{style:{textAlign:"center",fontVariantNumeric:"tabular-nums"},children:$.stability})]},e[11]=o.length,e[12]=S):S=e[12];const E=S;let A;e[13]!==o.length?(A=function($){const C=rt($),F=$.nodeid.slice(o.length);return i.jsxs("div",{className:"table__mobile-row",children:[i.jsxs("div",{className:"table__mobile-row__header",children:[i.jsx(he,{to:`/tests/${encodeURIComponent($.nodeid)}`,className:"test__link",style:{wordBreak:"break-all"},children:F}),i.jsx(it,{status:$.status})]}),i.jsxs("div",{className:"table__mobile-row__statistics",children:[i.jsx(pe,{icon:c,value:C.inputs}),i.jsx(pe,{icon:m,value:C.behaviors}),i.jsx(pe,{icon:x,value:C.executions}),i.jsx(pe,{icon:b,value:C.inputsSinceBranch}),i.jsx(pe,{icon:p,value:C.timeSpent}),i.jsx(pe,{icon:v,value:C.stability})]})]})},e[13]=o.length,e[14]=A):A=e[14];const I=A;let j;e[15]===Symbol.for("react.memo_cache_sentinel")?(j=function($){return[$.nodeid,ge[$.status]]},e[15]=j):j=e[15];const R=j;let N;e[16]===Symbol.for("react.memo_cache_sentinel")?(N=i.jsx("div",{className:"card__header",children:"Tests"}),e[16]=N):N=e[16];let L;return e[17]!==I||e[18]!==n||e[19]!==E||e[20]!==r?(L=i.jsxs("div",{className:"card",children:[N,i.jsx(mt,{headers:k,data:r,row:E,mobileRow:I,getKey:Ui,filterStrings:R,onFilterChange:n,perPage:50})]}),e[17]=I,e[18]=n,e[19]=E,e[20]=r,e[21]=L):L=e[21],L}function Ui(t){return t.database_key??void 0}function Wi(t){return t.stability??0}function Yi(t){return t.elapsed_time(null)}function zi(t){return t.since_new_behavior??0}function Ki(t){return ns(t)??-1}function Hi(t){return t.fingerprints}function Gi(t){return t.behaviors}function qi(t){return t.ninputs(null)}function Ji(t){return t.status}function Zi(t){return t.nodeid}function Qi(t){return t.nodeid}function er(t){const[,e]=t;return e}function tr(t){const[e,s]=t,n=s.ninputs(null);return[s.status,n!=null?-n:-1,e]}function sr(){const t=W.c(9),{tests:e}=ft(),[s,n]=M.useState("");let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[nt.TOGETHER,nt.LATEST],t[0]=r):r=t[0];let l;t[1]!==s||t[2]!==e?(l=i.jsx(ts,{tests:e,filterString:s,workerViews:r,workerViewSetting:"graph_worker_view_tests"}),t[1]=s,t[2]=e,t[3]=l):l=t[3];let o;t[4]!==e?(o=i.jsx(Vi,{tests:e,onFilterChange:n}),t[4]=e,t[5]=o):o=t[5];let a;return t[6]!==l||t[7]!==o?(a=i.jsxs("div",{className:"dashboard",children:[l,o]}),t[6]=l,t[7]=o,t[8]=a):a=t[8],a}function nr(t){const e=W.c(43),{min:s,max:n,value:r,onChange:l,step:o}=t,a=o===void 0?1:o,[c,f]=M.useState(null),m=M.useRef(null);console.assert(s<=n,`min: ${s} max: ${n}`);const[u,d]=r,h=n-s,x=h===0?0:(u-s)/h*100,y=h===0?100:(d-s)/h*100,b=x<50?1:2,_=y<50?2:1;let p;e[0]!==n||e[1]!==s||e[2]!==h||e[3]!==a?(p=B=>{if(!m.current)return s;const H=m.current.getBoundingClientRect(),q=Math.max(0,Math.min(100,(B-H.left)/H.width*100)),Z=s+q/100*h,K=Math.round(Z/a)*a;return Math.max(s,Math.min(n,K))},e[0]=n,e[1]=s,e[2]=h,e[3]=a,e[4]=p):p=e[4];const g=p;let v;e[5]===Symbol.for("react.memo_cache_sentinel")?(v=B=>H=>{H.preventDefault(),f(B)},e[5]=v):v=e[5];const w=v;let k;e[6]!==c||e[7]!==g||e[8]!==d||e[9]!==u||e[10]!==l?(k=B=>{if(!c)return;const H=g(B.clientX);l(c==="min"?[Math.min(H,d),d]:[u,Math.max(H,u)])},e[6]=c,e[7]=g,e[8]=d,e[9]=u,e[10]=l,e[11]=k):k=e[11];const S=k;let E;e[12]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{f(null)},e[12]=E):E=e[12];const A=E;let I;e[13]!==c||e[14]!==g||e[15]!==d||e[16]!==u||e[17]!==l?(I=B=>{if(c)return;const H=g(B.clientX),q=Math.abs(H-u),Z=Math.abs(H-d);q<Z?(l([Math.min(H,d),d]),f("min")):(l([u,Math.max(H,u)]),f("max"))},e[13]=c,e[14]=g,e[15]=d,e[16]=u,e[17]=l,e[18]=I):I=e[18];const j=I;let R,N;e[19]!==c||e[20]!==S?(R=()=>c?(document.addEventListener("mousemove",S),document.addEventListener("mouseup",A),()=>{document.removeEventListener("mousemove",S),document.removeEventListener("mouseup",A)}):ir,N=[c,S,A],e[19]=c,e[20]=S,e[21]=R,e[22]=N):(R=e[21],N=e[22]),M.useEffect(R,N);const L=`${x}%`,T=`${y-x}%`;let $;e[23]!==T||e[24]!==L?($=i.jsx("div",{className:"range-slider__range",style:{left:L,width:T}}),e[23]=T,e[24]=L,e[25]=$):$=e[25];const C=`${x}%`;let F;e[26]!==C||e[27]!==b?(F={left:C,zIndex:b},e[26]=C,e[27]=b,e[28]=F):F=e[28];let O;e[29]===Symbol.for("react.memo_cache_sentinel")?(O=w("min"),e[29]=O):O=e[29];let P;e[30]!==F?(P=i.jsx("div",{className:"range-slider__thumb range-slider__thumb--min",style:F,onMouseDown:O}),e[30]=F,e[31]=P):P=e[31];const X=`${y}%`;let D;e[32]!==X||e[33]!==_?(D={left:X,zIndex:_},e[32]=X,e[33]=_,e[34]=D):D=e[34];let U;e[35]===Symbol.for("react.memo_cache_sentinel")?(U=w("max"),e[35]=U):U=e[35];let z;e[36]!==D?(z=i.jsx("div",{className:"range-slider__thumb range-slider__thumb--max",style:D,onMouseDown:U}),e[36]=D,e[37]=z):z=e[37];let V;return e[38]!==j||e[39]!==$||e[40]!==P||e[41]!==z?(V=i.jsx("div",{className:"range-slider",children:i.jsx("div",{className:"range-slider__container",children:i.jsxs("div",{ref:m,className:"range-slider__track",onMouseDown:j,children:[$,P,z]})})}),e[38]=j,e[39]=$,e[40]=P,e[41]=z,e[42]=V):V=e[42],V}function ir(){}let rr=class{constructor(e,s){this.uuid=e,this.segments=s}visibleSegments(e){return this.segments.filter(s=>s.end>=e[0]&&s.start<=e[1])}};const et=[{label:"Latest",duration:null},{label:"1 hour",duration:1*60*60},{label:"1 day",duration:24*60*60},{label:"7 days",duration:7*24*60*60},{label:"1 month",duration:30*24*60*60},{label:"3 months",duration:90*24*60*60}];function Oe(t){return new Date(t*1e3).toLocaleString()}const lr=5*60;function or(t){if(console.assert(t.every((r,l)=>l===0||r.start>=t[l-1].start)),t.length==0)return[];let e=[],s=t[0].start,n=t[0].end;for(const r of t)r.start>n+lr&&(e.push([s,n]),s=r.start),n=Math.max(n,r.end);return e.push([s,n]),e}function ar(t){let e=0;for(let l=0;l<t.length;l++)e=(e<<5)-e+t.charCodeAt(l)&4294967295;const s=Math.abs(e)%360,n=45+Math.abs(e>>8)%30,r=45+Math.abs(e>>16)%20;return`hsl(${s}, ${n}%, ${r}%)`}function Pe(t){const e=W.c(7),{label:s,value:n}=t;let r;e[0]!==s?(r=i.jsx("span",{className:"workers__worker__details__label",children:s}),e[0]=s,e[1]=r):r=e[1];let l;e[2]!==n?(l=i.jsx("span",{className:"workers__worker__details__value",children:n}),e[2]=n,e[3]=l):l=e[3];let o;return e[4]!==r||e[5]!==l?(o=i.jsxs("div",{className:"workers__worker__details__item",children:[r,l]}),e[4]=r,e[5]=l,e[6]=o):o=e[6],o}const cr=t=>{const e=W.c(34),{worker:s,range:n,expandedWorkers:r,onWorkerClick:l,segmentStyle:o,navigate:a,showTooltip:c,hideTooltip:f,moveTooltip:m}=t,u=s.uuid,d=`workers__worker${r.has(s.uuid)?" workers__worker--expanded":""}`;let h;e[0]!==l||e[1]!==s.uuid?(h=()=>l(s.uuid),e[0]=l,e[1]=s.uuid,e[2]=h):h=e[2];let x;e[3]!==f?(x=()=>f("workers"),e[3]=f,e[4]=x):x=e[4];let y;e[5]!==f?(y=()=>f("workers"),e[5]=f,e[6]=y):y=e[6];let b;if(e[7]!==f||e[8]!==m||e[9]!==a||e[10]!==n||e[11]!==o||e[12]!==c||e[13]!==s){let v;e[15]!==f||e[16]!==m||e[17]!==a||e[18]!==o||e[19]!==c?(v=(w,k)=>i.jsx("div",{className:"workers__timeline__segment",style:o(w),onClick:S=>{Wt(S,`/tests/${encodeURIComponent(w.nodeid)}`,a),S.stopPropagation()},onMouseEnter:S=>c(Yt(w.nodeid),S.clientX,S.clientY,"workers"),onMouseLeave:()=>f("workers"),onMouseMove:S=>m(S.clientX,S.clientY,"workers")},k),e[15]=f,e[16]=m,e[17]=a,e[18]=o,e[19]=c,e[20]=v):v=e[20],b=s.visibleSegments(n).map(v),e[7]=f,e[8]=m,e[9]=a,e[10]=n,e[11]=o,e[12]=c,e[13]=s,e[14]=b}else b=e[14];let _;e[21]!==y||e[22]!==b?(_=i.jsx("div",{className:"workers__worker__bar",onMouseLeave:y,children:b}),e[21]=y,e[22]=b,e[23]=_):_=e[23];let p;e[24]!==r||e[25]!==s?(p=r.has(s.uuid)&&i.jsx(ur,{worker:s}),e[24]=r,e[25]=s,e[26]=p):p=e[26];let g;return e[27]!==d||e[28]!==h||e[29]!==x||e[30]!==_||e[31]!==p||e[32]!==s.uuid?(g=i.jsxs("div",{className:d,onClick:h,onMouseLeave:x,children:[_,p]},u),e[27]=d,e[28]=h,e[29]=x,e[30]=_,e[31]=p,e[32]=s.uuid,e[33]=g):g=e[33],g},ur=t=>{const e=W.c(19),{worker:s}=t;let n;e[0]!==s.uuid?(n=i.jsx(Pe,{label:"Worker UUID",value:s.uuid}),e[0]=s.uuid,e[1]=n):n=e[1];const r=s.segments[s.segments.length-1].end-s.segments[0].start;let l;e[2]!==r?(l=ss(r),e[2]=r,e[3]=l):l=e[3];let o;e[4]!==l?(o=i.jsx(Pe,{label:"Lifetime",value:l}),e[4]=l,e[5]=o):o=e[5];let a;e[6]!==s.segments[0].start?(a=Oe(s.segments[0].start),e[6]=s.segments[0].start,e[7]=a):a=e[7];let c;e[8]!==a?(c=i.jsx(Pe,{label:"Started",value:a}),e[8]=a,e[9]=c):c=e[9];const f=s.segments[s.segments.length-1];let m;e[10]!==f.end?(m=Oe(f.end),e[10]=f.end,e[11]=m):m=e[11];let u;e[12]!==m?(u=i.jsx(Pe,{label:"Last seen",value:m}),e[12]=m,e[13]=u):u=e[13];let d;return e[14]!==n||e[15]!==o||e[16]!==c||e[17]!==u?(d=i.jsx("div",{className:"workers__worker__details",children:i.jsxs("div",{className:"workers__worker__details__grid",children:[n,o,c,u]})}),e[14]=n,e[15]=o,e[16]=c,e[17]=u,e[18]=d):d=e[18],d};function fr(){const t=W.c(28),{tests:e}=ft(),s=Et(),{showTooltip:n,hideTooltip:r,moveTooltip:l}=Ve();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=new Set,t[0]=o):o=t[0];const[a,c]=M.useState(o),[f,m]=M.useState(et[0]),[u,d]=M.useState(null),[h,x]=M.useState(!1),y=function(G){d(G),x((G==null?void 0:G[1])==g)},b=As(Array.from(e.values()).map(gr).flat().sortKey(pr)),_=new Map;b.forEach(K=>{const G=[];_.set(K,G),Array.from(e.values()).forEach(J=>{if(!J.reports_by_worker.has(K))return;const te=J.reports_by_worker.get(K);G.push(...te.map(se=>({timestamp_monotonic:se.timestamp_monotonic,nodeid:J.nodeid})))}),G.sortKey(_r)});let p=1/0,g=-1/0;const v=[];b.forEach(K=>{const G=_.get(K),J=[];let te=null;G.forEach((se,le)=>{p=Math.min(p,se.timestamp_monotonic),g=Math.max(g,se.timestamp_monotonic),!te||te.nodeid!==se.nodeid?(te&&J.push(te),te={nodeid:se.nodeid,start:se.timestamp_monotonic,end:se.timestamp_monotonic}):te.end=se.timestamp_monotonic,le===G.length-1&&te&&J.push(te)}),v.push(new rr(K,J))}),v.sortKey(hr);const w=v.flatMap(dr).sortKey(mr),k=or(w),S=g-p;let E;t[1]!==S?(E=K=>K.duration!==null&&K.duration>=S,t[1]=S,t[2]=E):E=t[2];const A=et.findIndex(E),j=function(){if(f.duration===null){const se=k[k.length-1];return k.length>0?[se[0],se[1]]:[p,g]}const G=[Math.max(p,g-f.duration),g];let J=null,te=null;for(const se of v){const le=se.visibleSegments(G);le.length!==0&&((J===null||le[0].start<J)&&(J=le[0].start),(te===null||le[le.length-1].end>te)&&(te=le[le.length-1].end))}return[J??G[0],te??G[1]]}(),R=[...u??j];h&&u&&(R[1]=g);let N;t[3]!==y?(N=()=>{y(null)},t[3]=y,t[4]=N):N=t[4];let L;t[5]!==f?(L=[f],t[5]=f,t[6]=L):L=t[6],M.useEffect(N,L);const[T,$]=R,C=$-T,F=K=>{let G,J;return C===0?(G=0,J=100):(G=(K.start-T)/C*100,J=(K.end-K.start)/C*100),J=Math.max(J,.1),{left:`${G}%`,width:`${J}%`,backgroundColor:ar(K.nodeid)}},O=K=>{c(G=>{const J=new Set(G);return J.has(K)?J.delete(K):J.add(K),J})};let P;t[7]===Symbol.for("react.memo_cache_sentinel")?(P=i.jsx("div",{className:"card__header",children:"Workers "}),t[7]=P):P=t[7];let X;t[8]===Symbol.for("react.memo_cache_sentinel")?(X=i.jsxs("div",{className:"card__text",children:[i.jsx("div",{className:"card__text__paragraph",children:"This page shows the history of your workers, and what tests they have been fuzzing."}),i.jsx("div",{className:"card__text__paragraph",children:'Roughly speaking, "one worker" = "one CPU core".'})]}),t[8]=X):X=t[8];let D;t[9]!==A||t[10]!==f.label||t[11]!==y?(D=et.map((K,G)=>{const J=G<=A;return i.jsx("div",{className:`workers__durations__button ${f.label===K.label?"workers__durations__button--active":""} ${J?"":"workers__durations__button--disabled"}`,onClick:()=>{J&&(m(K),y(null))},children:K.label},G)}),t[9]=A,t[10]=f.label,t[11]=y,t[12]=D):D=t[12];let U;t[13]!==D?(U=i.jsx("div",{className:"workers__durations",children:D}),t[13]=D,t[14]=U):U=t[14];let z;t[15]!==y?(z=K=>y(K),t[15]=y,t[16]=z):z=t[16];let V;t[17]!==T?(V=Oe(T),t[17]=T,t[18]=V):V=t[18];let B;t[19]!==V?(B=i.jsx("span",{className:"workers__timeline-header__label",children:V}),t[19]=V,t[20]=B):B=t[20];let H;t[21]!==$?(H=Oe($),t[21]=$,t[22]=H):H=t[22];let q;t[23]!==H?(q=i.jsx("span",{className:"workers__timeline-header__label",children:H}),t[23]=H,t[24]=q):q=t[24];let Z;return t[25]!==B||t[26]!==q?(Z=i.jsxs("div",{className:"workers__timeline-header",children:[B,q]}),t[25]=B,t[26]=q,t[27]=Z):Z=t[27],i.jsxs("div",{className:"card",children:[P,i.jsxs("div",{className:"card__body",children:[X,i.jsxs("div",{className:"workers",children:[i.jsxs("div",{className:"workers__controls",children:[U,i.jsx(nr,{min:j[0],max:j[1],value:R,onChange:z,step:(j[1]-j[0])/1e3})]}),Z,v.map(K=>K.visibleSegments(R).length>0&&i.jsx(cr,{worker:K,range:R,expandedWorkers:a,onWorkerClick:O,segmentStyle:F,navigate:s,showTooltip:n,hideTooltip:r,moveTooltip:l},K.uuid))]})]})]})}function mr(t){return t.start}function dr(t){return t.segments}function hr(t){return t.segments[0].start}function _r(t){return t.timestamp_monotonic}function pr(t){return t}function gr(t){return Array.from(t.reports_by_worker.keys())}function xr(){const t=W.c(7),e=fs;let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=i.jsx(Kn,{}),t[0]=s):s=t[0];let n;t[1]===Symbol.for("react.memo_cache_sentinel")?(n=i.jsx(fe,{path:"/",element:i.jsx(sr,{})}),t[1]=n):n=t[1];let r;t[2]===Symbol.for("react.memo_cache_sentinel")?(r=i.jsx(fe,{path:"/patches",element:i.jsx(fi,{})}),t[2]=r):r=t[2];let l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=i.jsx(fe,{path:"/collected",element:i.jsx(ei,{})}),t[3]=l):l=t[3];let o;t[4]===Symbol.for("react.memo_cache_sentinel")?(o=i.jsx(fe,{path:"/workers",element:i.jsx(fr,{})}),t[4]=o):o=t[4];let a;t[5]===Symbol.for("react.memo_cache_sentinel")?(a=i.jsx(fe,{path:"/tests/:nodeid",element:i.jsx(Xi,{})}),t[5]=a):a=t[5];let c;return t[6]===Symbol.for("react.memo_cache_sentinel")?(c=i.jsx(e,{children:i.jsx(Gs,{children:i.jsx(Un,{children:i.jsx(en,{children:i.jsx(ms,{children:i.jsxs(fe,{element:s,children:[n,r,l,o,a,i.jsx(fe,{path:"*",element:i.jsx(oi,{})})]})})})})})}),t[6]=c):c=t[6],c}Ys.createRoot(document.getElementById("app")).render(i.jsx(ds.StrictMode,{children:i.jsx(xr,{})}));
//# sourceMappingURL=index-BjkuG-5C.js.map
